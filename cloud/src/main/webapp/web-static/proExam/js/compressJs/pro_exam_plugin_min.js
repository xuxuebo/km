/**
 * pro_exam_plugin_min.js
 * build at: Thu Jul 13 2017 20:01:31 GMT+0800 (中国标准时间)
 */

function createMethod(t){return function(){throw new Error('The "'+t+"\" method is not available on the playback technology's API")}}document.createElement("video"),document.createElement("audio"),document.createElement("track");var vjs=function(t,e,s){var o;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),vjs.players[t])return vjs.players[t];o=vjs.el(t)}else o=t;if(!o||!o.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return o.player||new vjs.Player(o,e,s)},videojs=vjs;window.videojs=window.vjs=vjs,vjs.CDN_VERSION="4.5",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}},notSupportedMessage:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.players={},"function"==typeof define&&define.amd?define([],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(t){var e,s;t=t||{},e=t.init||t.init||this.prototype.init||this.prototype.init||function(){},s=function(){e.apply(this,arguments)},s.prototype=vjs.obj.create(this.prototype),s.prototype.constructor=s,s.extend=vjs.CoreObject.extend,s.create=vjs.CoreObject.create;for(var o in t)t.hasOwnProperty(o)&&(s.prototype[o]=t[o]);return s},vjs.CoreObject.create=function(){var t=vjs.obj.create(this.prototype);return this.apply(t,arguments),t},vjs.on=function(t,e,s){var o=vjs.getData(t);o.handlers||(o.handlers={}),o.handlers[e]||(o.handlers[e]=[]),s.guid||(s.guid=vjs.guid++),o.handlers[e].push(s),o.dispatcher||(o.disabled=!1,o.dispatcher=function(e){if(!o.disabled){e=vjs.fixEvent(e);var s=o.handlers[e.type];if(s)for(var n=s.slice(0),i=0,r=n.length;i<r&&!e.isImmediatePropagationStopped();i++)n[i].call(t,e)}}),1==o.handlers[e].length&&t&&(document.addEventListener?t.addEventListener(e,o.dispatcher,!1):document.attachEvent&&t.attachEvent("on"+e,o.dispatcher))},vjs.off=function(t,e,s){if(vjs.hasData(t)){var o=vjs.getData(t);if(o.handlers){var n=function(e){o.handlers[e]=[],vjs.cleanUpEvents(t,e)};if(e){var i=o.handlers[e];if(i){if(!s)return void n(e);if(s.guid)for(var r=0;r<i.length;r++)i[r].guid===s.guid&&i.splice(r--,1);vjs.cleanUpEvents(t,e)}}else for(var a in o.handlers)n(a)}}},vjs.cleanUpEvents=function(t,e){var s=vjs.getData(t);0===s.handlers[e].length&&(delete s.handlers[e],document.removeEventListener?t.removeEventListener(e,s.dispatcher,!1):document.detachEvent&&t.detachEvent("on"+e,s.dispatcher)),vjs.isEmpty(s.handlers)&&(delete s.handlers,delete s.dispatcher,delete s.disabled),vjs.isEmpty(s)&&vjs.removeData(t)},vjs.fixEvent=function(t){function e(){return!0}function s(){return!1}if(!t||!t.isPropagationStopped){var o=t||window.event;t={};for(var n in o)"layerX"!==n&&"layerY"!==n&&"keyboardEvent.keyLocation"!==n&&("returnValue"==n&&o.preventDefault||(t[n]=o[n]));if(t.target||(t.target=t.srcElement||document),t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement,t.preventDefault=function(){o.preventDefault&&o.preventDefault(),t.returnValue=!1,t.isDefaultPrevented=e,t.defaultPrevented=!0},t.isDefaultPrevented=s,t.defaultPrevented=!1,t.stopPropagation=function(){o.stopPropagation&&o.stopPropagation(),t.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=s,t.stopImmediatePropagation=function(){o.stopImmediatePropagation&&o.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=s,null!=t.clientX){var i=document.documentElement,r=document.body;t.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)}t.which=t.charCode||t.keyCode,null!=t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t},vjs.trigger=function(t,e){var s=vjs.hasData(t)?vjs.getData(t):{},o=t.parentNode||t.ownerDocument;if("string"==typeof e&&(e={type:e,target:t}),e=vjs.fixEvent(e),s.dispatcher&&s.dispatcher.call(t,e),o&&!e.isPropagationStopped()&&!1!==e.bubbles)vjs.trigger(o,e);else if(!o&&!e.defaultPrevented){var n=vjs.getData(e.target);e.target[e.type]&&(n.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),n.disabled=!1)}return!e.defaultPrevented},vjs.one=function(t,e,s){var o=function(){vjs.off(t,e,o),s.apply(this,arguments)};o.guid=s.guid=s.guid||vjs.guid++,vjs.on(t,e,o)};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(t,e){var s,o;s=document.createElement(t||"div");for(o in e)hasOwnProp.call(e,o)&&(-1!==o.indexOf("aria-")||"role"==o?s.setAttribute(o,e[o]):s[o]=e[o]);return s},vjs.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(t){function e(){}return e.prototype=t,new e},vjs.obj.each=function(t,e,s){for(var o in t)hasOwnProp.call(t,o)&&e.call(s||this,o,t[o])},vjs.obj.merge=function(t,e){if(!e)return t;for(var s in e)hasOwnProp.call(e,s)&&(t[s]=e[s]);return t},vjs.obj.deepMerge=function(t,e){var s,o,n;t=vjs.obj.copy(t);for(s in e)hasOwnProp.call(e,s)&&(o=t[s],n=e[s],vjs.obj.isPlain(o)&&vjs.obj.isPlain(n)?t[s]=vjs.obj.deepMerge(o,n):t[s]=e[s]);return t},vjs.obj.copy=function(t){return vjs.obj.merge({},t)},vjs.obj.isPlain=function(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object},vjs.bind=function(t,e,s){e.guid||(e.guid=vjs.guid++);var o=function(){return e.apply(t,arguments)};return o.guid=s?s+"_"+e.guid:e.guid,o},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(t){var e=t[vjs.expando];return e||(e=t[vjs.expando]=vjs.guid++,vjs.cache[e]={}),vjs.cache[e]},vjs.hasData=function(t){var e=t[vjs.expando];return!(!e||vjs.isEmpty(vjs.cache[e]))},vjs.removeData=function(t){var e=t[vjs.expando];if(e){delete vjs.cache[e];try{delete t[vjs.expando]}catch(e){t.removeAttribute?t.removeAttribute(vjs.expando):t[vjs.expando]=null}}},vjs.isEmpty=function(t){for(var e in t)if(null!==t[e])return!1;return!0},vjs.addClass=function(t,e){-1==(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className=""===t.className?e:t.className+" "+e)},vjs.removeClass=function(t,e){var s,o;if(-1!=t.className.indexOf(e)){for(s=t.className.split(" "),o=s.length-1;o>=0;o--)s[o]===e&&s.splice(o,1);t.className=s.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var t=vjs.USER_AGENT.match(/OS (\d+)_/i);if(t&&t[1])return t[1]}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=function(){var t,e,s=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return s?(t=s[1]&&parseFloat(s[1]),e=s[2]&&parseFloat(s[2]),t&&e?parseFloat(s[1]+"."+s[2]):t||null):null}(),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.getAttributeValues=function(t){var e,s,o,n,i;if(e={},s=",autoplay,controls,loop,muted,default,",t&&t.attributes&&t.attributes.length>0){o=t.attributes;for(var r=o.length-1;r>=0;r--)n=o[r].name,i=o[r].value,"boolean"!=typeof t[n]&&-1===s.indexOf(","+n+",")||(i=null!==i),e[n]=i}return e},vjs.getComputedDimension=function(t,e){var s="";return document.defaultView&&document.defaultView.getComputedStyle?s=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(s=t["client"+e.substr(0,1).toUpperCase()+e.substr(1)]+"px"),s},vjs.insertFirst=function(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},vjs.support={},vjs.el=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),document.getElementById(t)},vjs.formatTime=function(t,e){e=e||t;var s=Math.floor(t%60),o=Math.floor(t/60%60),n=Math.floor(t/3600),i=Math.floor(e/60%60),r=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(n=o=s="-"),n=n>0||r>0?n+":":"",o=((n||i>=10)&&o<10?"0"+o:o)+":",s=s<10?"0"+s:s,n+o+s},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(t){return(t+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(t,e){return e||(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)},vjs.createTimeRange=function(t,e){return{length:1,start:function(){return t},end:function(){return e}}},vjs.get=function(t,e,s){var o,n;"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw new Error("This browser does not support XMLHttpRequest.")}),n=new XMLHttpRequest;try{n.open("GET",t)}catch(t){s(t)}o=0===t.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===t.indexOf("http"),n.onreadystatechange=function(){4===n.readyState&&(200===n.status||o&&0===n.status?e(n.responseText):s&&s())};try{n.send()}catch(t){s&&s(t)}},vjs.setLocalStorage=function(t,e){try{var s=window.localStorage||!1;if(!s)return;s[t]=e}catch(t){22==t.code||1014==t.code?vjs.log("LocalStorage Full (VideoJS)",t):18==t.code?vjs.log("LocalStorage not allowed (VideoJS)",t):vjs.log("LocalStorage Error (VideoJS)",t)}},vjs.getAbsoluteURL=function(t){return t.match(/^https?:\/\//)||(t=vjs.createEl("div",{innerHTML:'<a href="'+t+'">x</a>'}).firstChild.href),t},vjs.log=function(){vjs.log.history=vjs.log.history||[],vjs.log.history.push(arguments),window.console&&window.console.log(Array.prototype.slice.call(arguments))},vjs.findPosition=function(t){var e,s,o,n,i,r,a,l,c;return t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),e?(s=document.documentElement,o=document.body,n=s.clientLeft||o.clientLeft||0,i=window.pageXOffset||o.scrollLeft,r=e.left+i-n,a=s.clientTop||o.clientTop||0,l=window.pageYOffset||o.scrollTop,c=e.top+l-a,{left:vjs.round(r),top:vjs.round(c)}):{left:0,top:0}},vjs.util={},vjs.util.mergeOptions=function(t,e){var s,o,n;t=vjs.obj.copy(t);for(s in e)e.hasOwnProperty(s)&&(o=t[s],n=e[s],vjs.obj.isPlain(o)&&vjs.obj.isPlain(n)?t[s]=vjs.util.mergeOptions(o,n):t[s]=e[s]);return t},vjs.Component=vjs.CoreObject.extend({init:function(t,e,s){this.player_=t,this.options_=vjs.obj.copy(this.options_),e=this.options(e),this.id_=e.id||(e.el&&e.el.id?e.el.id:t.id()+"_component_"+vjs.guid++),this.name_=e.name||null,this.el_=e.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(s),!1!==e.reportTouchActivity&&this.enableTouchActivity()}}),vjs.Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(t){return void 0===t?this.options_:this.options_=vjs.util.mergeOptions(this.options_,t)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(t,e){return vjs.createEl(t,e)},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(t){return this.childIndex_[t]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(t){return this.childNameIndex_[t]},vjs.Component.prototype.addChild=function(t,e){var s,o,n;return"string"==typeof t?(n=t,e=e||{},o=e.componentClass||vjs.capitalize(n),e.name=n,s=new window.videojs[o](this.player_||this,e)):s=t,this.children_.push(s),"function"==typeof s.id&&(this.childIndex_[s.id()]=s),n=n||s.name&&s.name(),n&&(this.childNameIndex_[n]=s),"function"==typeof s.el&&s.el()&&this.contentEl().appendChild(s.el()),s},vjs.Component.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,s=this.children_.length-1;s>=0;s--)if(this.children_[s]===t){e=!0,this.children_.splice(s,1);break}if(e){this.childIndex_[t.id]=null,this.childNameIndex_[t.name]=null;var o=t.el();o&&o.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},vjs.Component.prototype.initChildren=function(){var t=this.options_;if(t&&t.children){var e=this;vjs.obj.each(t.children,function(t,s){if(!1!==s){s.loadEvent||function(){e[t]=e.addChild(t,s)}()}})}},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(t,e){return vjs.on(this.el_,t,vjs.bind(this,e)),this},vjs.Component.prototype.off=function(t,e){return vjs.off(this.el_,t,e),this},vjs.Component.prototype.one=function(t,e){return vjs.one(this.el_,t,vjs.bind(this,e)),this},vjs.Component.prototype.trigger=function(t,e){return vjs.trigger(this.el_,t,e),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(t){return t&&(this.isReady_?t.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(t))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var t=this.readyQueue_;if(t&&t.length>0){for(var e=0,s=t.length;e<s;e++)t[e].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.addClass=function(t){return vjs.addClass(this.el_,t),this},vjs.Component.prototype.removeClass=function(t){return vjs.removeClass(this.el_,t),this},vjs.Component.prototype.show=function(){return this.el_.style.display="block",this},vjs.Component.prototype.hide=function(){return this.el_.style.display="none",this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){}},vjs.Component.prototype.width=function(t,e){return this.dimension("width",t,e)},vjs.Component.prototype.height=function(t,e){return this.dimension("height",t,e)},vjs.Component.prototype.dimensions=function(t,e){return this.width(t,!0).height(e)},vjs.Component.prototype.dimension=function(t,e,s){if(void 0!==e)return-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",s||this.trigger("resize"),this;if(!this.el_)return 0;var o=this.el_.style[t],n=o.indexOf("px");return-1!==n?parseInt(o.slice(0,n),10):parseInt(this.el_["offset"+vjs.capitalize(t)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var t,e,s,o;t=0,this.on("touchstart",function(e){t=(new Date).getTime(),s=!0}),o=function(){s=!1},this.on("touchmove",o),this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(o){!0===s&&(e=(new Date).getTime()-t)<250&&this.trigger("tap")})},vjs.Component.prototype.enableTouchActivity=function(){var t,e,s;t=vjs.bind(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){t(),clearInterval(e),e=setInterval(t,250)}),s=function(s){t(),clearInterval(e)},this.on("touchmove",t),this.on("touchend",s),this.on("touchcancel",s)},vjs.Button=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e);var s=!1;this.on("touchstart",function(t){t.preventDefault(),s=!0}),this.on("touchmove",function(){s=!1});var o=this;this.on("touchend",function(t){s&&o.onClick(t),t.preventDefault()}),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(t,e){return e=vjs.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},e),vjs.Component.prototype.createEl.call(this,t,e)},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(t){32!=t.which&&13!=t.which||(t.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),t.on(this.playerEvent,vjs.bind(this,this.update)),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.player_.on("controlsvisible",vjs.bind(this,this.update)),t.ready(vjs.bind(this,this.update)),this.boundEvents={}}}),vjs.Slider.prototype.createEl=function(t,e){return e=e||{},e.className=e.className+" vjs-slider",e=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),vjs.Component.prototype.createEl.call(this,t,e)},vjs.Slider.prototype.onMouseDown=function(t){t.preventDefault(),vjs.blockTextSelection(),this.boundEvents.move=vjs.bind(this,this.onMouseMove),this.boundEvents.end=vjs.bind(this,this.onMouseUp),vjs.on(document,"mousemove",this.boundEvents.move),vjs.on(document,"mouseup",this.boundEvents.end),vjs.on(document,"touchmove",this.boundEvents.move),vjs.on(document,"touchend",this.boundEvents.end),this.onMouseMove(t)},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),vjs.off(document,"mousemove",this.boundEvents.move,!1),vjs.off(document,"mouseup",this.boundEvents.end,!1),vjs.off(document,"touchmove",this.boundEvents.move,!1),vjs.off(document,"touchend",this.boundEvents.end,!1),this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var t,e=this.getPercent(),s=this.handle,o=this.bar;if(isNaN(e)&&(e=0),t=e,s){var n=this.el_,i=n.offsetWidth,r=s.el().offsetWidth,a=r?r/i:0,l=1-a,c=e*l;t=c+a/2,$(s.el()).eq(0).hasClass("vjs-volume-handle")&&1==c&&(c=.85),s.el().style.left=vjs.round(100*c,2)+"%"}o.el().style.width=vjs.round(100*t,2)+"%"}},vjs.Slider.prototype.calculateDistance=function(t){var e,s,o,n,i,r,a,l,c;if(e=this.el_,s=vjs.findPosition(e),i=r=e.offsetWidth,a=this.handle,this.options_.vertical){if(n=s.top,c=t.changedTouches?t.changedTouches[0].pageY:t.pageY,a){var u=a.el().offsetHeight;n+=u/2,r-=u}return Math.max(0,Math.min(1,(n-c+r)/r))}if(o=s.left,l=t.changedTouches?t.changedTouches[0].pageX:t.pageX,a){var p=a.el().offsetWidth;o+=p/2,i-=p}return Math.max(0,Math.min(1,(l-o)/i))},vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onKeyPress=function(t){37==t.which?(t.preventDefault(),this.stepBack()):39==t.which&&(t.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(t,e){return e=e||{},e.className=e.className+" vjs-slider-handle iconfont icon-big-dot",e=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},e),vjs.Component.prototype.createEl.call(this,"div",e)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(t){this.addChild(t),t.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var t=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(t,{className:"vjs-menu-content"});var e=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return e.appendChild(this.contentEl_),vjs.on(e,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),e},vjs.MenuItem=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.selected(e.selected)}}),vjs.MenuItem.prototype.createEl=function(t,e){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},e))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(t){t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.menu=this.createMenu(),this.addChild(this.menu),this.items&&0===this.items.length&&this.hide(),this.on("keyup",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var t=new vjs.Menu(this.player_);if(this.options().title&&t.el().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),this.items=this.createItems(),this.items)for(var e=0;e<this.items.length;e++)t.addItem(this.items[e]);return t},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(t){t.preventDefault(),32==t.which||13==t.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==t.which&&this.buttonPressed_&&this.unpressButton()},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&this.items.length>0&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.Player=vjs.Component.extend({init:function(t,e,s){this.tag=t,t.id=t.id||"vjs_video_"+vjs.guid++,e=vjs.obj.merge(this.getTagSettings(t),e),this.cache_={},this.poster_=e.poster,this.controls_=e.controls,t.controls=!1,e.reportTouchActivity=!1,vjs.Component.call(this,this,e,s),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.one("play",function(t){var e={type:"firstplay",target:this.el_};vjs.trigger(this.el_,e)||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("error",this.onError),this.on("fullscreenchange",this.onFullscreenChange),vjs.players[this.id_]=this,e.plugins&&vjs.obj.each(e.plugins,function(t,e){this[t](e)},this),this.listenForUserActivity()}}),vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.stopTrackingProgress(),this.stopTrackingCurrentTime(),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(t){var e={sources:[],tracks:[]};if(vjs.obj.merge(e,vjs.getAttributeValues(t)),t.hasChildNodes()){var s,o,n,i,r;for(s=t.childNodes,i=0,r=s.length;i<r;i++)o=s[i],n=o.nodeName.toLowerCase(),"source"===n?e.sources.push(vjs.getAttributeValues(o)):"track"===n&&e.tracks.push(vjs.getAttributeValues(o))}return e},vjs.Player.prototype.createEl=function(){var t=this.el_=vjs.Component.prototype.createEl.call(this,"div"),e=this.tag;if(e.removeAttribute("width"),e.removeAttribute("height"),e.hasChildNodes()){var s,o,n,i,r;for(s=e.childNodes,o=s.length,r=[];o--;)i=s[o],"track"===i.nodeName.toLowerCase()&&r.push(i);for(n=0;n<r.length;n++)e.removeChild(r[n])}return t.id=e.id,t.className=e.className,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),e.parentNode&&e.parentNode.insertBefore(t,e),vjs.insertFirst(e,t),t},vjs.Player.prototype.loadTech=function(t,e){this.tech&&this.unloadTech(),"Html5"!==t&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=t,this.isReady_=!1;var s=function(){this.player_.triggerReady(),this.features.progressEvents||this.player_.manualProgressOn(),this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()},o=vjs.obj.merge({source:e,parentEl:this.el_},this.options_[t.toLowerCase()]);e&&(e.src==this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime),this.cache_.src=e.src),this.tech=new window.videojs[t](this,o),this.tech.ready(s)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),this.tech=!1},vjs.Player.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress(),this.tech.one("progress",function(){this.features.progressEvents=!0,this.player_.manualProgressOff()})},vjs.Player.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),500)},vjs.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)},vjs.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime),this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0,this.player_.manualTimeUpdatesOff()})},vjs.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},vjs.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(vjs.bind(this,function(){this.trigger("timeupdate")}),250)},vjs.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)},vjs.Player.prototype.onLoadStart,vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.options_.loop&&(this.currentTime(0),this.play())},vjs.Player.prototype.onDurationChange=function(){var t=this.techGet("duration");t&&this.duration(t)},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullScreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.onError=function(t){vjs.log("Video Error",t)},vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(t,e){if(this.tech&&!this.tech.isReady_)this.tech.ready(function(){this[t](e)});else try{this.tech[t](e)}catch(t){throw vjs.log(t),t}},vjs.Player.prototype.techGet=function(t){if(this.tech&&this.tech.isReady_)try{return this.tech[t]()}catch(e){throw void 0===this.tech[t]?vjs.log("Video.js: "+t+" method not defined for "+this.techName+" playback technology.",e):"TypeError"==e.name?(vjs.log("Video.js: "+t+" unavailable on "+this.techName+" playback technology element.",e),this.tech.isReady_=!1):vjs.log(e),e}},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return!1!==this.techGet("paused")},vjs.Player.prototype.currentTime=function(t){return void 0!==t?(this.techCall("setCurrentTime",t),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(t){return void 0!==t?(this.cache_.duration=parseFloat(t),this):(void 0===this.cache_.duration&&this.onDurationChange(),this.cache_.duration||0)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var t=this.techGet("buffered"),e=t.length-1,s=this.cache_.bufferEnd=this.cache_.bufferEnd||0;return t&&e>=0&&t.end(e)!==s&&(s=t.end(e),this.cache_.bufferEnd=s),vjs.createTimeRange(0,s)},vjs.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0},vjs.Player.prototype.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall("setVolume",e),vjs.setLocalStorage("volume",e),this):(e=parseFloat(this.techGet("volume")),isNaN(e)?1:e)},vjs.Player.prototype.muted=function(t){return void 0!==t?(this.techCall("setMuted",t),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.isFullScreen_=!1,vjs.Player.prototype.isFullScreen=function(t){return void 0!==t?(this.isFullScreen_=t,this):this.isFullScreen_},vjs.Player.prototype.requestFullScreen=function(){var t=vjs.support.requestFullScreen;return this.isFullScreen(!0),t?(vjs.on(document,t.eventName,vjs.bind(this,function(e){this.isFullScreen(document[t.isFullScreen]),!1===this.isFullScreen()&&vjs.off(document,t.eventName,arguments.callee),this.trigger("fullscreenchange")})),this.el_[t.requestFn]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){
var t=vjs.support.requestFullScreen;return this.isFullScreen(!1),t?document[t.cancelFn]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullScreen()?this.cancelFullScreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(t){for(var e=0,s=this.options_.techOrder;e<s.length;e++){var o=vjs.capitalize(s[e]),n=window.videojs[o];if(n.isSupported())for(var i=0,r=t;i<r.length;i++){var a=r[i];if(n.canPlaySource(a))return{source:a,tech:o}}}return!1},vjs.Player.prototype.src=function(t){if(void 0===t)return this.techGet("src");if(t instanceof Array){var e,s=this.selectSource(t);s?(t=s.source,e=s.tech,e==this.techName?this.src(t):this.loadTech(e,t)):(this.el_.appendChild(vjs.createEl("p",{innerHTML:this.options().notSupportedMessage})),this.triggerReady())}else t instanceof Object?window.videojs[this.techName].canPlaySource(t)?this.src(t.src):this.src([t]):(this.cache_.src=t,this.isReady_?(this.techCall("src",t),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(t)}));return this},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.preload=function(t){return void 0!==t?(this.techCall("setPreload",t),this.options_.preload=t,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(t){return void 0!==t?(this.techCall("setAutoplay",t),this.options_.autoplay=t,this):this.techGet("autoplay",t)},vjs.Player.prototype.loop=function(t){return void 0!==t?(this.techCall("setLoop",t),this.options_.loop=t,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(t){if(void 0===t)return this.poster_;this.poster_=t,this.techCall("setPoster",t),this.trigger("posterchange")},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(t){return void 0!==t?(t=!!t,this.controls_!==t&&(this.controls_=t,t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_};vjs.Player.prototype.error=function(){return this.techGet("error")},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(t){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(t){return void 0!==t?(t=!!t,t!==this.userActive_&&(this.userActive_=t,t?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech&&this.tech.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var t,e,s,o,n,i;t=vjs.bind(this,this.reportUserActivity),e=function(){t(),clearInterval(s),s=setInterval(t,250)},o=function(e){t(),clearInterval(s)},this.on("mousedown",e),this.on("mousemove",t),this.on("mouseup",o),this.on("keydown",t),this.on("keyup",t),n=setInterval(vjs.bind(this,function(){this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),clearTimeout(i),i=setTimeout(vjs.bind(this,function(){this.userActivity_||this.userActive(!1)}),2e3))}),250),this.on("dispose",function(){clearInterval(n),clearTimeout(i)})},function(){var t,e,s;s=document.createElement("div"),e={},void 0!==s.cancelFullscreen?(e.requestFn="requestFullscreen",e.cancelFn="exitFullscreen",e.eventName="fullscreenchange",e.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(t="moz",e.isFullScreen=t+"FullScreen"):(t="webkit",e.isFullScreen=t+"IsFullScreen"),s[t+"RequestFullScreen"]&&(e.requestFn=t+"RequestFullScreen",e.cancelFn=t+"CancelFullScreen"),e.eventName=t+"fullscreenchange"),document[e.cancelFn]&&(vjs.support.requestFullScreen=e)}(),vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.PlayToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),t.on("play",vjs.bind(this,this.onPlay)),t.on("pause",vjs.bind(this,this.onPause))}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control iconfont icon-start "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.removeClass(this.el_,"icon-start"),vjs.addClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"icon-stop"),this.el_.children[0].children[0].innerHTML="Pause"},vjs.PlayToggle.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.removeClass(this.el_,"icon-stop"),vjs.addClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"icon-start"),this.el_.children[0].children[0].innerHTML="Play"},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),t.appendChild(this.contentEl_),t},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.contentEl_.innerHTML='<span class="vjs-control-text">Current Time </span>'+vjs.formatTime(t,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.DurationDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"}),t.appendChild(this.contentEl_),t},vjs.DurationDisplay.prototype.updateContent=function(){var t=this.player_.duration();t&&(this.contentEl_.innerHTML='<span class="vjs-control-text">Duration Time </span>'+vjs.formatTime(t))},vjs.TimeDivider=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"}),t.appendChild(this.contentEl_),t},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.contentEl_.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control iconfont icon-start-fullscreen "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullScreen()?(this.player_.cancelFullScreen(),$("#peVideoPlayer").find(".vjs-fullscreen-control").removeClass("icon-cancel-fullscreen").addClass("icon-start-fullscreen"),this.el_.children[0].children[0].innerHTML="Fullscreen"):(this.player_.requestFullScreen(),$("#peVideoPlayer").find(".vjs-fullscreen-control").removeClass("icon-start-fullscreen").addClass("icon-cancel-fullscreen"),this.el_.children[0].children[0].innerHTML="Non-Fullscreen")},vjs.ProgressControl=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(t,e){vjs.Slider.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateARIAAttributes)),t.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(t,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(t){vjs.Slider.prototype.onMouseDown.call(this,t),this.player_.scrubbing=!0,this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(t){var e=this.calculateDistance(t)*this.player_.duration();e==this.player_.duration()&&(e-=.1),this.player_.currentTime(e)},vjs.SeekBar.prototype.onMouseUp=function(t){vjs.Slider.prototype.onMouseUp.call(this,t),this.player_.scrubbing=!1,this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("progress",vjs.bind(this,this.update))}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},vjs.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=vjs.round(100*this.player_.bufferedPercent(),2)+"%")},vjs.PlayProgressBar=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})},vjs.SeekHandle=vjs.SliderHandle.extend({init:function(t,e){vjs.SliderHandle.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(t,this.player_.duration())+"</span>"},vjs.VolumeControl=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.tech&&t.tech.features&&!1===t.tech.features.volumeControl&&this.addClass("vjs-hidden"),t.on("loadstart",vjs.bind(this,function(){t.tech.features&&!1===t.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(t,e){vjs.Slider.call(this,t,e),t.on("volumechange",vjs.bind(this,this.updateARIAAttributes)),t.ready(vjs.bind(this,this.updateARIAAttributes)),setTimeout(vjs.bind(this,this.update),0)}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(t){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(t))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),t.on("volumechange",vjs.bind(this,this.update)),t.tech&&t.tech.features&&!1===t.tech.features.volumeControl&&this.addClass("vjs-hidden"),t.on("loadstart",vjs.bind(this,function(){t.tech.features&&!1===t.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control iconfont icon-pe-audio vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(!this.player_.muted())},vjs.MuteToggle.prototype.update=function(){var t=this.player_.volume(),e=3;0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2),this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&($("#peVideoPlayer").find(".vjs-mute-control").removeClass("icon-pe-audio").addClass("icon-mute-audio"),this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&($("#peVideoPlayer").find(".vjs-mute-control").removeClass("icon-mute-audio").addClass("icon-pe-audio"),this.el_.children[0].children[0].innerHTML="Mute");for(var s=0;s<4;s++)vjs.removeClass(this.el_,"vjs-vol-"+s);vjs.addClass(this.el_,"vjs-vol-"+e)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(t,e){vjs.MenuButton.call(this,t,e),t.on("volumechange",vjs.bind(this,this.update)),t.tech&&t.tech.features&&!1===t.tech.features.volumeControl&&this.addClass("vjs-hidden"),t.on("loadstart",vjs.bind(this,function(){t.tech.features&&!1===t.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var t=new vjs.Menu(this.player_,{contentElType:"div"}),e=new vjs.VolumeBar(this.player_,vjs.obj.merge({vertical:!0},this.options_.volumeBar));return t.addChild(e),t},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.VolumeMenuButton.prototype.update=vjs.MuteToggle.prototype.update,vjs.PosterImage=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),t.poster()&&this.src(t.poster()),t.poster()&&t.controls()||this.hide(),t.on("posterchange",vjs.bind(this,function(){this.src(t.poster())})),t.on("play",vjs.bind(this,this.hide))}});var _backgroundSizeSupported="backgroundSize"in vjs.TEST_VID.style;vjs.PosterImage.prototype.createEl=function(){var t=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1});return _backgroundSizeSupported||t.appendChild(vjs.createEl("img")),t},vjs.PosterImage.prototype.src=function(t){var e=this.el();void 0!==t&&(_backgroundSizeSupported?e.style.backgroundImage='url("'+t+'")':e.firstChild.src=t)},vjs.PosterImage.prototype.onClick=function(){this.player().controls()&&this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("canplay",vjs.bind(this,this.hide)),t.on("canplaythrough",vjs.bind(this,this.hide)),t.on("playing",vjs.bind(this,this.hide)),t.on("seeking",vjs.bind(this,this.show)),t.on("seeked",vjs.bind(this,this.hide)),t.on("error",vjs.bind(this,this.show)),t.on("ended",vjs.bind(this,this.hide)),t.on("waiting",vjs.bind(this,this.show))}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner iconfont icon-loading"})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(t){return!(this.id().toString().indexOf("peAudioPlayer")>=0)&&vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button iconfont icon-start",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.MediaTechController=vjs.Component.extend({init:function(t,e,s){e=e||{},e.reportTouchActivity=!1,vjs.Component.call(this,t,e,s),this.initControlsListeners()}}),vjs.MediaTechController.prototype.initControlsListeners=function(){var t,e,s,o;e=this,t=this.player();var s=function(){t.controls()&&!t.usingNativeControls()&&e.addControlsListeners()};o=vjs.bind(e,e.removeControlsListeners),this.ready(s),t.on("controlsenabled",s),t.on("controlsdisabled",o)},vjs.MediaTechController.prototype.addControlsListeners=function(){var t;this.on("mousedown",this.onClick),this.on("touchstart",function(e){e.preventDefault(),t=this.player_.userActive()}),this.on("touchmove",function(e){t&&this.player().reportUserActivity()}),this.emitTapEvents(),this.on("tap",this.onTap)},vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap"),this.off("touchstart"),this.off("touchmove"),this.off("touchleave"),this.off("touchcancel"),this.off("touchend"),this.off("click"),this.off("mousedown")},vjs.MediaTechController.prototype.onClick=function(t){0===t.button&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())},vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())},vjs.MediaTechController.prototype.setPoster=function(){},vjs.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,progressEvents:!1,timeupdateEvents:!1},vjs.media={},vjs.media.ApiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(",");for(var i=vjs.media.ApiMethods.length-1;i>=0;i--){var methodName=vjs.media.ApiMethods[i];vjs.MediaTechController.prototype[vjs.media.ApiMethods[i]]=createMethod(methodName)}vjs.Html5=vjs.MediaTechController.extend({init:function(t,e,s){this.features.volumeControl=vjs.Html5.canControlVolume(),this.features.movingMediaElementInDOM=!vjs.IS_IOS,this.features.fullscreenResize=!0,vjs.MediaTechController.call(this,t,e,s),this.setupTriggers();var o=e.source;o&&this.el_.currentSrc===o.src&&this.el_.networkState>0?t.trigger("loadstart"):o&&(this.el_.src=o.src),vjs.TOUCH_ENABLED&&!1!==t.options().nativeControlsForTouch&&this.useNativeControls(),t.ready(function(){this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())}),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var t,e=this.player_,s=e.tag;s&&!1!==this.features.movingMediaElementInDOM||(s?(t=s.cloneNode(!1),vjs.Html5.disposeMediaElement(s),s=t,e.tag=null):s=vjs.createEl("video",{id:e.id()+"_html5_api",className:"vjs-tech"}),s.player=e,vjs.insertFirst(s,e.el()));for(var o=["autoplay","preload","loop","muted"],n=o.length-1;n>=0;n--){var i=o[n];null!==e.options_[i]&&(s[i]=e.options_[i])}return s},vjs.Html5.prototype.setupTriggers=function(){for(var t=vjs.Html5.Events.length-1;t>=0;t--)vjs.on(this.el_,vjs.Html5.Events[t],vjs.bind(this.player_,this.eventHandler))},vjs.Html5.prototype.eventHandler=function(t){this.trigger(t),t.stopPropagation()},vjs.Html5.prototype.useNativeControls=function(){var t,e,s,o,n;t=this,e=this.player(),t.setControls(e.controls()),s=function(){t.setControls(!0)},o=function(){t.setControls(!1)},e.on("controlsenabled",s),e.on("controlsdisabled",o),n=function(){e.off("controlsenabled",s),e.off("controlsdisabled",o)},t.on("dispose",n),e.on("usingcustomcontrols",n),e.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){vjs.log(t,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(t){this.el_.volume=t},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(t){this.el_.muted=t},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return!("function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT))},vjs.Html5.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(t){this.el_.src=t},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.poster=function(){return this.el_.poster},vjs.Html5.prototype.setPoster=function(t){this.el_.poster=t},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(t){this.el_.preload=t},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(t){this.el_.autoplay=t},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(t){this.el_.controls=!!t},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(t){this.el_.loop=t},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.isSupported=function(){try{vjs.TEST_VID.volume=.5}catch(t){return!1}return!!vjs.TEST_VID.canPlayType},vjs.Html5.canPlaySource=function(t){try{return!!vjs.TEST_VID.canPlayType(t.type)}catch(t){return""}},vjs.Html5.canControlVolume=function(){var t=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=t/2+.1,t!==vjs.TEST_VID.volume},function(){var t,e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,s=/^video\/mp4/i;vjs.Html5.patchCanPlayType=function(){vjs.ANDROID_VERSION>=4&&(t||(t=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(s){return s&&e.test(s)?"maybe":t.call(this,s)}),vjs.IS_OLD_ANDROID&&(t||(t=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&s.test(e)?"maybe":t.call(this,e)})},vjs.Html5.unpatchCanPlayType=function(){var e=vjs.TEST_VID.constructor.prototype.canPlayType;return vjs.TEST_VID.constructor.prototype.canPlayType=t,t=null,e},vjs.Html5.patchCanPlayType()}(),vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(t){if(t){for(t.player=null,t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},vjs.Flash=vjs.MediaTechController.extend({init:function(t,e,s){vjs.MediaTechController.call(this,t,e,s);var o,n=e.source,i=e.parentEl,r=this.el_=vjs.createEl("div",{id:t.id()+"_temp_flash"}),a=t.id()+"_flash_api",l=t.options_,c=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:l.autoplay,preload:l.preload,loop:l.loop,muted:l.muted},e.flashVars),u=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},e.params),p=vjs.obj.merge({id:a,name:a,class:"vjs-tech"},e.attributes);if(n)if(n.type&&vjs.Flash.isStreamingType(n.type)){var h=vjs.Flash.streamToParts(n.src);c.rtmpConnection=encodeURIComponent(h.connection),c.rtmpStream=encodeURIComponent(h.stream)}else c.src=encodeURIComponent(vjs.getAbsoluteURL(n.src));if(this.setCurrentTime=function(t){o=t,this.el_.vjs_setProperty("currentTime",t)},this.currentTime=function(t){return this.seeking()?o:this.el_.vjs_getProperty("currentTime")},vjs.insertFirst(r,i),e.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(e.startTime)}),vjs.IS_FIREFOX&&this.ready(function(){vjs.on(this.el(),"mousemove",vjs.bind(this,function(){this.player().trigger({type:"mousemove",bubbles:!1})}))}),!0!==e.iFrameMode||vjs.IS_FIREFOX)vjs.Flash.embed(e.swf,r,c,u,p);else{var v=vjs.createEl("iframe",{id:a+"_iframe",name:a+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});c.readyFunction="ready",c.eventProxyFunction="events",c.errorEventProxyFunction="errors",vjs.on(v,"load",vjs.bind(this,function(){var t,s=v.contentWindow;t=v.contentDocument?v.contentDocument:v.contentWindow.document,t.write(vjs.Flash.getEmbedCode(e.swf,c,u,p)),s.player=this.player_,s.ready=vjs.bind(this.player_,function(e){var s=t.getElementById(e),o=this,n=o.tech;n.el_=s,vjs.Flash.checkReady(n)}),s.events=vjs.bind(this.player_,function(t,e){var s=this;s&&"flash"===s.techName&&s.trigger(e)}),s.errors=vjs.bind(this.player_,function(t,e){vjs.log("Flash Error",e)})})),r.parentNode.replaceChild(v,r)}}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(t){if(void 0===t)return this.currentSrc();if(vjs.Flash.isStreamingSrc(t)?(t=vjs.Flash.streamToParts(t),this.setRtmpConnection(t.connection),this.setRtmpStream(t.stream)):(t=vjs.getAbsoluteURL(t),this.el_.vjs_src(t)),this.player_.autoplay()){var e=this;setTimeout(function(){e.play()},0)}},vjs.Flash.prototype.currentSrc=function(){var t=this.el_.vjs_getProperty("currentSrc");if(null==t){var e=this.rtmpConnection(),s=this.rtmpStream();e&&s&&(t=vjs.Flash.streamFromParts(e,s))}return t},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.setPoster=function(){},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1};var api=vjs.Flash.prototype,readWrite="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),readOnly="error,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),createSetter=function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);api["set"+e]=function(e){return this.el_.vjs_setProperty(t,e)}},createGetter=function(t){api[t]=function(){return this.el_.vjs_getProperty(t)}};if(function(){var t;for(t=0;t<readWrite.length;t++)createGetter(readWrite[t]),createSetter(readWrite[t]);for(t=0;t<readOnly.length;t++)createGetter(readOnly[t])}(),vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10},vjs.Flash.canPlaySource=function(t){var e;return t.type?(e=t.type.replace(/;.*/,"").toLowerCase(),e in vjs.Flash.formats||e in vjs.Flash.streamingFormats?"maybe":void 0):""},vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.onReady=function(t){var e=vjs.el(t),s=e.player||e.parentNode.player,o=s.tech;e.player=s,o.el_=e,vjs.Flash.checkReady(o)},vjs.Flash.checkReady=function(t){
t.el().vjs_getProperty?t.triggerReady():setTimeout(function(){vjs.Flash.checkReady(t)},50)},vjs.Flash.onEvent=function(t,e){vjs.el(t).player.trigger(e)},vjs.Flash.onError=function(t,e){vjs.el(t).player.trigger("error"),vjs.log("Flash Error",e,t)},vjs.Flash.version=function(){var t="0,0,0";try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},vjs.Flash.embed=function(t,e,s,o,n){var i=vjs.Flash.getEmbedCode(t,s,o,n),r=vjs.createEl("div",{innerHTML:i}).childNodes[0],a=e.parentNode;e.parentNode.replaceChild(r,e);var l=a.childNodes[0];return setTimeout(function(){l.style.display="block"},1e3),r},vjs.Flash.getEmbedCode=function(t,e,s,o){var n="",i="",r="";return e&&vjs.obj.each(e,function(t,e){n+=t+"="+e+"&amp;"}),s=vjs.obj.merge({movie:t,flashvars:n,allowScriptAccess:"always",allowNetworking:"all"},s),vjs.obj.each(s,function(t,e){i+='<param name="'+t+'" value="'+e+'" />'}),o=vjs.obj.merge({data:t,width:"100%",height:"100%"},o),vjs.obj.each(o,function(t,e){r+=t+'="'+e+'" '}),'<object type="application/x-shockwave-flash"'+r+">"+i+"</object>"},vjs.Flash.streamFromParts=function(t,e){return t+"&"+e},vjs.Flash.streamToParts=function(t){var e={connection:"",stream:""};if(!t)return e;var s,o=t.indexOf("&");return-1!==o?s=o+1:0===(o=s=t.lastIndexOf("/")+1)&&(o=s=t.length),e.connection=t.substring(0,o),e.stream=t.substring(s,t.length),e},vjs.Flash.isStreamingType=function(t){return t in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(t){return vjs.Flash.RTMP_RE.test(t)},vjs.MediaLoader=vjs.Component.extend({init:function(t,e,s){if(vjs.Component.call(this,t,e,s),t.options_.sources&&0!==t.options_.sources.length)t.src(t.options_.sources);else for(var o=0,n=t.options_.techOrder;o<n.length;o++){var i=vjs.capitalize(n[o]),r=window.videojs[i];if(r&&r.isSupported()){t.loadTech(i);break}}}}),vjs.Player.prototype.textTracks_,vjs.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[],this.textTracks_},vjs.Player.prototype.addTextTrack=function(t,e,s,o){var n=this.textTracks_=this.textTracks_||[];o=o||{},o.kind=t,o.label=e,o.language=s;var i=vjs.capitalize(t||"subtitles"),r=new window.videojs[i+"Track"](this,o);return n.push(r),r},vjs.Player.prototype.addTextTracks=function(t){for(var e,s=0;s<t.length;s++)e=t[s],this.addTextTrack(e.kind,e.label,e.language,e);return this},vjs.Player.prototype.showTextTrack=function(t,e){for(var s,o,n,i=this.textTracks_,r=0,a=i.length;r<a;r++)s=i[r],s.id()===t?(s.show(),o=s):e&&s.kind()==e&&s.mode()>0&&s.disable();return n=o?o.kind():e||!1,n&&this.trigger(n+"trackchange"),this},vjs.TextTrack=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.id_=e.id||"vjs_"+e.kind+"_"+e.language+"_"+vjs.guid++,this.src_=e.src,this.dflt_=e.default||e.dflt,this.title_=e.title,this.language_=e.srclang,this.label_=e.label,this.cues_=[],this.activeCues_=[],this.readyState_=0,this.mode_=0,this.player_.on("fullscreenchange",vjs.bind(this,this.adjustFontSize))}}),vjs.TextTrack.prototype.kind_,vjs.TextTrack.prototype.kind=function(){return this.kind_},vjs.TextTrack.prototype.src_,vjs.TextTrack.prototype.src=function(){return this.src_},vjs.TextTrack.prototype.dflt_,vjs.TextTrack.prototype.dflt=function(){return this.dflt_},vjs.TextTrack.prototype.title_,vjs.TextTrack.prototype.title=function(){return this.title_},vjs.TextTrack.prototype.language_,vjs.TextTrack.prototype.language=function(){return this.language_},vjs.TextTrack.prototype.label_,vjs.TextTrack.prototype.label=function(){return this.label_},vjs.TextTrack.prototype.cues_,vjs.TextTrack.prototype.cues=function(){return this.cues_},vjs.TextTrack.prototype.activeCues_,vjs.TextTrack.prototype.activeCues=function(){return this.activeCues_},vjs.TextTrack.prototype.readyState_,vjs.TextTrack.prototype.readyState=function(){return this.readyState_},vjs.TextTrack.prototype.mode_,vjs.TextTrack.prototype.mode=function(){return this.mode_},vjs.TextTrack.prototype.adjustFontSize=function(){this.player_.isFullScreen()?this.el_.style.fontSize=screen.width/this.player_.width()*1.4*100+"%":this.el_.style.fontSize=""},vjs.TextTrack.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})},vjs.TextTrack.prototype.show=function(){this.activate(),this.mode_=2,vjs.Component.prototype.show.call(this)},vjs.TextTrack.prototype.hide=function(){this.activate(),this.mode_=1,vjs.Component.prototype.hide.call(this)},vjs.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide(),this.deactivate(),this.mode_=0},vjs.TextTrack.prototype.activate=function(){0===this.readyState_&&this.load(),0===this.mode_&&(this.player_.on("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.on("ended",vjs.bind(this,this.reset,this.id_)),"captions"!==this.kind_&&"subtitles"!==this.kind_||this.player_.getChild("textTrackDisplay").addChild(this))},vjs.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.off("ended",vjs.bind(this,this.reset,this.id_)),this.reset(),this.player_.getChild("textTrackDisplay").removeChild(this)},vjs.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,vjs.get(this.src_,vjs.bind(this,this.parseCues),vjs.bind(this,this.onError)))},vjs.TextTrack.prototype.onError=function(t){this.error=t,this.readyState_=3,this.trigger("error")},vjs.TextTrack.prototype.parseCues=function(t){for(var e,s,o,n,i=t.split("\n"),r="",a=1,l=i.length;a<l;a++)if(r=vjs.trim(i[a])){for(-1==r.indexOf("--\x3e")?(n=r,r=vjs.trim(i[++a])):n=this.cues_.length,e={id:n,index:this.cues_.length},s=r.split(" --\x3e "),e.startTime=this.parseCueTime(s[0]),e.endTime=this.parseCueTime(s[1]),o=[];i[++a]&&(r=vjs.trim(i[a]));)o.push(r);e.text=o.join("<br/>"),this.cues_.push(e)}this.readyState_=2,this.trigger("loaded")},vjs.TextTrack.prototype.parseCueTime=function(t){var e,s,o,n,i,r=t.split(":"),a=0;return 3==r.length?(e=r[0],s=r[1],o=r[2]):(e=0,s=r[0],o=r[1]),o=o.split(/\s+/),n=o.splice(0,1)[0],n=n.split(/\.|,/),i=parseFloat(n[1]),n=n[0],a+=3600*parseFloat(e),a+=60*parseFloat(s),a+=parseFloat(n),i&&(a+=i/1e3),a},vjs.TextTrack.prototype.update=function(){if(this.cues_.length>0){var t=this.player_.currentTime();if(void 0===this.prevChange||t<this.prevChange||this.nextChange<=t){var e,s,o,n,i=this.cues_,r=this.player_.duration(),a=0,l=!1,c=[];for(t>=this.nextChange||void 0===this.nextChange?n=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(l=!0,n=void 0!==this.lastActiveIndex?this.lastActiveIndex:i.length-1);;){if(o=i[n],o.endTime<=t)a=Math.max(a,o.endTime),o.active&&(o.active=!1);else if(t<o.startTime){if(r=Math.min(r,o.startTime),o.active&&(o.active=!1),!l)break}else l?(c.splice(0,0,o),void 0===s&&(s=n),e=n):(c.push(o),void 0===e&&(e=n),s=n),r=Math.min(r,o.endTime),a=Math.max(a,o.startTime),o.active=!0;if(l){if(0===n)break;n--}else{if(n===i.length-1)break;n++}}this.activeCues_=c,this.nextChange=r,this.prevChange=a,this.firstActiveIndex=e,this.lastActiveIndex=s,this.updateDisplay(),this.trigger("cuechange")}}},vjs.TextTrack.prototype.updateDisplay=function(){for(var t=this.activeCues_,e="",s=0,o=t.length;s<o;s++)e+='<span class="vjs-tt-cue">'+t[s].text+"</span>";this.el_.innerHTML=e},vjs.TextTrack.prototype.reset=function(){this.nextChange=0,this.prevChange=this.player_.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0},vjs.CaptionsTrack=vjs.TextTrack.extend(),vjs.CaptionsTrack.prototype.kind_="captions",vjs.SubtitlesTrack=vjs.TextTrack.extend(),vjs.SubtitlesTrack.prototype.kind_="subtitles",vjs.ChaptersTrack=vjs.TextTrack.extend(),vjs.ChaptersTrack.prototype.kind_="chapters",vjs.TextTrackDisplay=vjs.Component.extend({init:function(t,e,s){vjs.Component.call(this,t,e,s),t.options_.tracks&&t.options_.tracks.length>0&&this.player_.addTextTracks(t.options_.tracks)}}),vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},vjs.CloseVideoBtn=vjs.Component.extend({init:function(t,e,s){vjs.Component.call(this,t,e,s)}}),vjs.CloseVideoBtn.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"a",{className:"video-close-btn iconfont icon-dialog-close-btn"})},vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(t,e){var s=this.track=e.track;e.label=s.label(),e.selected=s.dflt(),vjs.MenuItem.call(this,t,e),this.player_.on(s.kind()+"trackchange",vjs.bind(this,this.update))}}),vjs.TextTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.TextTrackMenuItem.prototype.update=function(){this.selected(2==this.track.mode())},vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(t,e){e.track={kind:function(){return e.kind},player:t,label:function(){return e.kind+" off"},dflt:function(){return!1},mode:function(){return!1}},vjs.TextTrackMenuItem.call(this,t,e),this.selected(!0)}}),vjs.OffTextTrackMenuItem.prototype.onClick=function(){vjs.TextTrackMenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.OffTextTrackMenuItem.prototype.update=function(){for(var t,e=this.player_.textTracks(),s=0,o=e.length,n=!0;s<o;s++)t=e[s],t.kind()==this.track.kind()&&2==t.mode()&&(n=!1);this.selected(n)},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(t,e){vjs.MenuButton.call(this,t,e),this.items.length<=1&&this.hide()}}),vjs.TextTrackButton.prototype.createItems=function(){var t,e=[];e.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_}));for(var s=0;s<this.player_.textTracks().length;s++)t=this.player_.textTracks()[s],t.kind()===this.kind_&&e.push(new vjs.TextTrackMenuItem(this.player_,{track:t}));return e},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(t,e,s){vjs.TextTrackButton.call(this,t,e,s),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(t,e,s){vjs.TextTrackButton.call(this,t,e,s),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(t,e,s){vjs.TextTrackButton.call(this,t,e,s),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){for(var t,e=[],s=0;s<this.player_.textTracks().length;s++)t=this.player_.textTracks()[s],t.kind()===this.kind_&&e.push(new vjs.TextTrackMenuItem(this.player_,{track:t}));return e},vjs.ChaptersButton.prototype.createMenu=function(){for(var t,e,s=this.player_.textTracks(),o=0,n=s.length,i=this.items=[];o<n;o++)if(t=s[o],t.kind()==this.kind_&&t.dflt()){if(t.readyState()<2)return this.chaptersTrack=t,void t.on("loaded",vjs.bind(this,this.createMenu));e=t;break}var r=this.menu=new vjs.Menu(this.player_);if(r.el_.appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),e){var a,l,c=e.cues_;for(o=0,n=c.length;o<n;o++)a=c[o],l=new vjs.ChaptersTrackMenuItem(this.player_,{track:e,cue:a}),i.push(l),r.addChild(l)}return this.items.length>0&&this.show(),r},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(t,e){var s=this.track=e.track,o=this.cue=e.cue,n=t.currentTime();e.label=o.text,e.selected=o.startTime<=n&&n<o.endTime,vjs.MenuItem.call(this,t,e),s.on("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){var t=this.cue,e=this.player_.currentTime();this.selected(t.startTime<=e&&e<t.endTime)},vjs.obj.merge(vjs.ControlBar.prototype.options_.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),vjs.JSON,void 0!==window.JSON&&"function"===window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){function walk(t,e){var s,o,n=t[e];if(n&&"object"==typeof n)for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o=walk(n,s),void 0!==o?n[s]=o:delete n[s]);return reviver.call(t,e,n)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var t,e,s=document.getElementsByTagName("video");if(s&&s.length>0)for(var o=0,n=s.length;o<n;o++){if(!(e=s[o])||!e.getAttribute){vjs.autoSetupTimeout(1);break}void 0===e.player&&(t=e.getAttribute("data-setup"),optionsType=e.getAttribute("data-type"),null!==t&&(t=vjs.JSON.parse(t||"{}"),videojs(e,t)))}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(t){setTimeout(vjs.autoSetup,t)},"complete"===document.readyState?vjs.windowLoaded=!0:vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(t,e){vjs.Player.prototype[t]=e};
!function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(e){var t=data.getRoot(e);t||(t={},data.setRoot(e,t)),t[e.data.key.children]=[],t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()},_initCache=function(e){var t=data.getCache(e);t||(t={},data.setCache(e,t)),t.nodes=[],t.doms=[]},_bindEvent=function(e){var t=e.treeObj,n=consts.event;t.bind(n.NODECREATED,function(t,n,o){tools.apply(e.callback.onNodeCreated,[t,n,o])}),t.bind(n.CLICK,function(t,n,o,a,s){tools.apply(e.callback.onClick,[n,o,a,s])}),t.bind(n.EXPAND,function(t,n,o){tools.apply(e.callback.onExpand,[t,n,o])}),t.bind(n.COLLAPSE,function(t,n,o){tools.apply(e.callback.onCollapse,[t,n,o])}),t.bind(n.ASYNC_SUCCESS,function(t,n,o,a){tools.apply(e.callback.onAsyncSuccess,[t,n,o,a])}),t.bind(n.ASYNC_ERROR,function(t,n,o,a,s,r){tools.apply(e.callback.onAsyncError,[t,n,o,a,s,r])}),t.bind(n.REMOVE,function(t,n,o){tools.apply(e.callback.onRemove,[t,n,o])}),t.bind(n.SELECTED,function(t,n,o){tools.apply(e.callback.onSelected,[n,o])}),t.bind(n.UNSELECTED,function(t,n,o){tools.apply(e.callback.onUnSelected,[n,o])})},_unbindEvent=function(e){var t=e.treeObj,n=consts.event;t.unbind(n.NODECREATED).unbind(n.CLICK).unbind(n.EXPAND).unbind(n.COLLAPSE).unbind(n.ASYNC_SUCCESS).unbind(n.ASYNC_ERROR).unbind(n.REMOVE).unbind(n.SELECTED).unbind(n.UNSELECTED)},_eventProxy=function(e){var t=e.target,n=data.getSetting(e.data.treeId),o="",a=null,s="",r="",i=null,d=null,l=null;if(tools.eqs(e.type,"mousedown")?r="mousedown":tools.eqs(e.type,"mouseup")?r="mouseup":tools.eqs(e.type,"contextmenu")?r="contextmenu":tools.eqs(e.type,"click")?tools.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+consts.id.SWITCH)?(o=tools.getNodeMainDom(t).id,s="switchNode"):(l=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(o=tools.getNodeMainDom(l).id,s="clickNode"):tools.eqs(e.type,"dblclick")&&(r="dblclick",(l=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(o=tools.getNodeMainDom(l).id,s="switchNode")),r.length>0&&0==o.length&&(l=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(o=tools.getNodeMainDom(l).id),o.length>0)switch(a=data.getNodeCache(n,o),s){case"switchNode":a.isParent&&(tools.eqs(e.type,"click")||tools.eqs(e.type,"dblclick")&&tools.apply(n.view.dblClickExpand,[n.treeId,a],n.view.dblClickExpand))?i=handler.onSwitchNode:s="";break;case"clickNode":i=handler.onClickNode}switch(r){case"mousedown":d=handler.onZTreeMousedown;break;case"mouseup":d=handler.onZTreeMouseup;break;case"dblclick":d=handler.onZTreeDblclick;break;case"contextmenu":d=handler.onZTreeContextmenu}return{stop:!1,node:a,nodeEventType:s,nodeEventCallback:i,treeEventType:r,treeEventCallback:d}},_initNode=function(e,t,n,o,a,s,r){if(n){var i=data.getRoot(e),d=e.data.key.children;n.level=t,n.tId=e.treeId+"_"+ ++i.zId,n.parentTId=o?o.tId:null,n.open="string"==typeof n.open?tools.eqs(n.open,"true"):!!n.open,0!==n.level&&1!==n.level||(n.open=!0),n[d]&&n[d].length>0?(n.isParent=!0,n.zAsync=!0):(n.isParent="string"==typeof n.isParent?tools.eqs(n.isParent,"true"):!!n.isParent,n.open=!(n.isParent&&!e.async.enable)||n.open,n.zAsync=!n.isParent),n.isFirstNode=a,n.isLastNode=s,n.getParentNode=function(){return data.getNodeCache(e,n.parentTId)},n.getPreNode=function(){return data.getPreNode(e,n)},n.getNextNode=function(){return data.getNextNode(e,n)},n.getRootNode=function(){return data.getRootNode(e.n)},n.getIndex=function(){return data.getNodeIndex(e,n)},n.getPath=function(){return data.getNodePath(e,n)},n.isAjaxing=!1,data.fixPIdKeyValue(e,n)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(e,t){data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){_init.afterA.push(e)},addBeforeA:function(e){_init.beforeA.push(e)},addInnerAfterA:function(e){_init.innerAfterA.push(e)},addInnerBeforeA:function(e){_init.innerBeforeA.push(e)},addInitBind:function(e){_init.bind.push(e)},addInitUnBind:function(e){_init.unbind.push(e)},addInitCache:function(e){_init.caches.push(e)},addInitNode:function(e){_init.nodes.push(e)},addInitProxy:function(e,t){t?_init.proxys.splice(0,0,e):_init.proxys.push(e)},addInitRoot:function(e){_init.roots.push(e)},addNodesData:function(e,t,n,o){var a,s=e.data.key.children;t[s]?n>=t[s].length&&(n=-1):(t[s]=[],n=-1),t[s].length>0&&0===n?(t[s][0].isFirstNode=!1,view.setNodeLineIcos(e,t[s][0])):t[s].length>0&&n<0&&(t[s][t[s].length-1].isLastNode=!1,view.setNodeLineIcos(e,t[s][t[s].length-1])),t.isParent=!0,n<0?t[s]=t[s].concat(o):(a=[n,0].concat(o),t[s].splice.apply(t[s],a))},addSelectedNode:function(e,t){var n=data.getRoot(e);data.isSelectedNode(e,t)||n.curSelectedList.push(t)},addCreatedNode:function(e,t){if(e.callback.onNodeCreated||e.view.addDiyDom){data.getRoot(e).createdNodes.push(t)}},addZTreeTools:function(e){_init.zTreeTools.push(e)},exSetting:function(e){$.extend(!0,_setting,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,n){for(var o=0,a=_init.afterA.length;o<a;o++)_init.afterA[o].apply(this,arguments)},getBeforeA:function(e,t,n){for(var o=0,a=_init.beforeA.length;o<a;o++)_init.beforeA[o].apply(this,arguments)},getInnerAfterA:function(e,t,n){for(var o=0,a=_init.innerAfterA.length;o<a;o++)_init.innerAfterA[o].apply(this,arguments)},getInnerBeforeA:function(e,t,n){for(var o=0,a=_init.innerBeforeA.length;o<a;o++)_init.innerBeforeA[o].apply(this,arguments)},getCache:function(e){return caches[e.treeId]},getNodeIndex:function(e,t){if(!t)return null;for(var n=e.data.key.children,o=t.parentTId?t.getParentNode():data.getRoot(e),a=0,s=o[n].length-1;a<=s;a++)if(o[n][a]===t)return a;return-1},getNextNode:function(e,t){if(!t)return null;for(var n=e.data.key.children,o=t.parentTId?t.getParentNode():data.getRoot(e),a=0,s=o[n].length-1;a<=s;a++)if(o[n][a]===t)return a==s?null:o[n][a+1];return null},getNodeByParam:function(e,t,n,o){if(!t||!n)return null;for(var a=e.data.key.children,s=0,r=t.length;s<r;s++){if(t[s][n]==o)return t[s];var i=data.getNodeByParam(e,t[s][a],n,o);if(i)return i}return null},getNodeCache:function(e,t){if(!t)return null;var n=caches[e.treeId].nodes[data.getNodeCacheId(t)];return n||null},getRootNode:function(e,t){},getNodeName:function(e,t){return""+t[e.data.key.name]},getNodePath:function(e,t){if(!t)return null;var n;return n=t.parentTId?t.getParentNode().getPath():[],n&&n.push(t),n},getNodeTitle:function(e,t){return""+t[""===e.data.key.title?e.data.key.name:e.data.key.title]},getNodes:function(e){return data.getRoot(e)[e.data.key.children]},getNodesByParam:function(e,t,n,o){if(!t||!n)return[];for(var a=e.data.key.children,s=[],r=0,i=t.length;r<i;r++)t[r][n]==o&&s.push(t[r]),s=s.concat(data.getNodesByParam(e,t[r][a],n,o));return s},getNodesByParamFuzzy:function(e,t,n,o,a){if(!t||!n)return[];var s=e.data.key.children,r=[];o=o.toLowerCase();for(var i=0,d=t.length;i<d;i++){var l=$$(t[i],e);"search"===a&&o&&$(l).addClass("node-hide"),l.removeClass("match-node"),l.find(".zTree-node").removeClass("match-node").removeClass("search-match"),l.find(".zTree-node").find(".search-match").removeClass("search-match"),"string"==typeof t[i][n]&&t[i][n].toLowerCase().indexOf(o)>-1&&r.push(t[i]),r=r.concat(data.getNodesByParamFuzzy(e,t[i][s],n,o,a))}return r},getNodesByFilter:function(e,t,n,o,a){if(!t)return o?null:[];for(var s=e.data.key.children,r=o?null:[],i=0,d=t.length;i<d;i++){if(tools.apply(n,[t[i],a],!1)){if(o)return t[i];r.push(t[i])}var l=data.getNodesByFilter(e,t[i][s],n,o,a);if(o&&l)return l;r=o?l:r.concat(l)}return r},getPreNode:function(e,t){if(!t)return null;for(var n=e.data.key.children,o=t.parentTId?t.getParentNode():data.getRoot(e),a=0,s=o[n].length;a<s;a++)if(o[n][a]===t)return 0==a?null:o[n][a-1];return null},getRoot:function(e){return e?roots[e.treeId]:null},getRoots:function(){return roots},getSetting:function(e){return settings[e]},getSettings:function(){return settings},getZTreeTools:function(e){var t=this.getRoot(this.getSetting(e));return t?t.treeTools:null},initCache:function(e){for(var t=0,n=_init.caches.length;t<n;t++)_init.caches[t].apply(this,arguments)},initNode:function(e,t,n,o,a,s){for(var r=0,i=_init.nodes.length;r<i;r++)_init.nodes[r].apply(this,arguments)},initRoot:function(e){for(var t=0,n=_init.roots.length;t<n;t++)_init.roots[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var n=data.getRoot(e),o=0,a=n.curSelectedList.length;o<a;o++)if(t===n.curSelectedList[o])return!0;return!1},removeNodeCache:function(e,t){var n=e.data.key.children;if(t[n])for(var o=0,a=t[n].length;o<a;o++)data.removeNodeCache(e,t[n][o]);data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var n=data.getRoot(e),o=0,a=n.curSelectedList.length;o<a;o++)t!==n.curSelectedList[o]&&data.getNodeCache(e,n.curSelectedList[o].tId)||(n.curSelectedList.splice(o,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,t]),o--,a--)},setCache:function(e,t){caches[e.treeId]=t},setRoot:function(e,t){roots[e.treeId]=t},setZTreeTools:function(e,t){for(var n=0,o=_init.zTreeTools.length;n<o;n++)_init.zTreeTools[n].apply(this,arguments)},transformToArrayFormat:function(e,t){if(!t)return[];var n=e.data.key.children,o=[];if(tools.isArray(t))for(var a=0,s=t.length;a<s;a++)o.push(t[a]),t[a][n]&&(o=o.concat(data.transformToArrayFormat(e,t[a][n])));else o.push(t),t[n]&&(o=o.concat(data.transformToArrayFormat(e,t[n])));return o},transformTozTreeFormat:function(e,t){var n,o,a=e.data.simpleData.idKey,s=e.data.simpleData.pIdKey,r=e.data.key.children;if(!a||""==a||!t)return[];if(tools.isArray(t)){var i=[],d={};for(n=0,o=t.length;n<o;n++)d[t[n][a]]=t[n];for(n=0,o=t.length;n<o;n++)d[t[n][s]]&&t[n][a]!=t[n][s]?(d[t[n][s]][r]||(d[t[n][s]][r]=[]),d[t[n][s]][r].push(t[n])):i.push(t[n]);return i}return[t]}},event={bindEvent:function(e){for(var t=0,n=_init.bind.length;t<n;t++)_init.bind[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,n=_init.unbind.length;t<n;t++)_init.unbind[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},n=e.treeObj;e.view.txtSelectedEnable||n.bind("selectstart",handler.onSelectStart).css({"-moz-user-select":"-moz-none"}),n.bind("click",t,event.proxy),n.bind("dblclick",t,event.proxy),n.bind("mouseover",t,event.proxy),n.bind("mouseout",t,event.proxy),n.bind("mousedown",t,event.proxy),n.bind("mouseup",t,event.proxy),n.bind("contextmenu",t,event.proxy)},unbindTree:function(e){e.treeObj.unbind("selectstart",handler.onSelectStart).unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(e){for(var t=[],n=0,o=_init.proxys.length;n<o;n++){var a=_init.proxys[n].apply(this,arguments);if(t.push(a),a.stop)break}return t},proxy:function(e){var t=data.getSetting(e.data.treeId);if(!tools.uCanDo(t,e))return!0;for(var n=event.doProxy(e),o=!0,a=0,s=n.length;a<s;a++){var r=n[a];r.nodeEventCallback&&(!0,o=r.nodeEventCallback.apply(r,[e,r.node])&&o),r.treeEventCallback&&(!0,o=r.treeEventCallback.apply(r,[e,r.node])&&o)}return o}},handler={onSwitchNode:function(e,t){var n=data.getSetting(e.data.treeId);if(t.open){if(0==tools.apply(n.callback.beforeCollapse,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}else{if(0==tools.apply(n.callback.beforeExpand,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}return!0},onClickNode:function(e,t){var n=data.getSetting(e.data.treeId),o=n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&data.isSelectedNode(n,t)?0:n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&n.view.selectedMulti?2:1;return 0==tools.apply(n.callback.beforeClick,[n.treeId,t,o],!0)||(0===o?view.cancelPreSelectedNode(n,t):view.selectNode(n,t,2===o),n.treeObj.trigger(consts.event.CLICK,[e,n.treeId,t,o]),!0)},onZTreeMousedown:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseDown,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseDown,[e,n.treeId,t]),!0},onZTreeMouseup:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseUp,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseUp,[e,n.treeId,t]),!0},onZTreeDblclick:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeDblClick,[n.treeId,t],!0)&&tools.apply(n.callback.onDblClick,[e,n.treeId,t]),!0},onZTreeContextmenu:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeRightClick,[n.treeId,t],!0)&&tools.apply(n.callback.onRightClick,[e,n.treeId,t]),"function"!=typeof n.callback.onRightClick},onSelectStart:function(e){var t=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===t||"textarea"===t}},tools={apply:function(e,t,n){return"function"==typeof e?e.apply(zt,t||[]):n},canAsync:function(e,t){var n=e.data.key.children;return e.async.enable&&t&&t.isParent&&!(t.zAsync||t[n]&&t[n].length>0)},clone:function(e){if(null===e)return null;var t=tools.isArray(e)?[]:{};for(var n in e)t[n]=e[n]instanceof Date?new Date(e[n].getTime()):"object"==typeof e[n]?tools.clone(e[n]):e[n];return t},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},$:function(e,t,n){return t&&"string"!=typeof t&&(n=t,t=""),"string"==typeof e?$(e,n?n.treeObj.get(0).ownerDocument:null):$("#"+e.tId+t,n?n.treeObj:null)},getMDom:function(e,t,n){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var o=0,a=n.length;t.tagName&&o<a;o++)if(tools.eqs(t.tagName,n[o].tagName)&&null!==t.getAttribute(n[o].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return $(e).parent("li").get(0)||$(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return $(e).closest("#"+t).length>0},uCanDo:function(e,t){return!0}},view={addNodes:function(e,t,n,o,a){if(!e.data.keep.leaf||!t||t.isParent)if(tools.isArray(o)||(o=[o]),e.data.simpleData.enable&&(o=data.transformTozTreeFormat(e,o)),t){var s=$$(t,consts.id.SWITCH,e),r=$$(t,consts.id.ICON,e),i=$$(t,consts.id.UL,e);t.open||(view.replaceSwitchClass(t,s,consts.folder.CLOSE),view.replaceIcoClass(t,r,consts.folder.CLOSE),t.open=!1,i.css({display:"none"})),data.addNodesData(e,t,n,o),view.createNodes(e,t.level+1,o,t,n),a||view.expandCollapseParentNode(e,t,!0)}else data.addNodesData(e,data.getRoot(e),n,o),view.createNodes(e,0,o,null,n)},appendNodes:function(e,t,n,o,a,s,r){if(!n)return[];var i,d,l=[],c=e.data.key.children,u=o||data.getRoot(e),p=u[c];(!p||a>=p.length)&&(a=-1);for(var f=0,g=n.length;f<g;f++){var v=n[f];s&&(i=(0===a||p.length==n.length)&&0==f,d=a<0&&f==n.length-1,data.initNode(e,t,v,o,i,d,r),data.addNodeCache(e,v));var N=[];v[c]&&v[c].length>0&&(N=view.appendNodes(e,t+1,v[c],v,-1,s,r&&v.open)),r&&(view.makeDOMNodeMainBefore(l,e,v),view.makeDOMNodeLine(l,e,v),data.getBeforeA(e,v,l),view.makeDOMNodeNameBefore(l,e,v),data.getInnerBeforeA(e,v,l),view.makeDOMNodeIcon(l,e,v),data.getInnerAfterA(e,v,l),view.makeDOMNodeNameAfter(l,e,v),data.getAfterA(e,v,l),v.isParent&&v.open&&view.makeUlHtml(e,v,l,N.join("")),view.makeDOMNodeMainAfter(l,e,v),data.addCreatedNode(e,v))}return l},appendParentULDom:function(e,t){var n=[],o=$$(t,e);!o.get(0)&&t.parentTId&&(view.appendParentULDom(e,t.getParentNode()),o=$$(t,e));var a=$$(t,consts.id.UL,e);a.get(0)&&a.remove();var s=e.data.key.children,r=view.appendNodes(e,t.level+1,t[s],t,-1,!1,!0);view.makeUlHtml(e,t,n,r.join("")),o.append(n.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"",class:consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={};for(i=0,l=setting.async.autoParam.length;node&&i<l;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;pKey.length>1&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}if(tools.isArray(setting.async.otherParam))for(i=0,l=setting.async.otherParam.length;i<l;i+=2)tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1];else for(var p in setting.async.otherParam)tmpParam[p]=setting.async.otherParam[p];var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,cache:!1,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:setting.async.contentType.indexOf("application/json")>-1?JSON.stringify(tmpParam):tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(e){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,-1,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,-1,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(e,t,n){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,e,t,n]))}}),!0},cancelPreSelectedNode:function(e,t,n){var o,a,s=data.getRoot(e).curSelectedList;for(o=s.length-1;o>=0;o--)if(a=s[o],t===a||!t&&(!n||n!==a)){if($$(a,consts.id.A,e).removeClass(consts.node.CURSELECTED),t){data.removeSelectedNode(e,t);break}s.splice(o,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,a])}},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=data.getRoot(e);t.createdNodes.length>0;){var n=t.createdNodes.shift();tools.apply(e.view.addDiyDom,[e.treeId,n]),e.callback.onNodeCreated&&e.treeObj.trigger(consts.event.NODECREATED,[e.treeId,n])}},createNodes:function(e,t,n,o,a){if(n&&0!=n.length){var s=data.getRoot(e),r=e.data.key.children,i=!o||o.open||!!$$(o[r][0],e).get(0);s.createdNodes=[];var d,l,c=view.appendNodes(e,t,n,o,a,!0,i);if(o){var u=$$(o,consts.id.UL,e);u.get(0)&&(d=u)}else d=e.treeObj;d&&(a>=0&&(l=d.children()[a]),a>=0&&l?$(l).before(c.join("")):d.append(c.join(""))),view.createNodeCallback(e)}},destroy:function(e){e&&(data.initCache(e),data.initRoot(e),event.unbindTree(e),event.unbindEvent(e),e.treeObj.empty(),delete settings[e.treeId])},expandCollapseNode:function(e,t,n,o,a){var s,r,i=data.getRoot(e),d=e.data.key.children;if(!t)return void tools.apply(a,[]);if(i.expandTriggerFlag&&(r=a,s=function(){r&&r(),t.open?e.treeObj.trigger(consts.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(consts.event.COLLAPSE,[e.treeId,t])},a=s,i.expandTriggerFlag=!1),!t.open&&t.isParent&&(!$$(t,consts.id.UL,e).get(0)||t[d]&&t[d].length>0&&!$$(t[d][0],e).get(0))&&(view.appendParentULDom(e,t),view.createNodeCallback(e)),t.open==n)return void tools.apply(a,[]);var l=$$(t,consts.id.UL,e),c=$$(t,consts.id.SWITCH,e),u=$$(t,consts.id.ICON,e);t.isParent?(t.open=!t.open,t.iconOpen&&t.iconClose&&u.attr("style",view.makeNodeIcoStyle(e,t)),t.open?(view.replaceSwitchClass(t,c,consts.folder.OPEN),view.replaceIcoClass(t,u,consts.folder.OPEN),0==o||""==e.view.expandSpeed?(l.show(),tools.apply(a,[])):t[d]&&t[d].length>0?l.slideDown(e.view.expandSpeed,a):(l.show(),tools.apply(a,[]))):(view.replaceSwitchClass(t,c,consts.folder.CLOSE),view.replaceIcoClass(t,u,consts.folder.CLOSE),0!=o&&""!=e.view.expandSpeed&&t[d]&&t[d].length>0?l.slideUp(e.view.expandSpeed,a):(l.hide(),tools.apply(a,[])))):tools.apply(a,[])},expandCollapseParentNode:function(e,t,n,o,a){if(t){if(!t.parentTId)return void view.expandCollapseNode(e,t,n,o,a);view.expandCollapseNode(e,t,n,o),t.parentTId&&view.expandCollapseParentNode(e,t.getParentNode(),n,o,a)}},expandCollapseSonNode:function(e,t,n,o,a){var s=data.getRoot(e),r=e.data.key.children,i=t?t[r]:s[r],d=!t&&o,l=data.getRoot(e).expandTriggerFlag;if(data.getRoot(e).expandTriggerFlag=!1,i)for(var c=0,u=i.length;c<u;c++)i[c]&&view.expandCollapseSonNode(e,i[c],n,d);data.getRoot(e).expandTriggerFlag=l,view.expandCollapseNode(e,t,n,o,a)},isSelectedNode:function(e,t){if(!t)return!1;var n,o=data.getRoot(e).curSelectedList;for(n=o.length-1;n>=0;n--)if(t===o[n])return!0;return!1},makeDOMNodeIcon:function(e,t,n){var o=data.getNodeName(t,n),a=t.view.nameIsHTML?o:o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(n.searchMatch){var s="";s=t.selfArgu.treeSearch&&t.selfArgu.treeSearch.get(0)?$.trim(t.selfArgu.treeSearch.val()):$.trim($(".pe-tree-form-text").val());var r=a.indexOf(s),i=a.substring(r,r+s.length),d='<span class="search-match">'+i+"</span>";a=a.substring(0,r)+d+a.substring(r+s.length)}t.selfArgu.isNoIcoIcon?e.push("<span id='",n.tId,consts.id.SPAN,"' class='",consts.className.NAME,"'>",a,"</span><span class='node-opt-btn-wrap'></span>"):"organize"===t.selfArgu.treeType&&0===n.level?e.push("<span class='hover-blue-item'></span><span id='",n.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='iconfont before-node-icon ",view.makeNodeIcoClass(t,n),"' style='",view.makeNodeIcoStyle(t,n),"'></span><span id='",n.tId,consts.id.SPAN,"' class='",consts.className.NAME,"'>",a,"</span><span class='node-opt-btn-wrap'><span class='button iconfont icon-new-add add' id='addBtn_"+n.tId+"' title='新增'></span></span>"):e.push("<span class='hover-blue-item'></span><span id='",n.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='iconfont before-node-icon ",view.makeNodeIcoClass(t,n),"' style='",view.makeNodeIcoStyle(t,n),"'></span><span id='",n.tId,consts.id.SPAN,"' class='",consts.className.NAME,"'>",a,"</span><span class='node-opt-btn-wrap'></span>")},makeDOMNodeLine:function(e,t,n){e.push("<span id='",n.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(t,n),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e,t,n){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,n){t.check.enable?e.push("<li id='",n.tId,"' class='zTree-node-li checkbox-node-li  ",consts.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>"):e.push("<li id='",n.tId,"' class='zTree-node-li ",consts.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e,t,n){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,n){var o=data.getNodeTitle(t,n),a=view.makeNodeUrl(t,n),s=view.makeNodeFontCss(t,n),r=[];for(var i in s)r.push(i,":",s[i],";");n.selected?e.push("<a id='",n.tId,consts.id.A,"' class='zTree-node isHasSelected ",consts.className.LEVEL,n.level,"' treeNode",consts.id.A,' onclick="',n.click||"",'" ',null!=a&&a.length>0?"href='"+a+"'":""," target='",view.makeNodeTarget(n),"' style=' padding-left:",15*(n.level+1),"px;width:",t.selfArgu.width-15*(n.level+1),"px; ",r.join(""),"'"):("organize"===t.selfArgu.treeType&&0===n.level&&e.push("<a id='",n.tId,consts.id.A,"' class='zTree-node  ",consts.className.LEVEL,n.level,"' treeNode",consts.id.A,' onclick="',n.click||"",'" ',null!=a&&a.length>0?"href='"+a+"'":""," target='",view.makeNodeTarget(n),"' style='padding-left:",15*(n.level+1),"px;width:",t.selfArgu.width-15*(n.level+1),"px; ",r.join(""),"'"),e.push("<a id='",n.tId,consts.id.A,"' class='zTree-node  ",consts.className.LEVEL,n.level,"' treeNode",consts.id.A,' onclick="',n.click||"",'" ',null!=a&&a.length>0?"href='"+a+"'":""," target='",view.makeNodeTarget(n),"' style='padding-left:",15*(n.level+1),"px;width:",t.selfArgu.width-15*(n.level+1),"px; ",r.join(""),"'")),tools.apply(t.view.showTitle,[t.treeId,n],t.view.showTitle)&&o&&e.push("title='",o.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){var n=tools.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return n&&"function"!=typeof n?n:{}},makeNodeIcoClass:function(e,t){var n=["ico"];t.isAjaxing||(n[0]=(t.iconSkin?t.iconSkin+"_":"")+n[0],t.isParent?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU));var o=consts.className.BUTTON+" "+n.join("_");return t.isParent&&t.open&&t.children?o+=" iconfont icon-screen-icon":t.isParent&&!t.open&&t.children?o+=" iconfont icon-tree-close":t.isParent&&!t.open&&!t.children||t.isParent&&t.open&&!t.children?o+=" iconfont icon-tree-dot":o+=" iconfont icon-exclusive-category-icon",o},makeNodeIcoStyle:function(e,t){var n=[];if(!t.isAjaxing){var o=t.isParent&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t[e.data.key.icon];o&&n.push("background:url(",o,") 0 0 no-repeat;"),0!=e.view.showIcon&&tools.apply(e.view.showIcon,[e.treeId,t],!0)||n.push("width:0px;height:0px;")}return n.join("")},makeNodeLineClass:function(e,t){var n=[];return e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?n.push(consts.line.ROOT):0==t.level&&t.isFirstNode?n.push(consts.line.ROOTS):t.isLastNode?n.push(consts.line.BOTTOM):n.push(consts.line.CENTER):n.push(consts.line.NOLINE),t.isParent?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU),view.makeNodeLineClassEx(t)+n.join("_")},makeNodeLineClassEx:function(e){return consts.className.BUTTON+" "+consts.className.LEVEL+e.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var n=e.data.key.url;return t[n]?t[n]:null},makeUlHtml:function(e,t,n,o){n.push("<ul id='",t.tId,consts.id.UL,"' class='zTree-node-ul ",consts.className.LEVEL,t.level," ",view.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),n.push(o),n.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?consts.line.LINE:""},removeChildNodes:function(e,t){if(t){var n=e.data.key.children,o=t[n];if(o){for(var a=0,s=o.length;a<s;a++)data.removeNodeCache(e,o[a]);if(data.removeSelectedNode(e),delete t[n],e.data.keep.parent)$$(t,consts.id.UL,e).empty();else{t.isParent=!1,t.open=!1;var r=$$(t,consts.id.SWITCH,e),i=$$(t,consts.id.ICON,e);view.replaceSwitchClass(t,r,consts.folder.DOCU),view.replaceIcoClass(t,i,consts.folder.DOCU),$$(t,consts.id.UL,e).remove()}}}},scrollIntoView:function(e){if(e)if(e.scrollIntoViewIfNeeded)e.scrollIntoViewIfNeeded();else if(e.scrollIntoView)e.scrollIntoView(!1);else try{e.focus().blur()}catch(e){}},setFirstNode:function(e,t){var n=e.data.key.children;t[n].length>0&&(t[n][0].isFirstNode=!0)},setLastNode:function(e,t){var n=e.data.key.children,o=t[n].length;o>0&&(t[n][o-1].isLastNode=!0)},removeNode:function(e,t){var n=data.getRoot(e),o=e.data.key.children,a=t.parentTId?t.getParentNode():n;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},data.getNodeCache(e,t.tId)){$$(t,e).remove(),data.removeNodeCache(e,t),data.removeSelectedNode(e,t);for(var s=0,r=a[o].length;s<r;s++)if(a[o][s].tId==t.tId){a[o].splice(s,1);break}view.setFirstNode(e,a),view.setLastNode(e,a);var i,d,l,c=a[o].length;if(e.data.keep.parent||0!=c){if(e.view.showLine&&c>0){var u=a[o][c-1];if(i=$$(u,consts.id.UL,e),d=$$(u,consts.id.SWITCH,e),l=$$(u,consts.id.ICON,e),a==n)if(1==a[o].length)view.replaceSwitchClass(u,d,consts.line.ROOT);else{var p=$$(a[o][0],consts.id.SWITCH,e);view.replaceSwitchClass(a[o][0],p,consts.line.ROOTS),view.replaceSwitchClass(u,d,consts.line.BOTTOM)}else view.replaceSwitchClass(u,d,consts.line.BOTTOM);i.removeClass(consts.line.LINE)}}else a.isParent=!1,a.open=!1,i=$$(a,consts.id.UL,e),d=$$(a,consts.id.SWITCH,e),l=$$(a,consts.id.ICON,e),view.replaceSwitchClass(a,d,consts.folder.DOCU),view.replaceIcoClass(a,l,consts.folder.DOCU),i.css("display","none")}},replaceIcoClass:function(e,t,n){if(t&&!e.isAjaxing){var o=t.attr("class");if(void 0!=o){var a=o.split("_");switch(n){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:a[a.length-1]=n}var s=a.join("_");e.children?e.open?s+="  iconfont icon-screen-icon":s+=" iconfont icon-tree-close":s+="  iconfont icon-tree-dot",t.attr("class",s)}}},replaceSwitchClass:function(e,t,n){if(t){var o=t.attr("class");if(void 0!=o){var a=o.split("_");switch(n){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:a[0]=view.makeNodeLineClassEx(e)+n;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:a[1]=n}t.attr("class",a.join("_")),n!==consts.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,n){n||view.cancelPreSelectedNode(e,null,t),$$(t,consts.id.A,e).addClass(consts.node.CURSELECTED),data.addSelectedNode(e,t),e.treeObj.trigger(consts.event.SELECTED,[e.treeId,t])},setNodeFontCss:function(e,t,n){var o=$$(t,consts.id.A,e),a=view.makeNodeFontCss(e,t),s=o.find(".node_name"),r=s.html(),i=r.indexOf(n),d=r.substring(i,i+n.length),l='<span class="search-match">'+d+"</span>",c=r.substring(0,i)+l+r.substring(i+n.length);s.html(c),a&&(o.addClass(a).find(".node-name").addClass("search-match"),o.parentsUntil(".pe-tree-container").addClass(a),o.parents().prev(".zTree-node").addClass(a))},setNodeLineIcos:function(e,t,n,o,a,s){if(t){var r=$$(t,consts.id.SWITCH,e),i=$$(t,consts.id.UL,e),d=$$(t,consts.id.ICON,e),l=view.makeUlLineClass(e,t);0==l.length?i.removeClass(consts.line.LINE):i.addClass(l),r.attr("class",view.makeNodeLineClass(e,t)),t.isParent?r.removeAttr("disabled"):r.attr("disabled","disabled"),d.removeAttr("style"),d.attr("style",view.makeNodeIcoStyle(e,t)),d.attr("class",view.makeNodeIcoClass(e,t)),n&&PEMO.ZTREE.saveNodeMove(n,o,a,s)}},setNodeName:function(e,t){var n=data.getNodeTitle(e,t),o=$$(t,consts.id.SPAN,e);if(o.empty(),e.view.nameIsHTML?o.html(data.getNodeName(e,t)):o.text(data.getNodeName(e,t)),tools.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)){$$(t,consts.id.A,e).attr("title",n||"")}},setNodeTarget:function(e,t){$$(t,consts.id.A,e).attr("target",view.makeNodeTarget(t))},setNodeUrl:function(e,t){var n=$$(t,consts.id.A,e),o=view.makeNodeUrl(e,t);null==o||0==o.length?n.removeAttr("href"):n.attr("href",o)},
switchNode:function(e,t){if(t.open||!tools.canAsync(e,t))view.expandCollapseNode(e,t,!t.open);else if(e.async.enable){if(!view.asyncNode(e,t))return void view.expandCollapseNode(e,t,!t.open)}else t&&view.expandCollapseNode(e,t,!t.open)}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(e){var t=data.getZTreeTools(e);return t||null},destroy:function(e){if(e&&e.length>0)view.destroy(data.getSetting(e));else for(var t in settings)view.destroy(settings[t])},init:function(e,t,n){var o=tools.clone(_setting);$.extend(!0,o,t),o.treeId=e.attr("id"),o.treeObj=e,o.treeObj.empty(),settings[o.treeId]=o,void 0===document.body.style.maxHeight&&(o.view.expandSpeed=""),data.initRoot(o);var a=data.getRoot(o),s=o.data.key.children;n=n?tools.clone(tools.isArray(n)?n:[n]):[],o.data.simpleData.enable?a[s]=data.transformTozTreeFormat(o,n):a[s]=n,data.initCache(o),event.unbindTree(o),event.bindTree(o),event.unbindEvent(o),event.bindEvent(o);var r={setting:o,addNodes:function(e,t,n,a){function s(){view.addNodes(o,e,t,i,1==a)}if(e||(e=null),e&&!e.isParent&&o.data.keep.leaf)return null;var r=parseInt(t,10);if(isNaN(r)?(a=!!n,n=t,t=-1):t=r,!n)return null;var i=tools.clone(tools.isArray(n)?n:[n]);return tools.canAsync(o,e)?view.asyncNode(o,e,a,s):s(),i},cancelSelectedNode:function(e){view.cancelPreSelectedNode(o,e)},destroy:function(){view.destroy(o)},expandAll:function(e){return e=!!e,view.expandCollapseSonNode(o,null,e,!0),e},expandNode:function(e,t,n,a,s){function r(){var t=$$(e,o).get(0);t&&!1!==a&&view.scrollIntoView(t)}return e&&e.isParent&&e.children?(!0!==t&&!1!==t&&(t=!e.open),(s=!!s)&&t&&0==tools.apply(o.callback.beforeExpand,[o.treeId,e],!0)?null:s&&!t&&0==tools.apply(o.callback.beforeCollapse,[o.treeId,e],!0)?null:(t&&e.parentTId&&view.expandCollapseParentNode(o,e.getParentNode(),t,!1),t!==e.open||n?(data.getRoot(o).expandTriggerFlag=s,!tools.canAsync(o,e)&&n?view.expandCollapseSonNode(o,e,t,!0,r):(e.open=!t,view.switchNode(this.setting,e),r()),t):null)):null},getNodes:function(){return data.getNodes(o)},getNodeByParam:function(e,t,n){return e?data.getNodeByParam(o,n?n[o.data.key.children]:data.getNodes(o),e,t):null},getNodeByTId:function(e){return data.getNodeCache(o,e)},getNodesByParam:function(e,t,n){return e?data.getNodesByParam(o,n?n[o.data.key.children]:data.getNodes(o),e,t):null},getNodesByParamFuzzy:function(e,t,n,a){return e?data.getNodesByParamFuzzy(o,n?n[o.data.key.children]:data.getNodes(o),e,t,a):null},getNodesByFilter:function(e,t,n,a){return t=!!t,e&&"function"==typeof e?data.getNodesByFilter(o,n?n[o.data.key.children]:data.getNodes(o),e,t,a):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=o.data.key.children,n=e.parentTId?e.getParentNode():data.getRoot(o),a=0,s=n[t].length;a<s;a++)if(n[t][a]==e)return a;return-1},getSelectedNodes:function(){for(var e=[],t=data.getRoot(o).curSelectedList,n=0,a=t.length;n<a;n++)e.push(t[n]);return e},isSelectedNode:function(e){return data.isSelectedNode(o,e)},reAsyncChildNodes:function(e,t,n){if(this.setting.async.enable){var a=!e;if(a&&(e=data.getRoot(o)),"refresh"==t){for(var s=this.setting.data.key.children,r=0,i=e[s]?e[s].length:0;r<i;r++)data.removeNodeCache(o,e[s][r]);if(data.removeSelectedNode(o),e[s]=[],a)this.setting.treeObj.empty();else{$$(e,consts.id.UL,o).empty()}}view.asyncNode(this.setting,a?null:e,!!n)}},refresh:function(){this.setting.treeObj.empty();var e=data.getRoot(o),t=e[o.data.key.children];data.initRoot(o),e[o.data.key.children]=t,data.initCache(o),view.createNodes(o,0,e[o.data.key.children],null,-1)},removeChildNodes:function(e){if(!e)return null;var t=o.data.key.children,n=e[t];return view.removeChildNodes(o,e),n||null},removeNode:function(e,t){e&&((t=!!t)&&0==tools.apply(o.callback.beforeRemove,[o.treeId,e],!0)||(view.removeNode(o,e),t&&this.setting.treeObj.trigger(consts.event.REMOVE,[o.treeId,e])))},selectNode:function(e,t,n){function a(){if(!n){var t=$$(e,o).get(0);view.scrollIntoView(t)}}if(e&&tools.uCanDo(o)){if(t=o.view.selectedMulti&&t,e.parentTId)view.expandCollapseParentNode(o,e.getParentNode(),!0,!1,a);else if(!n)try{$$(e,o).focus().blur()}catch(e){}view.selectNode(o,e,t)}},transformTozTreeNodes:function(e){return data.transformTozTreeFormat(o,e)},transformToArray:function(e){return data.transformToArrayFormat(o,e)},updateNode:function(e,t,n){if(e){$$(e,o).get(0)&&tools.uCanDo(o)&&(view.setNodeName(o,e),view.setNodeTarget(o,e),view.setNodeUrl(o,e),view.setNodeLineIcos(o,e),n&&view.setNodeFontCss(o,e,n))}}};return a.treeTools=r,data.setZTreeTools(o,r),a[s]&&a[s].length>0?view.createNodes(o,0,a[s],null,-1):o.async.enable&&o.async.url&&""!==o.async.url&&view.asyncNode(o),r}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts}(jQuery);
!function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},o={edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"删除",renameTitle:"重命名",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},r=function(e){var t=I.getRoot(e),o=I.getRoots();t.curEditNode=null,t.curEditInput=null,t.curHoverNode=null,t.dragFlag=0,t.dragNodeShowBefore=[],t.dragMaskList=new Array,o.showHoverDom=!0},d=function(e){},n=function(e){var t=e.treeObj,o=T.event;t.bind(o.RENAME,function(t,o,r,d){f.apply(e.callback.onRename,[t,o,r,d])}),t.bind(o.DRAG,function(t,o,r,d){f.apply(e.callback.onDrag,[o,r,d])}),t.bind(o.DRAGMOVE,function(t,o,r,d){f.apply(e.callback.onDragMove,[o,r,d])}),t.bind(o.DROP,function(t,o,r,d,n,a,i){f.apply(e.callback.onDrop,[o,r,d,n,a,i])})},a=function(e){var t=e.treeObj,o=T.event;t.unbind(o.RENAME),t.unbind(o.DRAG),t.unbind(o.DRAGMOVE),t.unbind(o.DROP)},i=function(t){var o=t.target||t.srcElement,r=I.getSetting(t.data.treeId),d=t.relatedTarget,n="",a=null,i="",l=null,s=null;if(e(o).hasClass("add")||e(o).hasClass("edit")||e(o).hasClass("moveUp")||e(o).hasClass("moveDown")||e(o).hasClass("remove"))return!1;if(f.eqs(t.type,"mouseover")){var t=t||window.event;t.stopPropagation(),s=f.getMDom(r,o,[{tagName:"a",attrName:"treeNode"+T.id.A}]),s&&(n=f.getNodeMainDom(s).id,i="hoverOverNode")}else if(f.eqs(t.type,"mouseout")){var t=t||window.event;t.stopPropagation(),s=f.getMDom(r,d,[{tagName:"a",attrName:"treeNode"+T.id.A}]),s||(n="remove",i="hoverOutNode")}else f.eqs(t.type,"mousedown")&&(s=f.getMDom(r,o,[{tagName:"a",attrName:"treeNode"+T.id.A}]))&&(n=f.getNodeMainDom(s).id,i="mousedownNode");if(n.length>0)switch(a=I.getNodeCache(r,n),i){case"mousedownNode":l=v.onMousedownNode;break;case"hoverOverNode":l=v.onHoverOverNode;break;case"hoverOutNode":l=v.onHoverOutNode}return{stop:!1,node:a,nodeEventType:i,nodeEventCallback:l,treeEventType:"",treeEventCallback:null}},l=function(e,t,o,r,d,n,a){o&&(o.isHover=!1,o.editNameFlag=!1)},s=function(e,t){t.cancelEditName=function(e){I.getRoot(this.setting).curEditNode&&E.cancelCurEditNode(this.setting,e||null,!0,"cancelEditName")},t.copyNode=function(e,t,o,r){function d(){E.addNodes(n.setting,e,-1,[a],r)}if(!t)return null;if(e&&!e.isParent&&this.setting.data.keep.leaf&&o===T.move.TYPE_INNER)return null;var n=this,a=f.clone(t);return e||(e=null,o=T.move.TYPE_INNER),o==T.move.TYPE_INNER?f.canAsync(this.setting,e)?E.asyncNode(this.setting,e,r,d):d():(E.addNodes(this.setting,e.parentNode,-1,[a],r),E.moveNode(this.setting,e,a,o,!1,r)),a},t.editName=function(e,t){e.opt=t,e&&e.tId&&e===I.getNodeCache(this.setting,e.tId)&&(e.parentTId&&E.expandCollapseParentNode(this.setting,e.getParentNode(),!0),E.editNode(this.setting,e,t))},t.moveNode=function(e,t,o,r){function d(){E.moveNode(n.setting,e,t,o,!1,r)}if(!t)return t;if(e&&!e.isParent&&this.setting.data.keep.leaf&&o===T.move.TYPE_INNER)return null;if(e&&(t.parentTId==e.tId&&o==T.move.TYPE_INNER||h(t,this.setting).find("#"+e.tId).length>0))return null;e||(e=null);var n=this;return f.canAsync(this.setting,e)&&o===T.move.TYPE_INNER?E.asyncNode(this.setting,e,r,d):d(),t},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()},t.editObj=g},c={setSonNodeLevel:function(e,t,o){if(o){var r=e.data.key.children;if(o.level=t?t.level+1:0,o[r])for(var d=0,n=o[r].length;d<n;d++)o[r][d]&&I.setSonNodeLevel(e,o,o[r][d])}}},u={},v={onHoverOverNode:function(e,t){e.stopPropagation();var o=I.getSetting(e.data.treeId),r=I.getRoot(o);r.curHoverNode!=t&&v.onHoverOutNode(e),r.curHoverNode=t,E.addHoverDom(o,t)},onHoverOutNode:function(e,t){e.stopPropagation();var o=I.getSetting(e.data.treeId),r=I.getRoot(o);r.curHoverNode&&(E.removeTreeDom(o,r.curHoverNode),r.curHoverNode=null)},onMousedownNode:function(o,r){function d(o){function r(){R=null,L="",A=T.move.TYPE_INNER,P.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}if(0==u.dragFlag&&Math.abs(Y-o.clientX)<c.edit.drag.minMoveSize&&Math.abs(j-o.clientY)<c.edit.drag.minMoveSize)return!0;var d,a,i,l,s,N=c.data.key.children;if(O.css("cursor","pointer"),0==u.dragFlag){if(0==f.apply(c.callback.beforeDrag,[c.treeId,p],!0))return n(o),!0;for(d=0,a=p.length;d<a;d++)0==d&&(u.dragNodeShowBefore=[]),i=p[d],i.isParent&&i.open?(E.expandCollapseNode(c,i,!i.open),u.dragNodeShowBefore[i.tId]=!0):u.dragNodeShowBefore[i.tId]=!1;u.dragFlag=1,v.showHoverDom=!1,f.showIfameMask(c,!0);var g=!0,m=-1;if(p.length>1){var D=p[0].parentTId?p[0].getParentNode()[N]:I.getNodes(c);for(s=[],d=0,a=D.length;d<a;d++)if(void 0!==u.dragNodeShowBefore[D[d].tId]&&(g&&m>-1&&m+1!==d&&(g=!1),s.push(D[d]),m=d),p.length===s.length){p=s;break}}for(g&&(C=p[0].getPreNode(),w=p[p.length-1].getNextNode()),b=h("<ul class='zTreeDragUL'></ul>",c),d=0,a=p.length;d<a;d++)i=p[d],i.editNameFlag=!1,E.selectNode(c,i,d>0),E.removeTreeDom(c,i),d>c.edit.drag.maxShowNodeNum-1||(l=h("<li id='"+i.tId+"_tmp'></li>",c),l.append(h(i,T.id.A,c).clone()),l.css("padding","0"),l.children("#"+i.tId+T.id.A).removeClass(T.node.CURSELECTED),b.append(l),d==c.edit.drag.maxShowNodeNum-1&&(l=h("<li id='"+i.tId+"_moretmp'><a>  ...  </a></li>",c),b.append(l)));b.attr("id",p[0].tId+T.id.UL+"_tmp"),b.addClass(c.treeObj.attr("class")),b.appendTo(O),P=h("<span class='tmpzTreeMove_arrow'></span>",c),P.attr("id","zTreeMove_arrow_tmp"),P.appendTo(O),c.treeObj.trigger(T.event.DRAG,[o,c.treeId,p])}if(1==u.dragFlag){if(R&&P.attr("id")==o.target.id&&L&&o.clientX+M.scrollLeft()+2>e("#"+L+T.id.A,R).offset().left){var z=e("#"+L+T.id.A,R);o.target=z.length>0?z.get(0):o.target}else R&&(R.removeClass(T.node.TMPTARGET_TREE),L&&e("#"+L+T.id.A,R).removeClass(T.node.TMPTARGET_NODE+"_"+T.move.TYPE_PREV).removeClass(T.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(T.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER));R=null,L=null,_=!1,y=c;var B=I.getSettings();for(var H in B)B[H].treeId&&B[H].edit.enable&&B[H].treeId!=c.treeId&&(o.target.id==B[H].treeId||e(o.target).parents("#"+B[H].treeId).length>0)&&(_=!0,y=B[H]);var F=M.scrollTop(),V=M.scrollLeft(),U=y.treeObj.offset(),G=y.treeObj.get(0).scrollHeight,X=y.treeObj.get(0).scrollWidth,q=o.clientY+F-U.top,W=y.treeObj.height()+U.top-o.clientY-F,K=o.clientX+V-U.left,Z=y.treeObj.width()+U.left-o.clientX-V,Q=q<c.edit.drag.borderMax&&q>c.edit.drag.borderMin,$=W<c.edit.drag.borderMax&&W>c.edit.drag.borderMin,J=K<c.edit.drag.borderMax&&K>c.edit.drag.borderMin,ee=Z<c.edit.drag.borderMax&&Z>c.edit.drag.borderMin,te=q>c.edit.drag.borderMin&&W>c.edit.drag.borderMin&&K>c.edit.drag.borderMin&&Z>c.edit.drag.borderMin,oe=Q&&y.treeObj.scrollTop()<=0,re=$&&y.treeObj.scrollTop()+y.treeObj.height()+10>=G,de=J&&y.treeObj.scrollLeft()<=0,ne=ee&&y.treeObj.scrollLeft()+y.treeObj.width()+10>=X;if(o.target&&f.isChildOrSelf(o.target,y.treeId)){for(var ae=o.target;ae&&ae.tagName&&!f.eqs(ae.tagName,"li")&&ae.id!=y.treeId;)ae=ae.parentNode;var ie=!0;for(d=0,a=p.length;d<a;d++){if(i=p[d],ae.id===i.tId){ie=!1;break}if(h(i,c).find("#"+ae.id).length>0){ie=!1;break}}ie&&o.target&&f.isChildOrSelf(o.target,ae.id+T.id.A)&&(R=e(ae),L=ae.id)}i=p[0],te&&f.isChildOrSelf(o.target,y.treeId)&&(!R&&(o.target.id==y.treeId||oe||re||de||ne)&&(_||!_&&i.parentTId)&&(R=y.treeObj),Q?y.treeObj.scrollTop(y.treeObj.scrollTop()-10):$&&y.treeObj.scrollTop(y.treeObj.scrollTop()+10),J?y.treeObj.scrollLeft(y.treeObj.scrollLeft()-10):ee&&y.treeObj.scrollLeft(y.treeObj.scrollLeft()+10),R&&R!=y.treeObj&&R.offset().left<y.treeObj.offset().left&&y.treeObj.scrollLeft(y.treeObj.scrollLeft()+R.offset().left-y.treeObj.offset().left)),b.css({top:o.clientY+F+3+"px",left:o.clientX+V+3+"px"});var le=0,se=0;if(R&&R.attr("id")!=y.treeId){var ce=null==L?null:I.getNodeCache(y,L),ue=(o.ctrlKey||o.metaKey)&&c.edit.drag.isMove&&c.edit.drag.isCopy||!c.edit.drag.isMove&&c.edit.drag.isCopy,ve=!(!C||L!==C.tId),Ne=!(!w||L!==w.tId),ge=i.parentTId&&i.parentTId==L,pe=(ue||!Ne)&&f.apply(y.edit.drag.prev,[y.treeId,p,ce],!!y.edit.drag.prev),me=(ue||!ve)&&f.apply(y.edit.drag.next,[y.treeId,p,ce],!!y.edit.drag.next),fe=(ue||!ge)&&!(y.data.keep.leaf&&!ce.isParent)&&f.apply(y.edit.drag.inner,[y.treeId,p,ce],!!y.edit.drag.inner);if(pe||me||fe){var Te=e("#"+L+T.id.A,R),Ee=ce.isLastNode?null:e("#"+ce.getNextNode().tId+T.id.A,R.next()),Ie=Te.offset().top,he=Te.offset().left,be=pe?fe?.25:me?.5:1:-1,Pe=me?fe?.75:pe?.5:0:-1,Re=(o.clientY+F-Ie)/Te.height();if((1==be||Re<=be&&Re>=-.2)&&pe?(le=1-P.width(),se=Ie-P.height()/2,A=T.move.TYPE_PREV):(0==Pe||Re>=Pe&&Re<=1.2)&&me?(le=1-P.width(),se=null==Ee||ce.isParent&&ce.open?Ie+Te.height()-P.height()/2:Ee.offset().top-P.height()/2,A=T.move.TYPE_NEXT):fe?(le=5-P.width(),se=Ie,A=T.move.TYPE_INNER):r(),R&&(P.css({display:"block",top:se+"px",left:he+le+"px"}),Te.addClass(T.node.TMPTARGET_NODE+"_"+A),k==L&&S==A||(x=(new Date).getTime()),ce&&ce.isParent&&A==T.move.TYPE_INNER)){var Ce=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==ce.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===ce.tId&&(Ce=!1),Ce&&(window.zTreeMoveTimer=setTimeout(function(){A==T.move.TYPE_INNER&&ce&&ce.isParent&&!ce.open&&(new Date).getTime()-x>y.edit.drag.autoOpenTime&&f.apply(y.callback.beforeDragOpen,[y.treeId,ce],!0)&&(E.switchNode(y,ce),y.edit.drag.autoExpandTrigger&&y.treeObj.trigger(T.event.EXPAND,[y.treeId,ce]))},y.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=ce.tId)}}else r()}else A=T.move.TYPE_INNER,R&&f.apply(y.edit.drag.inner,[y.treeId,p,null],!!y.edit.drag.inner)?R.addClass(T.node.TMPTARGET_TREE):R=null,P.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);k=L,S=A,c.treeObj.trigger(T.event.DRAGMOVE,[o,c.treeId,p])}return!1}function n(o){function r(){if(_){if(!N)for(var e=0,t=p.length;e<t;e++)E.removeNode(c,p[e]);A==T.move.TYPE_INNER?E.addNodes(y,g,-1,m):E.addNodes(y,g.getParentNode(),A==T.move.TYPE_PREV?g.getIndex():g.getIndex()+1,m)}else if(N&&A==T.move.TYPE_INNER)E.addNodes(y,g,-1,m);else if(N)E.addNodes(y,g.getParentNode(),A==T.move.TYPE_PREV?g.getIndex():g.getIndex()+1,m);else if(A!=T.move.TYPE_NEXT)for(var e=0,t=m.length;e<t;e++)E.moveNode(y,g,m[e],A,!1);else for(var e=-1,t=m.length-1;e<t;t--)E.moveNode(y,g,m[t],A,!1);E.selectNodes(y,m);var r=h(m[0],c).get(0);E.scrollIntoView(r),c.treeObj.trigger(T.event.DROP,[o,y.treeId,m,g,A,N])}if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),k=null,S=null,M.unbind("mousemove",d),M.unbind("mouseup",n),M.unbind("selectstart",a),O.css("cursor","auto"),R&&(R.removeClass(T.node.TMPTARGET_TREE),L&&e("#"+L+T.id.A,R).removeClass(T.node.TMPTARGET_NODE+"_"+T.move.TYPE_PREV).removeClass(T.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(T.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),f.showIfameMask(c,!1),v.showHoverDom=!0,0!=u.dragFlag){u.dragFlag=0;var i,l,s;for(i=0,l=p.length;i<l;i++)s=p[i],s.isParent&&u.dragNodeShowBefore[s.tId]&&!s.open&&(E.expandCollapseNode(c,s,!s.open),delete u.dragNodeShowBefore[s.tId]);b&&b.remove(),P&&P.remove();var N=(o.ctrlKey||o.metaKey)&&c.edit.drag.isMove&&c.edit.drag.isCopy||!c.edit.drag.isMove&&c.edit.drag.isCopy;if(!N&&R&&L&&p[0].parentTId&&L==p[0].parentTId&&A==T.move.TYPE_INNER&&(R=null),R){var g=null==L?null:I.getNodeCache(y,L);if(0==f.apply(c.callback.beforeDrop,[y.treeId,p,g,A,N],!0))return void E.selectNodes(D,p);var m=N?f.clone(p):p;A==T.move.TYPE_INNER&&f.canAsync(y,g)?E.asyncNode(y,g,!1,r):r()}else E.selectNodes(D,p),c.treeObj.trigger(T.event.DROP,[o,c.treeId,p,null,null,null])}}function a(){return!1}var i,l,s=e.fn.zTree.getZTreeObj(o.data.treeId),c=I.getSetting(o.data.treeId),u=I.getRoot(c),v=I.getRoots();if(2==o.button||!c.edit.enable||!c.edit.drag.isCopy&&!c.edit.drag.isMove)return!0;var N=o.target,g=I.getRoot(c).curSelectedList,p=[];if(e(N).hasClass("okBtn"))return!1;if(e(N).hasClass("cancelBtn")){if(s.opt.isNewNode){var m=r.getParentNode();s.removeNode(r),m.isParent=!0,m.open=!1,0===m.children.length&&(m.children=null),s.updateNode(m)}return!1}if(I.isSelectedNode(c,r))for(i=0,l=g.length;i<l;i++){if(g[i].editNameFlag&&f.eqs(N.tagName,"input")&&null!==N.getAttribute("treeNode"+T.id.INPUT))return!0;if(p.push(g[i]),p[0].parentTId!==g[i].parentTId){p=[r];break}}else p=[r];var b,P,R,C,w,M=e(c.treeObj.get(0).ownerDocument),O=e(c.treeObj.get(0).ownerDocument.body),_=!1,y=c,D=c,k=null,S=null,L=null,A=T.move.TYPE_INNER,Y=o.clientX,j=o.clientY,x=(new Date).getTime();return f.uCanDo(c)&&M.bind("mousemove",d),M.bind("mouseup",n),M.bind("selectstart",a),o.preventDefault&&o.preventDefault(),!0}},N={getAbs:function(e){var t=e.getBoundingClientRect(),o=document.body.scrollTop+document.documentElement.scrollTop,r=document.body.scrollLeft+document.documentElement.scrollLeft;return[t.left+r,t.top+o]},inputFocus:function(e){e.get(0)&&(e.focus(),f.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveEnd("character",t),o.moveStart("character",t),o.select()}},showIfameMask:function(e,t){for(var o=I.getRoot(e);o.dragMaskList.length>0;)o.dragMaskList[0].remove(),o.dragMaskList.shift();if(t)for(var r=h("iframe",e),d=0,n=r.length;d<n;d++){var a=r.get(d),i=f.getAbs(a),l=h("<div id='zTreeMask_"+d+"' class='zTreeMask' style='top:"+i[1]+"px; left:"+i[0]+"px; width:"+a.offsetWidth+"px; height:"+a.offsetHeight+"px;'></div>",e);l.appendTo(h("body",e)),o.dragMaskList.push(l)}}},g={addEditBtn:function(e,t){if(!(t.editNameFlag||h(t,T.id.EDIT,e).length>0)&&f.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var o=h(t,T.id.A,e),r="<span class='"+T.className.BUTTON+" edit' id='"+t.tId+T.id.EDIT+"' title='"+f.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+T.id.EDIT+" style='display:none;'></span>";o.append(r),h(t,T.id.EDIT,e).bind("click",function(){return!(!f.uCanDo(e)||0==f.apply(e.callback.beforeEditName,[e.treeId,t],!0))&&(E.editNode(e,t),!1)}).show()}},addRemoveBtn:function(t,o){if(e("#"+t.treeId).find(".rename").get(0)||!o.canEdit)return!1;if(!(o.editNameFlag||h(o,T.id.REMOVE,t).length>0)&&f.apply(t.edit.showRemoveBtn,[t.treeId,o],t.edit.showRemoveBtn)){var r=h(o,T.id.A,t),d=r.find(".node-opt-btn-wrap");removeStr="<span class='iconfont icon-delete "+T.className.BUTTON+" remove' id='"+o.tId+T.id.REMOVE+"' title='"+f.apply(t.edit.removeTitle,[t.treeId,o],t.edit.removeTitle)+"' treeNode"+T.id.REMOVE+" style='display:none;'></span>",d.append(removeStr),h(o,T.id.REMOVE,t).bind("click",function(){return!(!f.uCanDo(t)||0==f.apply(t.callback.beforeRemove,[t.treeId,o],!0))&&(E.removeNode(t,o),t.treeObj.trigger(T.event.REMOVE,[t.treeId,o]),!1)}).bind("mousedown",function(e){return!0}).show()}},addHoverDom:function(t,o){if(e("#"+o.tId+"a").hasClass("curSelectedNode_Edit"))return!1;var r=e(".pe-control-tree-btn").hasClass("icon-complete-management");I.getRoots().showHoverDom&&(o.isHover=!0,t.edit.enable&&r&&E.addRemoveBtn(t,o),f.apply(t.view.addHoverDom,[t.treeId,o]))},cancelCurEditNode:function(t,o,r,d){var n=I.getRoot(t),a=t.data.key.name,i=n.curEditNode;if(i){var l=n.curEditInput,s=o||(r?i[a]:l.val());if(e("#"+i.parentTId).find(".button.cancelBtn").unbind().remove(),e("#"+i.parentTId).find(".button.okBtn").unbind().remove(),!1===f.apply(t.callback.beforeRename,[t.treeId,i,s,r],!0))return!1;i[a]=s;h(i,T.id.A,t).removeClass(T.node.CURSELECTED_EDIT),l.unbind(),E.setNodeName(t,i),i.editNameFlag=!1,n.curEditInput.remove(),n.curEditNode=null,E.selectNode(t,i,!1),t.treeObj.trigger(T.event.RENAME,[t.treeId,i,r])}return n.noSelection=!0,!0},cancelNewNode:function(t,o,r){if(E.cancelCurEditNode(t,!1,!0,"blur"),e("#"+o.parentTId).find(".button.cancelBtn").unbind().remove(),e("#"+o.parentTId).find(".button.okBtn").unbind().remove(),r.opt.isNewNode){var d=o.getParentNode();r.removeNode(o),d.isParent=!0,d.open=!1,0===d.children.length&&(d.children=null),r.updateNode(d),r.opt.isNewNode=!1}},editNode:function(t,o,r){var d=I.getRoot(t),n=t.treeId,a=e.fn.zTree.getZTreeObj(n);if(E.editNodeBlur=!1,I.isSelectedNode(t,o)&&d.curEditNode==o&&o.editNameFlag)return void setTimeout(function(){f.inputFocus(d.curEditInput)},0);var i=t.data.key.name;o.editNameFlag=!0,E.removeTreeDom(t,o),E.cancelCurEditNode(t,!1,!0,"editName"),E.selectNode(t,o,!1),h(o,T.id.A,t).prepend("<input type=text class='rename' id='"+o.tId+T.id.INPUT+"' treeNode"+T.id.INPUT+" >");var l=h(o,T.id.INPUT,t);l.attr("value",o[i]),f.inputFocus(l),l.bind("blur",function(e){E.editNodeBlur||E.cancelNewNode(t,o,a)}).bind("keydown",function(e){if(this.value.length>30&&8!==e.keyCode&&46!==e.keyCode&&37!==e.keyCode&&39!==e.keyCode&&108!==e.keyCode&&13!==e.keyCode)return this.value=this.value.substring(0,30),!1;"13"==e.keyCode?PEMO.ZTREE.addNode(o,this.value,r)&&(E.editNodeBlur=!0,E.cancelCurEditNode(t,null,null,"keyCode13")):"27"==e.keyCode&&E.cancelCurEditNode(t,null,!0,"keyCode27")}).bind("click",function(e){return!1}).bind("dblclick",function(e){return!1}).bind("keyup",function(e){this.value.length>30&&(this.value=this.value.substring(0,30))}),h(o,T.id.A,t).addClass(T.node.CURSELECTED_EDIT),d.curEditInput=l,d.noSelection=!1,d.curEditNode=o},moveNode:function(t,o,r,d,n,a){var i=I.getRoot(t),l=t.data.key.children,s=e.fn.zTree.getZTreeObj(t.treeId);if(o!=r&&(!t.data.keep.leaf||!o||o.isParent||d!=T.move.TYPE_INNER)){var c=r.parentTId?r.getParentNode():i,u=null===o||o==i;u&&null===o&&(o=i),u&&(d=T.move.TYPE_INNER);var v=o.parentTId?o.getParentNode():i;d!=T.move.TYPE_PREV&&d!=T.move.TYPE_NEXT&&(d=T.move.TYPE_INNER),d==T.move.TYPE_INNER&&(u?r.parentTId=null:(o.isParent||(o.isParent=!0,o.open=!!o.open,E.setNodeLineIcos(t,o)),r.parentTId=o.tId));var N,g;if(u)N=t.treeObj,g=N;else{if(a||d!=T.move.TYPE_INNER?a||E.expandCollapseNode(t,o.getParentNode(),!0,!1):E.expandCollapseNode(t,o,!0,!1),N=h(o,t),g=h(o,T.id.UL,t),N.get(0)&&!g.get(0)){var p=[];E.makeUlHtml(t,o,p,""),N.append(p.join(""))}g=h(o,T.id.UL,t)}var m=h(r,t);m.get(0)?N.get(0)||m.remove():m=E.appendNodes(t,r.level,[r],null,-1,!1,!0).join(""),g.get(0)&&d==T.move.TYPE_INNER?g.append(m):N.get(0)&&d==T.move.TYPE_PREV?N.before(m):N.get(0)&&d==T.move.TYPE_NEXT&&N.after(m);var f,b,P=-1,R=0,C=null,w=null,M=r.level;if(r.isFirstNode)P=0,c[l].length>1&&(C=c[l][1],C.isFirstNode=!0);else if(r.isLastNode)P=c[l].length-1,C=c[l][P-1],C.isLastNode=!0;else for(f=0,b=c[l].length;f<b;f++)if(c[l][f].tId==r.tId){P=f;break}if(P>=0&&c[l].splice(P,1),d!=T.move.TYPE_INNER)for(f=0,b=v[l].length;f<b;f++)v[l][f].tId==o.tId&&(R=f);if(d==T.move.TYPE_INNER?(o[l]||(o[l]=[]),o[l].length>0&&(w=o[l][o[l].length-1],w.isLastNode=!1),o[l].splice(o[l].length,0,r),r.isLastNode=!0,r.isFirstNode=1==o[l].length):o.isFirstNode&&d==T.move.TYPE_PREV?(v[l].splice(R,0,r),w=o,w.isFirstNode=!1,r.parentTId=o.parentTId,r.isFirstNode=!0,r.isLastNode=!1):o.isLastNode&&d==T.move.TYPE_NEXT?(v[l].splice(R+1,0,r),w=o,w.isLastNode=!1,r.parentTId=o.parentTId,r.isFirstNode=!1,r.isLastNode=!0):(d==T.move.TYPE_PREV?v[l].splice(R,0,r):v[l].splice(R+1,0,r),r.parentTId=o.parentTId,r.isFirstNode=!1,r.isLastNode=!1),I.fixPIdKeyValue(t,r),I.setSonNodeLevel(t,r.getParentNode(),r),E.setNodeLineIcos(t,r,o,r,d,s),E.repairNodeLevelClass(t,r,M),!t.data.keep.parent&&c[l].length<1){c.isParent=!1,c.open=!1;var O=h(c,T.id.UL,t),_=h(c,T.id.SWITCH,t),y=h(c,T.id.ICON,t);E.replaceSwitchClass(c,_,T.folder.DOCU),E.replaceIcoClass(c,y,T.folder.DOCU),O.css("display","none")}else C&&E.setNodeLineIcos(t,C);w&&E.setNodeLineIcos(t,w),t.check&&t.check.enable&&E.repairChkClass&&(E.repairChkClass(t,c),E.repairParentChkClassWithSelf(t,c),c!=r.parent&&E.repairParentChkClassWithSelf(t,r)),a||E.expandCollapseParentNode(t,r.getParentNode(),!0,n)}},removeEditBtn:function(e,t){h(t,T.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){h(t,T.id.REMOVE,e).unbind().remove()},removeTreeDom:function(t,o){if(e("#"+o.tId+"a").hasClass("curSelectedNode_Edit"))return!1;o.isHover=!1,E.removeEditBtn(t,o),E.removeRemoveBtn(t,o),f.apply(t.view.removeHoverDom,[t.treeId,o])},repairNodeLevelClass:function(e,t,o){if(o!==t.level){var r=h(t,e),d=h(t,T.id.A,e),n=h(t,T.id.UL,e),a=T.className.LEVEL+o,i=T.className.LEVEL+t.level;r.removeClass(a),r.addClass(i),d.removeClass(a),d.addClass(i),n.removeClass(a),n.addClass(i)}},selectNodes:function(e,t){for(var o=0,r=t.length;o<r;o++)E.selectNode(e,t[o],o>0)}},p={tools:N,view:g,event:u,data:c};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,p);var m=e.fn.zTree,f=m._z.tools,T=m.consts,E=m._z.view,I=m._z.data,h=(m._z.event,f.$);I.exSetting(o),I.addInitBind(n),I.addInitUnBind(a),I.addInitCache(d),I.addInitNode(l),I.addInitProxy(i),I.addInitRoot(r),I.addZTreeTools(s);var b=E.cancelPreSelectedNode;E.cancelPreSelectedNode=function(e,t){for(var o=I.getRoot(e).curSelectedList,r=0,d=o.length;r<d&&(t&&t!==o[r]||(E.removeTreeDom(e,o[r]),!t));r++);b&&b.apply(E,arguments)};var P=E.createNodes;E.createNodes=function(e,t,o,r,d){P&&P.apply(E,arguments),o&&E.repairParentChkClassWithSelf&&E.repairParentChkClassWithSelf(e,r)};var R=E.makeNodeUrl;E.makeNodeUrl=function(e,t){return e.edit.enable?null:R.apply(E,arguments)};var C=E.removeNode;E.removeNode=function(e,t){var o=I.getRoot(e);o.curEditNode===t&&(o.curEditNode=null),C&&C.apply(E,arguments)};var w=E.selectNode;E.selectNode=function(e,t,o){var r=I.getRoot(e);return(!I.isSelectedNode(e,t)||r.curEditNode!=t||!t.editNameFlag)&&(w&&w.apply(E,arguments),E.addHoverDom(e,t),!0)};var M=f.uCanDo;f.uCanDo=function(e,t){var o=I.getRoot(e);return!(!t||!(f.eqs(t.type,"mouseover")||f.eqs(t.type,"mouseout")||f.eqs(t.type,"mousedown")||f.eqs(t.type,"mouseup")))||(o.curEditNode&&(E.editNodeBlur=!1,o.curEditInput.focus()),!o.curEditNode&&(!M||M.apply(E,arguments)))}}(jQuery);
!function(e){var t={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},c={check:{enable:!1,autoCheckTrigger:!1,chkStyle:t.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:t.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},a=function(e){y.getRoot(e).radioCheckedList=[]},h=function(e){},i=function(e){var t=e.treeObj,c=v.event;t.bind(c.CHECK,function(t,c,a,h){t.srcEvent=c,p.apply(e.callback.onCheck,[t,a,h])})},n=function(e){var t=e.treeObj,c=v.event;t.unbind(c.CHECK)},k=function(e){var t=e.target,c=y.getSetting(e.data.treeId),a="",h=null,i="",n=null;if(p.eqs(e.type,"mouseover")?c.check.enable&&p.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+v.id.CHECK)&&(a=p.getNodeMainDom(t).id,i="mouseoverCheck"):p.eqs(e.type,"mouseout")?c.check.enable&&p.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+v.id.CHECK)&&(a=p.getNodeMainDom(t).id,i="mouseoutCheck"):p.eqs(e.type,"click")&&c.check.enable&&p.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+v.id.CHECK)&&(a=p.getNodeMainDom(t).id,i="checkNode"),a.length>0)switch(h=y.getNodeCache(c,a),i){case"checkNode":n=C.onCheckNode;break;case"mouseoverCheck":n=C.onMouseoverCheck;break;case"mouseoutCheck":n=C.onMouseoutCheck}return{stop:"checkNode"===i,node:h,nodeEventType:i,nodeEventCallback:n,treeEventType:"",treeEventCallback:null}},r=function(e,t,c,a,h,i,n){if(c){var k=e.data.key.checked;if("string"==typeof c[k]&&(c[k]=p.eqs(c[k],"true")),c[k]=!!c[k],c.checkedOld=c[k],"string"==typeof c.nocheck&&(c.nocheck=p.eqs(c.nocheck,"true")),c.nocheck=!!c.nocheck||e.check.nocheckInherit&&a&&!!a.nocheck,"string"==typeof c.chkDisabled&&(c.chkDisabled=p.eqs(c.chkDisabled,"true")),c.chkDisabled=!!c.chkDisabled||e.check.chkDisabledInherit&&a&&!!a.chkDisabled,"string"==typeof c.halfCheck&&(c.halfCheck=p.eqs(c.halfCheck,"true")),c.halfCheck=!!c.halfCheck,c.check_Child_State=-1,c.check_Focus=!1,c.getCheckStatus=function(){return y.getCheckStatus(e,c)},e.check.chkStyle==v.radio.STYLE&&e.check.radioType==v.radio.TYPE_ALL&&c[k]){y.getRoot(e).radioCheckedList.push(c)}}},d=function(e,t,c){e.data.key.checked;e.check.enable&&(y.makeChkFlag(e,t),c.push("<span ID='",t.tId,v.id.CHECK,"' class='",S.makeChkClass(e,t),"' treeNode",v.id.CHECK,!0===t.nocheck?" style='display:none;'":" style='left:"+15*t.level+"px'","></span>"))},s=function(e,t){t.checkNode=function(e,t,c,a){var h=this.setting.data.key.checked;if(!0!==e.chkDisabled&&(!0!==t&&!1!==t&&(t=!e[h]),a=!!a,(e[h]!==t||c)&&(!a||0!=p.apply(this.setting.callback.beforeCheck,[this.setting.treeId,e],!0))&&p.uCanDo(this.setting)&&this.setting.check.enable&&!0!==e.nocheck)){e[h]=t;var i=T(e,v.id.CHECK,this.setting);(c||this.setting.check.chkStyle===v.radio.STYLE)&&S.checkNodeRelation(this.setting,e),S.setChkClass(this.setting,i,e),S.repairParentChkClassWithSelf(this.setting,e),a&&this.setting.treeObj.trigger(v.event.CHECK,[null,this.setting.treeId,e])}},t.checkAllNodes=function(e){S.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(e){var t=this.setting.data.key.children;return e=!1!==e,y.getTreeCheckedNodes(this.setting,y.getRoot(this.setting)[t],e)},t.getChangeCheckedNodes=function(){var e=this.setting.data.key.children;return y.getTreeChangeCheckedNodes(this.setting,y.getRoot(this.setting)[e])},t.setChkDisabled=function(e,t,c,a){t=!!t,c=!!c,a=!!a,S.repairSonChkDisabled(this.setting,e,t,a),S.repairParentChkDisabled(this.setting,e.getParentNode(),t,c)};var c=t.updateNode;t.updateNode=function(e,a){if(c&&c.apply(t,arguments),e&&this.setting.check.enable){if(T(e,this.setting).get(0)&&p.uCanDo(this.setting)){var h=T(e,v.id.CHECK,this.setting);1!=a&&this.setting.check.chkStyle!==v.radio.STYLE||S.checkNodeRelation(this.setting,e),S.setChkClass(this.setting,h,e),S.repairParentChkClassWithSelf(this.setting,e)}}}},o={getRadioCheckedList:function(e){for(var t=y.getRoot(e).radioCheckedList,c=0,a=t.length;c<a;c++)y.getNodeCache(e,t[c].tId)||(t.splice(c,1),c--,a--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var c=e.data.key.checked;return{checked:t[c],half:t.halfCheck?t.halfCheck:e.check.chkStyle==v.radio.STYLE?2===t.check_Child_State:t[c]?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0}},getTreeCheckedNodes:function(e,t,c,a){if(!t)return[];var h=e.data.key.children,i=e.data.key.checked,n=c&&e.check.chkStyle==v.radio.STYLE&&e.check.radioType==v.radio.TYPE_ALL;a=a||[];for(var k=0,r=t.length;k<r&&(!0===t[k].nocheck||!0===t[k].chkDisabled||t[k][i]!=c||!t[k].checkedClass||(a.push(t[k]),!n))&&(y.getTreeCheckedNodes(e,t[k][h],c,a),!(n&&a.length>0));k++);return a},getTreeChangeCheckedNodes:function(e,t,c){if(!t)return[];var a=e.data.key.children,h=e.data.key.checked;c=c||[];for(var i=0,n=t.length;i<n;i++)!0!==t[i].nocheck&&!0!==t[i].chkDisabled&&t[i][h]!=t[i].checkedOld&&c.push(t[i]),y.getTreeChangeCheckedNodes(e,t[i][a],c);return c},makeChkFlag:function(e,t){if(t){e.check.enable&&e.selfArgu.isCheckBoxCanEdit&&(t.chkDisabled=!0);var c=e.data.key.children,a=e.data.key.checked,h=-1;if(t[c])for(var i=0,n=t[c].length;i<n;i++){var k=t[c][i],r=-1;if(e.check.chkStyle==v.radio.STYLE){if(2==(r=!0===k.nocheck||!0===k.chkDisabled?k.check_Child_State:!0===k.halfCheck?2:k[a]?2:k.check_Child_State>0?2:0)){h=2;break}0==r&&(h=0)}else if(e.check.chkStyle==v.checkbox.STYLE){if(1===(r=!0===k.nocheck||!0===k.chkDisabled?k.check_Child_State:!0===k.halfCheck?1:k[a]?-1===k.check_Child_State||2===k.check_Child_State?2:1:k.check_Child_State>0?1:0)){h=1;break}if(2===r&&h>-1&&i>0&&r!==h){h=1;break}if(2===h&&r>-1&&r<2){h=1;break}r>-1&&(h=r)}}t.check_Child_State=h}}},l={},C={onCheckNode:function(t,c){function a(e){return 0==e.level}if(!0===c.chkDisabled)return!1;var h=y.getSetting(t.data.treeId),i=h.data.key.checked;if(0==p.apply(h.callback.beforeCheck,[h.treeId,c],!0))return!0;if(c[i]=!c[i],!c.checked){var n=e.fn.zTree.getZTreeObj(h.treeId),k=n.getNodesByFilter(a);h.selfArgu.isPeers||(k[0].checked&&!h.selfArgu.isPeers&&(k[0].checked=!1),k[0].checkedClass&&!h.selfArgu.isPeers&&(k[0].checkedClass=!1),e("#"+h.treeId+"_1_check").removeClass("icon-checked-checkbox").addClass("icon-unchecked-checkbox"))}S.checkNodeRelation(h,c);var r=T(c,v.id.CHECK,h);return S.setChkClass(h,r,c),S.repairParentChkClassWithSelf(h,c),h.treeObj.trigger(v.event.CHECK,[t,h.treeId,c]),!0},onMouseoverCheck:function(e,t){if(!0===t.chkDisabled)return!1;var c=y.getSetting(e.data.treeId);T(t,v.id.CHECK,c);return t.check_Focus=!0,!0},onMouseoutCheck:function(e,t){if(!0===t.chkDisabled)return!1;var c=y.getSetting(e.data.treeId);T(t,v.id.CHECK,c);return t.check_Focus=!1,!0}},f={},g={checkNodeRelation:function(e,t){var c,a,h,i=e.data.key.children,n=e.data.key.checked,k=v.radio;if(e.check.chkStyle==k.STYLE){var r=y.getRadioCheckedList(e);if(t[n])if(e.check.radioType==k.TYPE_ALL){for(a=r.length-1;a>=0;a--)c=r[a],c[n]&&c!=t&&(c[n]=!1,r.splice(a,1),S.setChkClass(e,T(c,v.id.CHECK,e),c),c.parentTId!=t.parentTId&&S.repairParentChkClassWithSelf(e,c));r.push(t)}else{var d=t.parentTId?t.getParentNode():y.getRoot(e);for(a=0,h=d[i].length;a<h;a++)c=d[i][a],c[n]&&c!=t&&(c[n]=!1,S.setChkClass(e,T(c,v.id.CHECK,e),c))}else if(e.check.radioType==k.TYPE_ALL)for(a=0,h=r.length;a<h;a++)if(t==r[a]){r.splice(a,1);break}}else t[n]&&(!t[i]||0==t[i].length||e.check.chkboxType.Y.indexOf("s")>-1)&&S.setSonNodeCheckBox(e,t,!0),t[n]||t[i]&&0!=t[i].length&&!(e.check.chkboxType.N.indexOf("s")>-1)||S.setSonNodeCheckBox(e,t,!1),t[n]&&e.check.chkboxType.Y.indexOf("p")>-1&&S.setParentNodeCheckBox(e,t,!0),!t[n]&&e.check.chkboxType.N.indexOf("p")>-1&&S.setParentNodeCheckBox(e,t,!1)},makeChkClass:function(e,t){var c=e.data.key.checked,a=v.checkbox,h=v.radio,i="";i=!0===t.chkDisabled?a.DISABLED:t.halfCheck?a.PART:e.check.chkStyle==h.STYLE?t.check_Child_State<1?a.FULL:a.PART:t[c]?2===t.check_Child_State||-1===t.check_Child_State?a.FULL:a.PART:t.check_Child_State<1?a.FULL:a.PART;var n=e.check.chkStyle+"_"+(t[c]?a.TRUE:a.FALSE)+"_"+i;n=t.check_Focus&&!0!==t.chkDisabled?n+"_"+a.FOCUS:n;var k=t[c]?"icon-checked-checkbox":"icon-unchecked-checkbox";return t[c]?t.checkedClass=!0:t.checkedClass=!1,v.className.BUTTON+" "+a.DEFAULT+"  iconfont  "+k+" "+n},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===v.checkbox.STYLE)for(var c=e.data.key.checked,a=e.data.key.children,h=y.getRoot(e),i=0,n=h[a].length;i<n;i++){var k=h[a][i];!0!==k.nocheck&&!0!==k.chkDisabled&&(k[c]=t),S.setSonNodeCheckBox(e,k,t)}},repairChkClass:function(e,t){if(t&&(y.makeChkFlag(e,t),!0!==t.nocheck)){var c=T(t,v.id.CHECK,e);S.setChkClass(e,c,t)}},repairParentChkClass:function(t,c){if(c&&c.parentTId){c.checked&&e("#"+t.treeId).find(".icon-unchecked-checkbox").length;var a=c.getParentNode();if(a.parentTId&&a.checkedClass)return!1;S.repairChkClass(t,a),S.repairParentChkClass(t,a)}},repairParentChkClassWithSelf:function(e,t){if(t){if(t.parentTId&&t.checkedClass)return!1;var c=e.data.key.children;t[c]&&t[c].length>0?S.repairParentChkClass(e,t[c][0]):S.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,c,a){if(t){var h=e.data.key.children;if(t.chkDisabled!=c&&(t.chkDisabled=c),S.repairChkClass(e,t),t[h]&&a)for(var i=0,n=t[h].length;i<n;i++){var k=t[h][i];S.repairSonChkDisabled(e,k,c,a)}}},repairParentChkDisabled:function(e,t,c,a){t&&(t.chkDisabled!=c&&a&&(t.chkDisabled=c),S.repairChkClass(e,t),S.repairParentChkDisabled(e,t.getParentNode(),c,a))},setChkClass:function(e,t,c){t&&(!0===c.nocheck?t.hide():t.show(),t.attr("class",S.makeChkClass(e,c)))},setParentNodeCheckBox:function(t,c,a,h){if(!c.parentTId){if(a&&e("#"+t.treeId).find(".icon-unchecked-checkbox").length>1)return!1;!a&&e("#"+t.treeId).find(".icon-unchecked-checkbox").length}var i=t.data.key.children,n=t.data.key.checked,k=T(c,v.id.CHECK,t);if(h||(h=c),h&&!h.checked&&!a&&c.parentTId&&h.name!==c.name)return!1;if(y.makeChkFlag(t,c),!0!==c.nocheck&&!0!==c.chkDisabled&&(c[n]=a,S.setChkClass(t,k,c),t.check.autoCheckTrigger&&c!=h&&t.treeObj.trigger(v.event.CHECK,[null,t.treeId,c])),c.parentTId){var r=!0;if(!a)for(var d=c.getParentNode()[i],s=0,o=d.length;s<o;s++)if(!0!==d[s].nocheck&&!0!==d[s].chkDisabled&&d[s][n]||(!0===d[s].nocheck||!0===d[s].chkDisabled)&&d[s].check_Child_State>0){r=!1;break}r&&S.setParentNodeCheckBox(t,c.getParentNode(),a,h)}},setSonNodeCheckBox:function(e,t,c,a){if(t){var h=e.data.key.children,i=e.data.key.checked,n=T(t,v.id.CHECK,e);a||(a=t);var k=!1;if(t[h])for(var r=0,d=t[h].length;r<d;r++){var s=t[h][r];S.setSonNodeCheckBox(e,s,c,a),!0===s.chkDisabled&&(k=!0)}t!=y.getRoot(e)&&!0!==t.chkDisabled&&(k&&!0!==t.nocheck&&y.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled?(t[i]=c,k||(t.check_Child_State=t[h]&&t[h].length>0?c?2:0:-1)):t.check_Child_State=-1,S.setChkClass(e,n,t),e.check.autoCheckTrigger&&t!=a&&!0!==t.nocheck&&!0!==t.chkDisabled&&e.treeObj.trigger(v.event.CHECK,[null,e.treeId,t]))}}},u={tools:f,view:g,event:l,data:o};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,u);var b=e.fn.zTree,p=b._z.tools,v=b.consts,S=b._z.view,y=b._z.data,T=(b._z.event,p.$);y.exSetting(c),y.addInitBind(i),y.addInitUnBind(n),y.addInitCache(h),y.addInitNode(r),y.addInitProxy(k,!0),y.addInitRoot(a),y.addBeforeA(d),y.addZTreeTools(s);var N=S.createNodes;S.createNodes=function(e,t,c,a,h){N&&N.apply(S,arguments),c&&S.repairParentChkClassWithSelf(e,a)};var E=S.removeNode;S.removeNode=function(e,t){var c=t.getParentNode();E&&E.apply(S,arguments),t&&c&&(S.repairChkClass(e,c),S.repairParentChkClass(e,c))};var _=S.appendNodes;S.appendNodes=function(e,t,c,a,h,i,n){var k="";return _&&(k=_.apply(S,arguments)),a&&y.makeChkFlag(e,a),k}}(jQuery);
(function(){var n=this,t=n._,r={},e=Array.prototype,i=Object.prototype,u=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=i.toString,f=i.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,d=e.filter,y=e.every,g=e.some,m=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=u.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.5.2";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var i=0,u=n.length;u>i;i++)if(t.call(e,n[i],i,n)===r)return}else for(var a=j.keys(n),i=0,u=a.length;u>i;i++)if(t.call(e,n[a[i]],a[i],n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,i,u){e.push(t.call(r,n,i,u))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),i?n.reduce(t,r):n.reduce(t);if(A(n,function(n,u,a){i?r=t.call(e,r,n,u,a):(r=n,i=!0)}),!i)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),i?n.reduceRight(t,r):n.reduceRight(t);var u=n.length;if(u!==+u){var a=j.keys(n);u=a.length}if(A(n,function(o,c,l){c=a?a[--u]:--u,i?r=t.call(e,r,n[c],c,l):(r=n[c],i=!0)}),!i)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,i,u){return t.call(r,n,i,u)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(A(n,function(n,i,u){t.call(r,n,i,u)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,i){return!t.call(r,n,e,i)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var i=!0;return null==n?i:y&&n.every===y?n.every(t,e):(A(n,function(n,u,a){return(i=i&&t.call(e,n,u,a))?void 0:r}),!!i)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var i=!1;return null==n?i:g&&n.some===g?n.some(t,e):(A(n,function(n,u,a){return i||(i=t.call(e,n,u,a))?r:void 0}),!!i)};j.contains=j.include=function(n,t){return null!=n&&(m&&n.indexOf===m?-1!=n.indexOf(t):O(n,function(n){return n===t}))},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,i,u){var a=t?t.call(r,n,i,u):n;a>e.computed&&(e={value:n,computed:a})}),e.value},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,i,u){var a=t?t.call(r,n,i,u):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return arguments.length<2||r?n[j.random(n.length-1)]:j.shuffle(n).slice(0,Math.max(0,t))};var k=function(n){return j.isFunction(n)?n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=k(t);return j.pluck(j.map(n,function(n,t,i){return{value:n,index:t,criteria:e.call(r,n,t,i)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var i={},u=null==r?j.identity:k(r);return A(t,function(r,a){var o=u.call(e,r,a,t);n(i,o,r)}),i}};j.groupBy=F(function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:k(r);for(var i=r.call(e,t),u=0,a=n.length;a>u;){var o=u+a>>>1;r.call(e,n[o])<i?u=o+1:a=o}return u},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var i=r?j.map(n,r,e):n,u=[],a=[];return A(i,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),u.push(n[e]))}),u},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,i=n.length;i>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,i=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,i+r):r}if(m&&n.indexOf===m)return n.indexOf(t,r);for(;i>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var i=e?r:n.length;i--;)if(n[i]===t)return i;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),i=0,u=new Array(e);e>i;)u[i++]=n,n+=r;return u};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var i=new R;R.prototype=null;var u=n.apply(i,r.concat(o.call(arguments)));return Object(u)===u?u:i}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,i,u,a=null,o=0;r||(r={});var c=function(){o=!1===r.leading?0:new Date,a=null,u=n.apply(e,i)};return function(){var l=new Date;o||!1!==r.leading||(o=l);var f=t-(l-o);return e=this,i=arguments,0>=f?(clearTimeout(a),a=null,o=l,u=n.apply(e,i)):a||!1===r.trailing||(a=setTimeout(c,f)),u}},j.debounce=function(n,t,r){var e,i,u,a,o;return function(){u=this,i=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(u,i)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(u,i)),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=w||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),i=0;r>i;i++)e[i]=n[t[i]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),i=0;r>i;i++)e[i]=[t[i],n[t[i]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,i=r.length;i>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var i in n)j.contains(r,i)||(t[i]=n[i]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var i=l.call(n);if(i!=l.call(t))return!1;switch(i){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var u=r.length;u--;)if(r[u]==n)return e[u]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==i){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return void 0===n},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),i=0;n>i;i++)e[i]=t.call(r,i);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],function(t){return I[n][t]})}}),j.result=function(n,t){if(null!=n){var r=n[t];return j.isFunction(r)?r.call(n):r}},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var i=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),u=0,a="__p+='";n.replace(i,function(t,r,e,i,o){return a+=n.slice(u,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),u=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(n){throw n.source=a,n}if(t)return e(t,j);var o=function(n){return e.call(this,n,j)};return o.source="function("+(r.variable||"obj")+"){\n"+a+"}",o},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);
!function(a,e){function t(a){throw new Error("Pagination: "+a)}function i(a){a.dataSource||t('"dataSource" is required.'),"string"==typeof a.dataSource?void 0===a.totalNumber?t('"totalNumber" is required.'):e.isNumeric(a.totalNumber)||t('"totalNumber" is incorrect. (Number)'):l.isObject(a.dataSource)&&(void 0===a.locator?t('"dataSource" is an Object, please specify "locator".'):"string"==typeof a.locator||e.isFunction(a.locator)||t(a.locator+" is incorrect. (String | Function)"))}function o(a){var t=["go","previous","next","disable","enable","refresh","show","hide","destroy"];e.each(t,function(e,t){a.off(s+t)}),a.data("pagination",{}),e(".paginationjs",a).remove()}function n(a,e){return("object"==(e=typeof a)?null==a&&"null"||Object.prototype.toString.call(a).slice(8,-1):e).toLowerCase()}void 0===e&&t("Pagination requires jQuery.");var r="pagination",s="__pagination-";e.fn.pagination&&(r="pagination2"),e.fn[r]=function(n){if(void 0===n)return this;var r=e(this),c={initialize:function(){var a=this;if(r.data("pagination")||r.data("pagination",{}),!1!==a.callHook("beforeInit")){r.data("pagination").initialized&&e(".paginationjs",r).remove(),a.disabled=!!g.disabled;var t=a.model={pageRange:g.pageRange,pageSize:g.pageSize};a.parseDataSource(g.dataSource,function(e){if(a.sync=l.isArray(e),a.sync&&(t.totalNumber=g.totalNumber=e.length),t.totalPage=a.getTotalPage(),!(g.hideWhenLessThanOnePage&&t.totalPage<=1)){var i=a.render(!0);g.className&&i.addClass(g.className),t.el=i,r["bottom"===g.position?"append":"prepend"](i),a.observer(),r.data("pagination").initialized=!0,a.callHook("afterInit",i)}})}},render:function(a){var t=this,i=t.model,o=i.el||e('<div class="paginationjs"></div>'),n=!0!==a;t.callHook("beforeRender",n);var r=i.pageNumber||g.pageNumber,s=g.pageRange,l=i.totalPage,c=r-s,u=r+s;return u>l&&(u=l,c=l-2*s,c=c<1?1:c),c<=1&&(c=1,u=Math.min(2*s+1,l)),o.html(t.createTemplate({currentPage:r,pageRange:s,totalPage:l,rangeStart:c,rangeEnd:u})),t.callHook("afterRender",n),o},createTemplate:function(a){var t,i,o=this,n=a.currentPage,r=a.totalPage,s=a.rangeStart,l=a.rangeEnd,c=g.totalNumber,u=g.showPrevious,p=g.showNext,d=g.showPageNumbers,f=g.showNavigator,m=g.showGoInput,b=g.showGoButton,h=g.pageLink,v=g.prevText,k=g.nextText,N=g.ellipsisText,P=g.goButtonText,y=g.classPrefix,x=g.activeClassName,j=g.disableClassName,w=g.ulClassName,S=e.isFunction(g.formatNavigator)?g.formatNavigator():g.formatNavigator,H=e.isFunction(g.formatGoInput)?g.formatGoInput():g.formatGoInput,C=e.isFunction(g.formatGoButton)?g.formatGoButton():g.formatGoButton,O=e.isFunction(g.autoHidePrevious)?g.autoHidePrevious():g.autoHidePrevious,T=e.isFunction(g.autoHideNext)?g.autoHideNext():g.autoHideNext,F=e.isFunction(g.header)?g.header():g.header,J=e.isFunction(g.footer)?g.footer():g.footer,I="",z='<input type="button" class="J-paginationjs-go-button" value="'+P+'">';if(F&&(t=o.replaceVariables(F,{currentPage:n,totalPage:r,totalNumber:c}),I+=t),I+='<div class="pe-stand-table-tip floatR">共有<span class="pe-stand-table-number-tip" id="showTotal">200</span>条记录</div>',b&&C){t=o.replaceVariables(C,{currentPage:n,totalPage:r,totalNumber:c,button:z});var G=parseInt(e('input[name="tablePageSize"]').val(),10);I+='<div class="pe-form-select pe-table-form-label floatR"> <span class="floatL">每页</span> <select class="pe-stand-table-pagination-pageSize dropdown">'+(10===G?' <option value="10" selected>10</option>':'<option value="10">10</option>')+(20===G?' <option value="20" selected>20</option>':'<option value="20">20</option>')+(50===G?' <option value="50" selected>50</option>':'<option value="50">50</option>')+(100===G?' <option value="100" selected>100</option>':'<option value="100">100</option>')+'</select><input name="savePaginationPageSize" type="hidden" value="" /></div>',I+='<div class="'+y+'-go-button floatR">'+t+"</div>"}if(m&&H&&(t=o.replaceVariables(H,{currentPage:n,totalPage:r,totalNumber:c,input:'<input type="text" class="J-paginationjs-go-pagenumber">'}),I+='<div class="'+y+'-go-input floatR">'+t+"</div>"),u||d||p){if(I+='<div class="paginationjs-pages floatR">',I+=w?'<ul class="'+w+'">':"<ul>",u&&(1===n?O||(I+='<li class=" disabled pePagination-go-first"><a class="iconfont icon-back-home"></a></li>',I+='<li class="'+y+"-prev "+j+'"><a href="javascript:;" class="iconfont icon-page-pre">'+v+"</a></li>"):(I+='<li class="pePagination-go-first"><a class="iconfont icon-back-home"></a></li>',I+='<li class="'+y+'-prev J-paginationjs-previous" data-num="'+(n-1)+'" title="Previous page"><a href="javascript:;" class="iconfont icon-page-pre" href="'+h+'">'+v+"</a></li>")),d){if(s<=3)for(i=1;i<s;i++)I+=i==n?'<li class="'+y+"-page J-paginationjs-page "+x+'" data-num="'+i+'"><a>'+i+"</a></li>":'<li class="'+y+'-page J-paginationjs-page" data-num="'+i+'"><a href="'+h+'">'+i+"</a></li>";else g.showFirstOnEllipsisShow&&(I+='<li class="'+y+"-page "+y+'-first J-paginationjs-page" data-num="1"><a href="'+h+'">1</a></li>'),I+='<li class="'+y+"-ellipsis "+j+'"><a>'+N+"</a></li>";for(i=s;i<=l;i++)I+=i==n?'<li class="'+y+"-page J-paginationjs-page "+x+'" data-num="'+i+'"><a>'+i+"</a></li>":'<li class="'+y+'-page J-paginationjs-page" data-num="'+i+'"><a href="'+h+'">'+i+"</a></li>";if(l>=r-2)for(i=l+1;i<=r;i++)I+='<li class="'+y+'-page J-paginationjs-page" data-num="'+i+'"><a href="'+h+'">'+i+"</a></li>";else I+='<li class="'+y+"-ellipsis "+j+'"><a>'+N+"</a></li>",g.showLastOnEllipsisShow&&(I+='<li class="'+y+"-page "+y+'-last J-paginationjs-page" data-num="'+r+'"><a href="'+h+'">'+r+"</a></li>")}p&&(n==r?T||(I+='<li class="'+y+"-next "+j+'"><a class="iconfont icon-page-next ">'+k+"</a></li>",I+='<li class="pePagination-go-last" style="border-right:1px solid #e0e0e0;"><a href="javascript:;" class="iconfont icon-back-to-back"></a></li>'):(I+='<li class="'+y+'-next J-paginationjs-next" data-num="'+(n+1)+'" title="Next page"><a class="iconfont icon-page-next" href="'+h+'">'+k+"</a></li>",I+='<li class="pePagination-go-last" style="border:1px solid #e0e0e0;"><a href="javascript:void(0);" class="iconfont icon-back-to-back"></a></li>')),I+="</ul></div>"}return f&&S&&(t=o.replaceVariables(S,{currentPage:n,totalPage:r,totalNumber:c}),I+='<div class="'+y+'-nav J-paginationjs-nav">'+t+"</div>"),J&&(t=o.replaceVariables(J,{currentPage:n,totalPage:r,totalNumber:c}),I+=t),I},go:function(a,t){function i(a){if(!1===o.callHook("beforePaging",s))return!1;if(n.direction=void 0===n.pageNumber?0:s>n.pageNumber?1:-1,n.pageNumber=s,o.render(),o.disabled&&!o.sync&&o.enable(),r.data("pagination").model=n,e.isFunction(g.formatResult)){var i=e.extend(!0,[],a);l.isArray(a=g.formatResult(i))||(a=i)}r.data("pagination").currentPageData=a,o.doCallback(a,t),o.callHook("afterPaging",s),1==s&&o.callHook("afterIsFirstPage"),s==n.totalPage&&o.callHook("afterIsLastPage")}var o=this,n=o.model;if(!o.disabled){var s=a,c=g.pageSize,u=n.totalPage;if(!(!(s=parseInt(s))||s<1||s>u)){if(o.sync)return void i(o.getDataSegment(s));var p=g.alias||{},d=p.pageSize?p.pageSize:"pageSize",f=p.pageNumber?p.pageNumber:"pageNumber",m={type:"get",cache:!1,data:{},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",async:!0};m.data=p.data?p.data:{},e.extend(!0,m,g.ajax),m.url=g.dataSource+"?"+d+"="+c+"&"+f+"="+s,m.success=function(a){i(o.filterDataByLocator(a))},m.error=function(a,e,t){g.formatAjaxError&&g.formatAjaxError(a,e,t),o.enable()},o.disable(),e.ajax(m)}}},doCallback:function(a,t){var i=this,o=i.model;e.isFunction(t)?t(a,o):e.isFunction(g.callback)&&g.callback(a,o)},destroy:function(){!1!==this.callHook("beforeDestroy")&&(this.model.el.remove(),r.off(),e("#paginationjs-style").remove(),this.callHook("afterDestroy"))},previous:function(a){this.go(this.model.pageNumber-1,a)},next:function(a){this.go(this.model.pageNumber+1,a)},disable:function(){var a=this,e=a.sync?"sync":"async";!1!==a.callHook("beforeDisable",e)&&(a.disabled=!0,a.model.disabled=!0,a.callHook("afterDisable",e))},enable:function(){var a=this,e=a.sync?"sync":"async";!1!==a.callHook("beforeEnable",e)&&(a.disabled=!1,a.model.disabled=!1,a.callHook("afterEnable",e))},refresh:function(a){this.go(this.model.pageNumber,a)},show:function(){var a=this;a.model.el.is(":visible")||a.model.el.show()},hide:function(){var a=this;a.model.el.is(":visible")&&a.model.el.hide()},replaceVariables:function(a,e){var t;for(var i in e){var o=e[i],n=new RegExp("<%=\\s*"+i+"\\s*%>","img");t=(t||a).replace(n,o)}return t},getDataSegment:function(a){var e=g.pageSize,t=g.dataSource,i=g.totalNumber,o=e*(a-1)+1,n=Math.min(a*e,i);return t.slice(o-1,n)},getTotalPage:function(){return Math.ceil(g.totalNumber/g.pageSize)},getLocator:function(a){var i;return"string"==typeof a?i=a:e.isFunction(a)?i=a():t('"locator" is incorrect. (String | Function)'),i},filterDataByLocator:function(a){return a},parseDataSource:function(a,i){var o=this,n=arguments;l.isObject(a)?i(g.dataSource=o.filterDataByLocator(a)):l.isArray(a)?i(g.dataSource=a):e.isFunction(a)?g.dataSource(function(a){e.isFunction(a)&&t('Unexpect parameter of the "done" Function.'),n.callee.call(o,a,i)}):"string"==typeof a?(/^https?|file:/.test(a)&&(g.ajaxDataType="jsonp"),i(a)):t('Unexpect data type of the "dataSource".')},callHook:function(t){var i,o=r.data("pagination"),n=Array.prototype.slice.apply(arguments);return n.shift(),g[t]&&e.isFunction(g[t])&&!1===g[t].apply(a,n)&&(i=!1),o.hooks&&o.hooks[t]&&e.each(o.hooks[t],function(e,t){!1===t.apply(a,n)&&(i=!1)}),!1!==i},observer:function(){var a=this,i=a.model.el;r.on(s+"go",function(i,o,n){(o=parseInt(e.trim(o)))&&(e.isNumeric(o)||t('"pageNumber" is incorrect. (Number)'),a.go(o,n))}),i.delegate(".J-paginationjs-page","click",function(t){var i=e(t.currentTarget),o=e.trim(i.attr("data-num"));if(o&&!i.hasClass(g.disableClassName)&&!i.hasClass(g.activeClassName))return!1!==a.callHook("beforePageOnClick",t,o)&&(a.go(o),a.callHook("afterPageOnClick",t,o),!!g.pageLink&&void 0)}),i.delegate(".J-paginationjs-previous","click",function(t){var i=e(t.currentTarget),o=e.trim(i.attr("data-num"));if(o&&!i.hasClass(g.disableClassName))return!1!==a.callHook("beforePreviousOnClick",t,o)&&(a.go(o),a.callHook("afterPreviousOnClick",t,o),!!g.pageLink&&void 0)}),i.delegate(".J-paginationjs-next","click",function(t){var i=e(t.currentTarget),o=e.trim(i.attr("data-num"));if(o&&!i.hasClass(g.disableClassName))return!1!==a.callHook("beforeNextOnClick",t,o)&&(a.go(o),a.callHook("afterNextOnClick",t,o),!!g.pageLink&&void 0)}),i.delegate(".J-paginationjs-go-button","click",function(t){var o=e(".J-paginationjs-go-pagenumber",i).val();if(!1===a.callHook("beforeGoButtonOnClick",t,o))return!1;r.trigger(s+"go",o),a.callHook("afterGoButtonOnClick",t,o)}),i.delegate(".J-paginationjs-go-pagenumber","keyup",function(t){if(13===t.which){var o=e(t.currentTarget).val();if(!1===a.callHook("beforeGoInputOnEnter",t,o))return!1;r.trigger(s+"go",o),e(".J-paginationjs-go-pagenumber",i).focus(),a.callHook("afterGoInputOnEnter",t,o)}}),r.on(s+"previous",function(e,t){a.previous(t)}),r.on(s+"next",function(e,t){a.next(t)}),r.on(s+"disable",function(){a.disable()}),r.on(s+"enable",function(){a.enable()}),r.on(s+"refresh",function(e,t){a.refresh(t)}),r.on(s+"show",function(){a.show()}),r.on(s+"hide",function(){a.hide()}),r.on(s+"destroy",function(){a.destroy()}),g.triggerPagingOnInit&&r.trigger(s+"go",Math.min(g.pageNumber,a.model.totalPage))}};if(r.data("pagination")&&!0===r.data("pagination").initialized){if(e.isNumeric(n))return r.trigger.call(this,s+"go",n,arguments[1]),this;if("string"==typeof n){var u=Array.prototype.slice.apply(arguments);switch(u[0]=s+u[0],n){case"previous":case"next":case"go":case"disable":case"enable":case"refresh":case"show":case"hide":case"destroy":r.trigger.apply(this,u);break;case"getSelectedPageNum":return r.data("pagination").model?r.data("pagination").model.pageNumber:r.data("pagination").attributes.pageNumber;case"getTotalPage":return r.data("pagination").model.totalPage;case"getSelectedPageData":return r.data("pagination").currentPageData;case"isDisabled":return!0===r.data("pagination").model.disabled;default:t("Pagination do not provide action: "+n)}return this}o(r)}else l.isObject(n)||t("Illegal options");var g=e.extend({},arguments.callee.defaults,n);return i(g),c.initialize(),this},e.fn[r].defaults={totalNumber:1,pageNumber:1,pageSize:10,pageRange:2,showPrevious:!0,showNext:!0,showPageNumbers:!0,showNavigator:!1,showGoInput:!1,showGoButton:!1,pageLink:"",prevText:"&laquo;",nextText:"&raquo;",ellipsisText:"...",goButtonText:"Go",classPrefix:"paginationjs",activeClassName:"active",disableClassName:"disabled",inlineStyle:!0,formatNavigator:"<%= currentPage %> / <%= totalPage %>",formatGoInput:"<%= input %>",formatGoButton:"<%= button %>",position:"bottom",autoHidePrevious:!1,autoHideNext:!1,triggerPagingOnInit:!0,hideWhenLessThanOnePage:!1,showFirstOnEllipsisShow:!0,showLastOnEllipsisShow:!0,callback:function(){}},e.fn.addHook=function(a,i){arguments.length<2&&t("Missing argument."),e.isFunction(i)||t("callback must be a function.");var o=e(this),n=o.data("pagination");n||(o.data("pagination",{}),n=o.data("pagination")),!n.hooks&&(n.hooks={}),n.hooks[a]=n.hooks[a]||[],n.hooks[a].push(i)},e[r]=function(a,i){arguments.length<2&&t("Requires two parameters.");var o;if(o="string"!=typeof a&&a instanceof jQuery?a:e(a),o.length)return o.pagination(i),o};var l={};e.each(["Object","Array"],function(a,e){l["is"+e]=function(a){return n(a)===e.toLowerCase()}}),"function"==typeof define&&define.amd&&define(function(){return e})}(this,window.jQuery);
!function(e,t){var n,i={},r=function(e,t){var n,i,r;if("string"==typeof e)return s(e);for(n=[],i=e.length,r=0;r<i;r++)n.push(s(e[r]));return t.apply(null,n)},o=function(e,t,n){2===arguments.length&&(n=t,t=null),r(t||[],function(){a(e,n,arguments)})},a=function(e,t,n){var o,a={exports:t};"function"==typeof t&&(n.length||(n=[r,a.exports,a]),void 0!==(o=t.apply(null,n))&&(a.exports=o)),i[e]=a.exports},s=function(t){var n=i[t]||e[t];if(!n)throw new Error("`"+t+"` is undefined");return n},u=function(e){var t,n,r,o,a,s;s=function(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)};for(t in i)if(n=e,i.hasOwnProperty(t)){for(r=t.split("/"),a=s(r.pop());o=s(r.shift());)n[o]=n[o]||{},n=n[o];n[a]=i[t]}return e},c=function(n){return e.__dollar=n,u(t(e,o,r))};"object"==typeof module&&"object"==typeof module.exports?module.exports=c():"function"==typeof define&&define.amd?define(["jquery"],c):(n=e.WebUploader,e.WebUploader=c(),e.WebUploader.noConflict=function(){e.WebUploader=n})}(window,function(e,t,n){return t("dollar-third",[],function(){var t=e.require,n=e.__dollar||e.jQuery||e.Zepto||t("jquery")||t("zepto");if(!n)throw new Error("jQuery or Zepto not found!");return n}),t("dollar",["dollar-third"],function(e){return e}),t("promise-third",["dollar"],function(e){return{Deferred:e.Deferred,when:e.when,isPromise:function(e){return e&&"function"==typeof e.then}}}),t("promise",["promise-third"],function(e){return e}),t("base",["dollar","promise"],function(t,n){function i(e,t){return function(){return e.apply(t,arguments)}}function r(e){var t;return Object.create?Object.create(e):(t=function(){},t.prototype=e,new t)}var o=function(){},a=Function.call;return{version:"0.1.6",$:t,Deferred:n.Deferred,isPromise:n.isPromise,when:n.when,browser:function(e){var t={},n=e.match(/WebKit\/([\d.]+)/),i=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),r=e.match(/MSIE\s([\d\.]+)/)||e.match(/(?:trident)(?:.*rv:([\w.]+))?/i),o=e.match(/Firefox\/([\d.]+)/),a=e.match(/Safari\/([\d.]+)/),s=e.match(/OPR\/([\d.]+)/);return n&&(t.webkit=parseFloat(n[1])),i&&(t.chrome=parseFloat(i[1])),r&&(t.ie=parseFloat(r[1])),o&&(t.firefox=parseFloat(o[1])),a&&(t.safari=parseFloat(a[1])),s&&(t.opera=parseFloat(s[1])),t}(navigator.userAgent),os:function(e){var t={},n=e.match(/(?:Android);?[\s\/]+([\d.]+)?/),i=e.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return n&&(t.android=parseFloat(n[1])),i&&(t.ios=parseFloat(i[1].replace(/_/g,"."))),t}(navigator.userAgent),inherits:function(e,n,i){var o;return"function"==typeof n?(o=n,n=null):o=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return e.apply(this,arguments)},t.extend(!0,o,e,i||{}),o.__super__=e.prototype,o.prototype=r(e.prototype),n&&t.extend(!0,o.prototype,n),o},noop:o,bindFn:i,log:function(){return e.console?i(console.log,console):o}(),nextTick:function(){return function(e){setTimeout(e,1)}}(),slice:function(e){return function(){return a.apply(e,arguments)}}([].slice),guid:function(){var e=0;return function(t){for(var n=(+new Date).toString(32),i=0;i<5;i++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"wu_")+n+(e++).toString(32)}}(),formatSize:function(e,t,n){var i;for(n=n||["B","K","M","G","TB"];(i=n.shift())&&e>1024;)e/=1024;return("B"===i?e:e.toFixed(t||2))+i}}}),t("mediator",["base"],function(e){function t(e,t,n,i){return o.grep(e,function(e){return e&&(!t||e.e===t)&&(!n||e.cb===n||e.cb._cb===n)&&(!i||e.ctx===i)})}function n(e,t,n){o.each((e||"").split(s),function(e,i){n(i,t)})}function i(e,t){for(var n,i=!1,r=-1,o=e.length;++r<o;)if(n=e[r],!1===n.cb.apply(n.ctx2,t)){i=!0;break}return!i}var r,o=e.$,a=[].slice,s=/\s+/;return r={on:function(e,t,i){var r,o=this;return t?(r=this._events||(this._events=[]),n(e,t,function(e,t){var n={e:e};n.cb=t,n.ctx=i,n.ctx2=i||o,n.id=r.length,r.push(n)}),this):this},once:function(e,t,i){var r=this;return t?(n(e,t,function(e,t){var n=function(){return r.off(e,n),t.apply(i||r,arguments)};n._cb=t,r.on(e,n,i)}),r):r},off:function(e,i,r){var a=this._events;return a?e||i||r?(n(e,i,function(e,n){o.each(t(a,e,n,r),function(){delete a[this.fileId]})}),this):(this._events=[],this):this},trigger:function(e){var n,r,o;return this._events&&e?(n=a.call(arguments,1),r=t(this._events,e),o=t(this._events,"all"),i(r,n)&&i(o,arguments)):this}},o.extend({installTo:function(e){return o.extend(e,r)}},r)}),t("uploader",["base","mediator"],function(e,t){function n(e){this.options=i.extend(!0,{},n.options,e),this._init(this.options)}var i=e.$;return n.options={},t.installTo(n.prototype),i.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(e,t){n.prototype[e]=function(){return this.request(t,arguments)}}),i.extend(n.prototype,{state:"pending",_init:function(e){var t=this;t.request("init",e,function(){t.state="ready",t.trigger("ready")})},option:function(e,t){var n=this.options;if(!(arguments.length>1))return e?n[e]:n;i.isPlainObject(t)&&i.isPlainObject(n[e])?i.extend(n[e],t):n[e]=t},getStats:function(){var e=this.request("get-stats");return e?{successNum:e.numOfSuccess,progressNum:e.numOfProgress,cancelNum:e.numOfCancel,invalidNum:e.numOfInvalid,uploadFailNum:e.numOfUploadFailed,queueNum:e.numOfQueue,interruptNum:e.numofInterrupt}:{}},trigger:function(e){var n=[].slice.call(arguments,1),r=this.options,o="on"+e.substring(0,1).toUpperCase()+e.substring(1);return!(!1===t.trigger.apply(this,arguments)||i.isFunction(r[o])&&!1===r[o].apply(this,n)||i.isFunction(this[o])&&!1===this[o].apply(this,n)||!1===t.trigger.apply(t,[this,e].concat(n)))},destroy:function(){this.request("destroy",arguments),this.off()},request:e.noop}),e.create=n.create=function(e){return new n(e)},e.Uploader=n,n}),t("runtime/runtime",["base","mediator"],function(e,t){function n(t){this.options=i.extend({container:document.body},t),this.uid=e.guid("rt_")}var i=e.$,r={},o=function(e){for(var t in e)if(e.hasOwnProperty(t))return t;return null};return i.extend(n.prototype,{getContainer:function(){var e,t,n=this.options;return this._container?this._container:(e=i(n.container||document.body),t=i(document.createElement("div")),t.attr("id","rt_"+this.uid),t.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),e.append(t),e.addClass("webuploader-container"),this._container=t,this._parent=e,t)},init:e.noop,exec:e.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),n.orders="html5,flash",n.addRuntime=function(e,t){r[e]=t},n.hasRuntime=function(e){return!!(e?r[e]:o(r))},n.create=function(e,t){var a;if(t=t||n.orders,i.each(t.split(/\s*,\s*/g),function(){if(r[this])return a=this,!1}),!(a=a||o(r)))throw new Error("Runtime Error");return new r[a](e)},t.installTo(n.prototype),n}),t("runtime/client",["base","mediator","runtime/runtime"],function(e,t,n){function i(t,i){var o,a=e.Deferred();this.uid=e.guid("client_"),this.runtimeReady=function(e){return a.done(e)},this.connectRuntime=function(t,s){if(o)throw new Error("already connected!");return a.done(s),"string"==typeof t&&r.get(t)&&(o=r.get(t)),o=o||r.get(null,i),o?(e.$.extend(o.options,t),o.__promise.then(a.resolve),o.__client++):(o=n.create(t,t.runtimeOrder),o.__promise=a.promise(),o.once("ready",a.resolve),o.init(),r.add(o),o.__client=1),i&&(o.__standalone=i),o},this.getRuntime=function(){return o},this.disconnectRuntime=function(){o&&(o.__client--,o.__client<=0&&(r.remove(o),delete o.__promise,o.destroy()),o=null)},this.exec=function(){if(o){var n=e.slice(arguments);return t&&n.unshift(t),o.exec.apply(this,n)}},this.getRuid=function(){return o&&o.uid},this.destroy=function(e){return function(){e&&e.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}var r;return r=function(){var e={};return{add:function(t){e[t.uid]=t},get:function(t,n){var i;if(t)return e[t];for(i in e)if(!n||!e[i].__standalone)return e[i];return null},remove:function(t){delete e[t.uid]}}}(),t.installTo(i.prototype),i}),t("lib/dnd",["base","mediator","runtime/client"],function(e,t,n){function i(e){e=this.options=r.extend({},i.options,e),e.container=r(e.container),e.container.length&&n.call(this,"DragAndDrop")}var r=e.$;return i.options={accept:null,disableGlobalDnd:!1},e.inherits(n,{constructor:i,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(i.prototype),i}),t("widgets/widget",["base","uploader"],function(e,t){function n(e){if(!e)return!1;var t=e.length,n=r.type(e);return!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&"string"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e){this.owner=e,this.options=e.options}var r=e.$,o=t.prototype._init,a=t.prototype.destroy,s={},u=[];return r.extend(i.prototype,{init:e.noop,invoke:function(e,t){var n=this.responseMap;return n&&e in n&&n[e]in this&&r.isFunction(this[n[e]])?this[n[e]].apply(this,t):s},request:function(){return this.owner.request.apply(this.owner,arguments)}}),r.extend(t.prototype,{_init:function(){var e=this,t=e._widgets=[],n=e.options.disableWidgets||"";return r.each(u,function(i,r){(!n||!~n.indexOf(r._name))&&t.push(new r(e))}),o.apply(e,arguments)},request:function(t,i,r){var o,a,u,c,l=0,f=this._widgets,h=f&&f.length,d=[],p=[];for(i=n(i)?i:[i];l<h;l++)o=f[l],(a=o.invoke(t,i))!==s&&(e.isPromise(a)?p.push(a):d.push(a));return r||p.length?(u=e.when.apply(e,p),c=u.pipe?"pipe":"then",u[c](function(){var t=e.Deferred(),n=arguments;return 1===n.length&&(n=n[0]),setTimeout(function(){t.resolve(n)},1),t.promise()})[r?c:"done"](r||e.noop)):d[0]},destroy:function(){a.apply(this,arguments),this._widgets=null}}),t.register=i.register=function(t,n){var o,a={init:"init",destroy:"destroy",name:"anonymous"};return 1===arguments.length?(n=t,r.each(n,function(e){if("_"===e[0]||"name"===e)return void("name"===e&&(a.name=n.name));a[e.replace(/[A-Z]/g,"-$&").toLowerCase()]=e})):a=r.extend(a,t),n.responseMap=a,o=e.inherits(i,n),o._name=a.name,u.push(o),o},t.unRegister=i.unRegister=function(e){if(e&&"anonymous"!==e)for(var t=u.length;t--;)u[t]._name===e&&u.splice(t,1)},i}),t("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(e,t,n){var i=e.$;return t.options.dnd="",t.register({name:"dnd",init:function(t){if(t.dnd&&"html5"===this.request("predict-runtime-type")){var r,o=this,a=e.Deferred(),s=i.extend({},{disableGlobalDnd:t.disableGlobalDnd,container:t.dnd,accept:t.accept});return this.dnd=r=new n(s),r.once("ready",a.resolve),r.on("drop",function(e){o.request("add-file",[e])}),r.on("accept",function(e){return o.owner.trigger("dndAccept",e)}),r.init(),a.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})}),t("lib/filepaste",["base","mediator","runtime/client"],function(e,t,n){function i(e){e=this.options=r.extend({},e),e.container=r(e.container||document.body),n.call(this,"FilePaste")}var r=e.$;return e.inherits(n,{constructor:i,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(i.prototype),i}),t("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(e,t,n){var i=e.$;return t.register({name:"paste",init:function(t){if(t.paste&&"html5"===this.request("predict-runtime-type")){var r,o=this,a=e.Deferred(),s=i.extend({},{container:t.paste,accept:t.accept});return this.paste=r=new n(s),r.once("ready",a.resolve),r.on("paste",function(e){o.owner.request("add-file",[e])}),r.init(),a.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})}),t("lib/blob",["base","runtime/client"],function(e,t){function n(e,n){var i=this;i.source=n,i.ruid=e,this.size=n.size||0,!n.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?this.type="image/"+("jpg"===this.ext?"jpeg":this.ext):this.type=n.type||"application/octet-stream",t.call(i,"Blob"),this.uid=n.uid||this.uid,e&&i.connectRuntime(e)}return e.inherits(t,{constructor:n,slice:function(e,t){return this.exec("slice",e,t)},getSource:function(){return this.source}}),n}),t("lib/file",["base","lib/blob"],function(e,t){function n(e,n){var o;this.name=n.name||"untitled"+i++,o=r.exec(n.name)?RegExp.$1.toLowerCase():"",!o&&n.type&&(o=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(n.type)?RegExp.$1.toLowerCase():"",this.name+="."+o),this.ext=o,this.lastModifiedDate=n.lastModifiedDate||(new Date).toLocaleString(),t.apply(this,arguments)}var i=1,r=/\.([^.]+)$/;return e.inherits(t,n)}),t("lib/filepicker",["base","runtime/client","lib/file"],function(t,n,i){function r(e){if(e=this.options=o.extend({},r.options,e),e.container=o(e.id),!e.container.length)throw new Error("按钮指定错误");e.innerHTML=e.innerHTML||e.label||e.container.html()||"",e.button=o(e.button||document.createElement("div")),e.button.html(e.innerHTML),e.container.html(e.button),n.call(this,"FilePicker",!0)}var o=t.$;return r.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file",style:"webuploader-pick"},t.inherits(n,{constructor:r,init:function(){var n=this,r=n.options,a=r.button,s=r.style;s&&a.addClass("webuploader-pick"),n.on("all",function(e){var t;switch(e){case"mouseenter":s&&a.addClass("webuploader-pick-hover");break;case"mouseleave":s&&a.removeClass("webuploader-pick-hover");break;case"change":t=n.exec("getFiles"),n.trigger("select",o.map(t,function(e){return e=new i(n.getRuid(),e),e._refer=r.container,e}),r.container)}}),n.connectRuntime(r,function(){n.refresh(),n.exec("init",r),n.trigger("ready")}),this._resizeHandler=t.bindFn(this.refresh,this),o(e).on("resize",this._resizeHandler)},refresh:function(){var e=this.getRuntime().getContainer(),t=this.options.button,n=t.outerWidth?t.outerWidth():t.width(),i=t.outerHeight?t.outerHeight():t.height(),r=t.offset();n&&i&&e.css({bottom:"auto",right:"auto",width:n+"px",height:i+"px"}).offset(r)},enable:function(){this.options.button.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var e=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),e.addClass("webuploader-pick-disable")},destroy:function(){var t=this.options.button;o(e).off("resize",this._resizeHandler),t.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),r}),t("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(e,t,n){var i=e.$;return i.extend(t.options,{pick:null,accept:null}),t.register({name:"picker",init:function(e){return this.pickers=[],e.pick&&this.addBtn(e.pick)},refresh:function(){i.each(this.pickers,function(){this.refresh()})},addBtn:function(t){var r=this,o=r.options,a=o.accept,s=[];if(t)return i.isPlainObject(t)||(t={id:t}),i(t.id).each(function(){var u,c,l;l=e.Deferred(),u=i.extend({},t,{accept:i.isPlainObject(a)?[a]:a,swf:o.swf,runtimeOrder:o.runtimeOrder,id:this}),c=new n(u),c.once("ready",l.resolve),c.on("select",function(e){r.owner.request("add-file",[e])}),c.on("dialogopen",function(){r.owner.trigger("dialogOpen",c.button)}),c.init(),r.pickers.push(c),s.push(l.promise())}),e.when.apply(e,s)},disable:function(){i.each(this.pickers,function(){this.disable()})},enable:function(){i.each(this.pickers,function(){this.enable()})},destroy:function(){i.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),t("lib/image",["base","runtime/client","lib/blob"],function(e,t,n){function i(e){this.options=r.extend({},i.options,e),t.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}var r=e.$;return i.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},e.inherits(t,{constructor:i,info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._meta=e,this):this._meta},loadFromBlob:function(e){var t=this,n=e.getRuid();this.connectRuntime(n,function(){t.exec("init",t.options),t.exec("loadFromBlob",e)})},resize:function(){var t=e.slice(arguments);return this.exec.apply(this,["resize"].concat(t))},crop:function(){var t=e.slice(arguments);return this.exec.apply(this,["crop"].concat(t))},getAsDataUrl:function(e){return this.exec("getAsDataUrl",e)},getAsBlob:function(e){var t=this.exec("getAsBlob",e);return new n(this.getRuid(),t)}}),i}),t("widgets/image",["base","uploader","lib/image","widgets/widget"],function(e,t,n){var i,r=e.$;return i=function(e){var t=0,n=[],i=function(){for(var e;n.length&&t<5242880;)e=n.shift(),t+=e[0],e[1]()};return function(e,r,o){n.push([r,o]),e.once("destroy",function(){t-=r,setTimeout(i,1)}),setTimeout(i,1)}}(),r.extend(t.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),t.register({name:"image",makeThumb:function(e,t,o,a){var s,u;if(e=this.request("get-file",e),!e.type.match(/^image/))return void t(!0);s=r.extend({},this.options.thumb),r.isPlainObject(o)&&(s=r.extend(s,o),o=null),o=o||s.width,a=a||s.height,u=new n(s),u.once("load",function(){e._info=e._info||u.info(),e._meta=e._meta||u.meta(),o<=1&&o>0&&(o=e._info.width*o),a<=1&&a>0&&(a=e._info.height*a),u.resize(o,a)}),u.once("complete",function(){t(!1,u.getAsDataUrl(s.type)),u.destroy()}),u.once("error",function(e){t(e||!0),u.destroy()}),i(u,e.source.size,function(){e._info&&u.info(e._info),e._meta&&u.meta(e._meta),u.loadFromBlob(e.source)})},beforeSendFile:function(t){var i,o,a=this.options.compress||this.options.resize,s=a&&a.compressSize||0,u=a&&a.noCompressIfLarger||!1;if(t=this.request("get-file",t),a&&~"image/jpeg,image/jpg".indexOf(t.type)&&!(t.size<s)&&!t._compressed)return a=r.extend({},a),o=e.Deferred(),i=new n(a),o.always(function(){i.destroy(),i=null}),i.once("error",o.reject),i.once("load",function(){var e=a.width,n=a.height;t._info=t._info||i.info(),t._meta=t._meta||i.meta(),e<=1&&e>0&&(e=t._info.width*e),n<=1&&n>0&&(n=t._info.height*n),i.resize(e,n)}),i.once("complete",function(){var e,n;try{e=i.getAsBlob(a.type),n=t.size,(!u||e.size<n)&&(t.source=e,t.size=e.size,t.trigger("resize",e.size,n)),t._compressed=!0,o.resolve()}catch(e){o.resolve()}}),t._info&&i.info(t._info),t._meta&&i.meta(t._meta),i.loadFromBlob(t.source),o.promise()}})}),t("file",["base","mediator"],function(e,t){function n(){return o+a++}function i(e){this.name=e.name||"Untitled",this.size=e.size||0,this.type=e.type||"application/octet-stream",this.lastModifiedDate=e.lastModifiedDate||1*new Date,this.fileId=n(),this.ext=s.exec(this.name)?RegExp.$1:"",this.statusText="",u[this.fileId]=i.Status.INITED,this.source=e,this.loaded=0,this.on("error",function(e){this.setStatus(i.Status.ERROR,e)})}var r=e.$,o="WU_FILE_",a=0,s=/\.([^.]+)$/,u={};return r.extend(i.prototype,{setStatus:function(e,t){var n=u[this.fileId];void 0!==t&&(this.statusText=t),e!==n&&(u[this.fileId]=e,this.trigger("statuschange",e,n))},getStatus:function(){return u[this.fileId]},getSource:function(){return this.source},destroy:function(){this.off(),delete u[this.fileId]}}),t.installTo(i.prototype),i.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},i}),t("queue",["base","mediator","file"],function(e,t,n){function i(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}var r=e.$,o=n.Status;return r.extend(i.prototype,{append:function(e){return this._queue.push(e),this._fileAdded(e),this},prepend:function(e){return this._queue.unshift(e),this._fileAdded(e),this},getFile:function(e){return"string"!=typeof e?e:this._map[e]},fetch:function(e){var t,n,i=this._queue.length;for(e=e||o.QUEUED,t=0;t<i;t++)if(n=this._queue[t],e===n.getStatus())return n;return null},sort:function(e){"function"==typeof e&&this._queue.sort(e)},getFiles:function(){for(var e,t=[].slice.call(arguments,0),n=[],i=0,o=this._queue.length;i<o;i++)e=this._queue[i],t.length&&!~r.inArray(e.getStatus(),t)||n.push(e);return n},removeFile:function(e){this._map[e.fileId]&&(delete this._map[e.fileId],e.destroy(),this.stats.numofDeleted++)},_fileAdded:function(e){var t=this;this._map[e.fileId]||(this._map[e.fileId]=e,e.on("statuschange",function(e,n){t._onFileStatusChange(e,n)}))},_onFileStatusChange:function(e,t){var n=this.stats;switch(t){case o.PROGRESS:n.numOfProgress--;break;case o.QUEUED:n.numOfQueue--;break;case o.ERROR:n.numOfUploadFailed--;break;case o.INVALID:n.numOfInvalid--;break;case o.INTERRUPT:n.numofInterrupt--}switch(e){case o.QUEUED:n.numOfQueue++;break;case o.PROGRESS:n.numOfProgress++;break;case o.ERROR:n.numOfUploadFailed++;break;case o.COMPLETE:n.numOfSuccess++;break;case o.CANCELLED:n.numOfCancel++;break;case o.INVALID:n.numOfInvalid++;break;case o.INTERRUPT:n.numofInterrupt++}}}),t.installTo(i.prototype),i}),t("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(e,t,n,i,r,o){var a=e.$,s=/\.\w+$/,u=i.Status;return t.register({name:"queue",init:function(t){var i,r,s,u,c,l,f,h=this;if(a.isPlainObject(t.accept)&&(t.accept=[t.accept]),t.accept){for(c=[],s=0,r=t.accept.length;s<r;s++)(u=t.accept[s].extensions)&&c.push(u);c.length&&(l="\\."+c.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),h.accept=new RegExp(l,"i")}if(h.queue=new n,h.stats=h.queue.stats,"html5"===this.request("predict-runtime-type"))return i=e.Deferred(),this.placeholder=f=new o("Placeholder"),f.connectRuntime({runtimeOrder:"html5"},function(){h._ruid=f.getRuid(),i.resolve()}),i.promise()},_wrapFile:function(e){if(!(e instanceof i)){if(!(e instanceof r)){if(!this._ruid)throw new Error("Can't add external files.");e=new r(this._ruid,e)}e=new i(e)}return e},acceptFile:function(e){return!(!e||!e.size||this.accept&&s.exec(e.name)&&!this.accept.test(e.name))},_addFile:function(e){var t=this;if(e=t._wrapFile(e),t.owner.trigger("beforeFileQueued",e))return t.acceptFile(e)?(t.queue.append(e),t.owner.trigger("fileQueued",e),e):void t.owner.trigger("error","Q_TYPE_DENIED",e)},getFile:function(e){return this.queue.getFile(e)},addFile:function(e){var t=this;e.length||(e=[e]),e=a.map(e,function(e){return t._addFile(e)}),e.length&&(t.owner.trigger("filesQueued",e),t.options.auto&&setTimeout(function(){t.request("start-upload")},20))},getStats:function(){return this.stats},removeFile:function(e,t){var n=this;e=e.fileId?e:n.queue.getFile(e),this.request("cancel-file",e),t&&this.queue.removeFile(e)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(e,t){var n,i,r,o=this;if(e)return e=e.fileId?e:o.queue.getFile(e),e.setStatus(u.QUEUED),void(t||o.request("start-upload"));for(n=o.queue.getFiles(u.ERROR),i=0,r=n.length;i<r;i++)e=n[i],e.setStatus(u.QUEUED);o.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new n,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),t("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(e,t){return e.support=function(){return t.hasRuntime.apply(t,arguments)},e.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var e,n,i=this.options.runtimeOrder||t.orders,r=this.type;if(!r)for(i=i.split(/\s*,\s*/g),e=0,n=i.length;e<n;e++)if(t.hasRuntime(i[e])){this.type=r=i[e];break}return r}})}),t("lib/transport",["base","runtime/client","mediator"],function(e,t,n){function i(e){var n=this;e=n.options=r.extend(!0,{},i.options,e||{}),t.call(this,"Transport"),this._blob=null,this._formData=e.formData||{},this._headers=e.headers||{},this.on("progress",this._timeout),this.on("load error",function(){n.trigger("progress",1),clearTimeout(n._timer)})}var r=e.$;return i.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},r.extend(i.prototype,{appendBlob:function(e,t,n){var i=this,r=i.options;i.getRuid()&&i.disconnectRuntime(),i.connectRuntime(t.ruid,function(){i.exec("init")}),i._blob=t,r.fileVal=e||r.fileVal,r.filename=n||r.filename},append:function(e,t){"object"==typeof e?r.extend(this._formData,e):this._formData[e]=t},setRequestHeader:function(e,t){"object"==typeof e?r.extend(this._headers,e):this._headers[e]=t},send:function(e){this.exec("send",e),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var e=this,t=e.options.timeout;t&&(clearTimeout(e._timer),e._timer=setTimeout(function(){e.abort(),e.trigger("error","timeout")},t))}}),n.installTo(i.prototype),i}),t("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(e,t,n,i){function r(e,t){var n,i,r=[],o=e.source,a=o.size,s=t?Math.ceil(a/t):1,u=0,c=0;for(i={file:e,has:function(){return!!r.length},shift:function(){return r.shift()},unshift:function(e){r.unshift(e)}};c<s;)n=Math.min(t,a-u),r.push({file:e,start:u,end:t?u+n:a,total:a,chunks:s,chunk:c++,cuted:i}),u+=n;return e.blocks=r.concat(),e.remaning=r.length,i}var o=e.$,a=e.isPromise,s=n.Status;o.extend(t.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),t.register({name:"upload",init:function(){var t=this.owner,n=this;this.runing=!1,this.progress=!1,t.on("startUpload",function(){n.progress=!0}).on("uploadFinished",function(){n.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=e.bindFn(this._tick,this),t.on("uploadComplete",function(e){e.blocks&&o.each(e.blocks,function(e,t){t.transport&&(t.transport.abort(),t.transport.destroy()),delete t.transport}),delete e.blocks,delete e.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(t){var n=this;if(o.each(n.request("get-files",s.INVALID),function(){n.request("remove-file",this)}),t?(t=t.fileId?t:n.request("get-file",t),t.getStatus()===s.INTERRUPT?(t.setStatus(s.QUEUED),o.each(n.pool,function(e,n){n.file===t&&(n.transport&&n.transport.send(),t.setStatus(s.PROGRESS))})):t.getStatus()!==s.PROGRESS&&t.setStatus(s.QUEUED)):o.each(n.request("get-files",[s.INITED]),function(){this.setStatus(s.QUEUED)}),n.runing)return e.nextTick(n.__tick);n.runing=!0;var i=[];t||o.each(n.pool,function(e,t){var r=t.file;r.getStatus()===s.INTERRUPT&&(n._trigged=!1,i.push(r),t.transport&&t.transport.send())}),o.each(i,function(){this.setStatus(s.PROGRESS)}),t||o.each(n.request("get-files",s.INTERRUPT),function(){this.setStatus(s.PROGRESS)}),n._trigged=!1,e.nextTick(n.__tick),n.owner.trigger("startUpload")},stopUpload:function(t,n){var i,r=this;if(!0===t&&(n=t,t=null),!1!==r.runing){if(t){if(t=t.fileId?t:r.request("get-file",t),t.getStatus()!==s.PROGRESS&&t.getStatus()!==s.QUEUED)return;return t.setStatus(s.INTERRUPT),o.each(r.pool,function(e,n){if(n.file===t)return i=n,!1}),i.transport&&i.transport.abort(),n&&(r._putback(i),r._popBlock(i)),e.nextTick(r.__tick)}r.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(s.INTERRUPT),n&&o.each(r.pool,function(e,t){t.transport&&t.transport.abort(),t.file.setStatus(s.INTERRUPT)}),r.owner.trigger("stopUpload")}},cancelFile:function(e){e=e.fileId?e:this.request("get-file",e),e.blocks&&o.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),e.setStatus(s.CANCELLED),this.owner.trigger("fileDequeued",e)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(e,t){e=e.fileId?e:this.request("get-file",e),e.setStatus(t||s.COMPLETE),e.skipped=!0,e.blocks&&o.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),this.owner.trigger("uploadSkip",e)},_tick:function(){var t,n,i=this,r=i.options;if(i._promise)return i._promise.always(i.__tick);i.pool.length<r.threads&&(n=i._nextBlock())?(i._trigged=!1,t=function(t){i._promise=null,t&&t.file&&i._startSend(t),e.nextTick(i.__tick)},i._promise=a(n)?n.always(t):t(n)):i.remaning||i._getStats().numOfQueue||i._getStats().numofInterrupt||(i.runing=!1,i._trigged||e.nextTick(function(){i.owner.trigger("uploadFinished")}),i._trigged=!0)},_putback:function(e){var t;e.cuted.unshift(e),~(t=this.stack.indexOf(e.cuted))||this.stack.unshift(e.cuted)},_getStack:function(){for(var e,t=0;e=this.stack[t++];){if(e.has()&&e.file.getStatus()===s.PROGRESS)return e;(!e.has()||e.file.getStatus()!==s.PROGRESS&&e.file.getStatus()!==s.INTERRUPT)&&this.stack.splice(--t,1)}return null},_nextBlock:function(){var e,t,n,i,o=this,s=o.options;return(e=this._getStack())?(s.prepareNextFile&&!o.pending.length&&o._prepareNextFile(),e.shift()):o.runing?(!o.pending.length&&o._getStats().numOfQueue&&o._prepareNextFile(),t=o.pending.shift(),n=function(t){return t?(e=r(t,s.chunked?s.chunkSize:0),o.stack.push(e),e.shift()):null},a(t)?(i=t.file,t=t[t.pipe?"pipe":"then"](n),t.file=i,t):n(t)):void 0},_prepareNextFile:function(){var e,t=this,n=t.request("fetch-file"),i=t.pending;n&&(e=t.request("before-send-file",n,function(){return n.getStatus()===s.PROGRESS||n.getStatus()===s.INTERRUPT?n:t._finishFile(n)}),t.owner.trigger("uploadStart",n),n.setStatus(s.PROGRESS),e.file=n,e.done(function(){var t=o.inArray(e,i);~t&&i.splice(t,1,n)}),e.fail(function(e){n.setStatus(s.ERROR,e),t.owner.trigger("uploadError",n,e),t.owner.trigger("uploadComplete",n)}),i.push(e))},_popBlock:function(e){var t=o.inArray(e,this.pool);this.pool.splice(t,1),e.file.remaning--,this.remaning--},_startSend:function(t){var n,i=this,r=t.file;if(r.getStatus()!==s.PROGRESS)return void(r.getStatus()===s.INTERRUPT&&i._putback(t));i.pool.push(t),i.remaning++,t.blob=1===t.chunks?r.source:r.source.slice(t.start,t.end),n=i.request("before-send",t,function(){r.getStatus()===s.PROGRESS?i._doSend(t):(i._popBlock(t),e.nextTick(i.__tick))}),n.fail(function(){1===r.remaning?i._finishFile(r).always(function(){t.percentage=1,i._popBlock(t),i.owner.trigger("uploadComplete",r),e.nextTick(i.__tick)}):(t.percentage=1,i.updateFileProgress(r),i._popBlock(t),e.nextTick(i.__tick))})},_doSend:function(t){var n,r,a=this,u=a.owner,c=a.options,l=t.file,f=new i(c),h=o.extend({},c.formData),d=o.extend({},c.headers);t.transport=f,f.on("destroy",function(){delete t.transport,a._popBlock(t),e.nextTick(a.__tick)}),f.on("progress",function(e){t.percentage=e,a.updateFileProgress(l)}),n=function(e){var n;return r=f.getResponseAsJson()||{},r._raw=f.getResponse(),n=function(t){e=t},u.trigger("uploadAccept",t,r,n)||(e=e||"server"),e},f.on("error",function(e,i){t.retried=t.retried||0,t.chunks>1&&~"http,abort".indexOf(e)&&t.retried<c.chunkRetry?(t.retried++,f.send()):(i||"server"!==e||(e=n(e)),l.setStatus(s.ERROR,e),u.trigger("uploadError",l,e),u.trigger("uploadComplete",l))}),f.on("load",function(){var e;if(e=n())return void f.trigger("error",e,!0);1===l.remaning?a._finishFile(l,r):f.destroy()}),h=o.extend(h,{id:l.fileId,name:l.name,type:l.type,lastModifiedDate:l.lastModifiedDate,size:l.size}),t.chunks>1&&o.extend(h,{chunks:t.chunks,chunk:t.chunk}),u.trigger("uploadBeforeSend",t,h,d),f.appendBlob(c.fileVal,t.blob,l.name),f.append(h),f.setRequestHeader(d),f.send()},
_finishFile:function(e,t,n){var i=this.owner;return i.request("after-send-file",arguments,function(){e.setStatus(s.COMPLETE),i.trigger("uploadSuccess",e,t,n)}).fail(function(t){e.getStatus()===s.PROGRESS&&e.setStatus(s.ERROR,t),i.trigger("uploadError",e,t)}).always(function(){i.trigger("uploadComplete",e)})},updateFileProgress:function(e){var t=0,n=0;e.blocks&&(o.each(e.blocks,function(e,t){n+=(t.percentage||0)*(t.end-t.start)}),t=n/e.size,this.owner.trigger("uploadProgress",e,t||0))}})}),t("widgets/validator",["base","uploader","file","widgets/widget"],function(e,t,n){var i,r=e.$,o={};return i={addValidator:function(e,t){o[e]=t},removeValidator:function(e){delete o[e]}},t.register({name:"validator",init:function(){var t=this;e.nextTick(function(){r.each(o,function(){this.call(t.owner)})})}}),i.addValidator("fileNumLimit",function(){var e=this,t=e.options,n=0,i=parseInt(t.fileNumLimit,10),r=!0;i&&(e.on("beforeFileQueued",function(e){return n>=i&&r&&(r=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",i,e),setTimeout(function(){r=!0},1)),!(n>=i)}),e.on("fileQueued",function(){n++}),e.on("fileDequeued",function(){n--}),e.on("reset",function(){n=0}))}),i.addValidator("fileSizeLimit",function(){var e=this,t=e.options,n=0,i=parseInt(t.fileSizeLimit,10),r=!0;i&&(e.on("beforeFileQueued",function(e){var t=n+e.size>i;return t&&r&&(r=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",i,e),setTimeout(function(){r=!0},1)),!t}),e.on("fileQueued",function(e){n+=e.size}),e.on("fileDequeued",function(e){n-=e.size}),e.on("reset",function(){n=0}))}),i.addValidator("fileSingleSizeLimit",function(){var e=this,t=e.options,i=t.fileSingleSizeLimit;i&&e.on("beforeFileQueued",function(e){if(e.size>i)return e.setStatus(n.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",i,e),!1})}),i.addValidator("duplicate",function(){function e(e){for(var t,n=0,i=0,r=e.length;i<r;i++)t=e.charCodeAt(i),n=t+(n<<6)+(n<<16)-n;return n}var t=this,n=t.options,i={};n.duplicate||(t.on("beforeFileQueued",function(t){var n=t.__hash||(t.__hash=e(t.name+t.size+t.lastModifiedDate));if(i[n])return this.trigger("error","F_DUPLICATE",t),!1}),t.on("fileQueued",function(e){var t=e.__hash;t&&(i[t]=!0)}),t.on("fileDequeued",function(e){var t=e.__hash;t&&delete i[t]}),t.on("reset",function(){i={}}))}),i}),t("lib/md5",["runtime/client","mediator"],function(e,t){function n(){e.call(this,"Md5")}return t.installTo(n.prototype),n.prototype.loadFromBlob=function(e){var t=this;t.getRuid()&&t.disconnectRuntime(),t.connectRuntime(e.ruid,function(){t.exec("init"),t.exec("loadFromBlob",e)})},n.prototype.getResult=function(){return this.exec("getResult")},n}),t("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(e,t,n,i){return t.register({name:"md5",md5File:function(t,r,o){var a=new n,s=e.Deferred(),u=t instanceof i?t:this.request("get-file",t).source;return a.on("progress load",function(e){e=e||{},s.notify(e.total?e.loaded/e.total:1)}),a.on("complete",function(){s.resolve(a.getResult())}),a.on("error",function(e){s.reject(e)}),arguments.length>1&&(r=r||0,o=o||0,r<0&&(r=u.size+r),o<0&&(o=u.size+o),o=Math.min(o,u.size),u=u.slice(r,o)),a.loadFromBlob(u),s.promise()}})}),t("runtime/compbase",[],function(){function e(e,t){this.owner=e,this.options=e.options,this.getRuntime=function(){return t},this.getRuid=function(){return t.uid},this.trigger=function(){return e.trigger.apply(e,arguments)}}return e}),t("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(t,n,i){function r(){var e={},i=this,r=this.destroy;n.apply(i,arguments),i.type=o,i.exec=function(n,r){var o,s=this,u=s.uid,c=t.slice(arguments,2);if(a[n]&&(o=e[u]=e[u]||new a[n](s,i),o[r]))return o[r].apply(o,c)},i.destroy=function(){return r&&r.apply(this,arguments)}}var o="html5",a={};return t.inherits(n,{constructor:r,init:function(){var e=this;setTimeout(function(){e.trigger("ready")},1)}}),r.register=function(e,n){return a[e]=t.inherits(i,n)},e.Blob&&e.FileReader&&e.DataView&&n.addRuntime(o,r),r}),t("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(e,t){return e.register("Blob",{slice:function(e,n){var i=this.owner.source;return i=(i.slice||i.webkitSlice||i.mozSlice).call(i,e,n),new t(this.getRuid(),i)}})}),t("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(e,t,n){var i=e.$,r="webuploader-dnd-";return t.register("DragAndDrop",{init:function(){var t=this.elem=this.options.container;this.dragEnterHandler=e.bindFn(this._dragEnterHandler,this),this.dragOverHandler=e.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=e.bindFn(this._dragLeaveHandler,this),this.dropHandler=e.bindFn(this._dropHandler,this),this.dndOver=!1,t.on("dragenter",this.dragEnterHandler),t.on("dragover",this.dragOverHandler),t.on("dragleave",this.dragLeaveHandler),t.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(i(document).on("dragover",this.dragOverHandler),i(document).on("drop",this.dropHandler))},_dragEnterHandler:function(e){var t,n=this,i=n._denied||!1;return e=e.originalEvent||e,n.dndOver||(n.dndOver=!0,t=e.dataTransfer.items,t&&t.length&&(n._denied=i=!n.trigger("accept",t)),n.elem.addClass(r+"over"),n.elem[i?"addClass":"removeClass"](r+"denied")),e.dataTransfer.dropEffect=i?"none":"copy",!1},_dragOverHandler:function(e){var t=this.elem.parent().get(0);return!(t&&!i.contains(t,e.currentTarget))&&(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,e),!1)},_dragLeaveHandler:function(){var e,t=this;return e=function(){t.dndOver=!1,t.elem.removeClass(r+"over "+r+"denied")},clearTimeout(t._leaveTimer),t._leaveTimer=setTimeout(e,100),!1},_dropHandler:function(e){var t,o,a=this,s=a.getRuid(),u=a.elem.parent().get(0);if(u&&!i.contains(u,e.currentTarget))return!1;e=e.originalEvent||e,t=e.dataTransfer;try{o=t.getData("text/html")}catch(e){}return a.dndOver=!1,a.elem.removeClass(r+"over"),o?void 0:(a._getTansferFiles(t,function(e){a.trigger("drop",i.map(e,function(e){return new n(s,e)}))}),!1)},_getTansferFiles:function(t,n){var i,r,o,a,s,u,c,l=[],f=[];for(i=t.items,r=t.files,c=!(!i||!i[0].webkitGetAsEntry),s=0,u=r.length;s<u;s++)o=r[s],a=i&&i[s],c&&a.webkitGetAsEntry().isDirectory?f.push(this._traverseDirectoryTree(a.webkitGetAsEntry(),l)):l.push(o);e.when.apply(e,f).done(function(){l.length&&n(l)})},_traverseDirectoryTree:function(t,n){var i=e.Deferred(),r=this;return t.isFile?t.file(function(e){n.push(e),i.resolve()}):t.isDirectory&&t.createReader().readEntries(function(t){var o,a=t.length,s=[],u=[];for(o=0;o<a;o++)s.push(r._traverseDirectoryTree(t[o],u));e.when.apply(e,s).then(function(){n.push.apply(n,u),i.resolve()},i.reject)}),i.promise()},destroy:function(){var e=this.elem;e&&(e.off("dragenter",this.dragEnterHandler),e.off("dragover",this.dragOverHandler),e.off("dragleave",this.dragLeaveHandler),e.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(i(document).off("dragover",this.dragOverHandler),i(document).off("drop",this.dropHandler)))}})}),t("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(e,t,n){return t.register("FilePaste",{init:function(){var t,n,i,r,o=this.options,a=this.elem=o.container,s=".*";if(o.accept){for(t=[],n=0,i=o.accept.length;n<i;n++)(r=o.accept[n].mimeTypes)&&t.push(r);t.length&&(s=t.join(","),s=s.replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=s=new RegExp(s,"i"),this.hander=e.bindFn(this._pasteHander,this),a.on("paste",this.hander)},_pasteHander:function(e){var t,i,r,o,a,s=[],u=this.getRuid();for(e=e.originalEvent||e,t=e.clipboardData.items,o=0,a=t.length;o<a;o++)i=t[o],"file"===i.kind&&(r=i.getAsFile())&&s.push(new n(u,r));s.length&&(e.preventDefault(),e.stopPropagation(),this.trigger("paste",s))},destroy:function(){this.elem.off("paste",this.hander)}})}),t("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(e,t){var n=e.$;return t.register("FilePicker",{init:function(){var e,t,i,r,o=this.getRuntime().getContainer(),a=this,s=a.owner,u=a.options,c=this.label=n(document.createElement("label")),l=this.input=n(document.createElement("input"));if(l.attr("type","file"),l.attr("capture","camera"),l.attr("name",u.name),l.addClass("webuploader-element-invisible"),c.on("click",function(e){l.trigger("click"),e.stopPropagation(),s.trigger("dialogopen")}),c.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),u.multiple&&l.attr("multiple","multiple"),u.accept&&u.accept.length>0){for(e=[],t=0,i=u.accept.length;t<i;t++)e.push(u.accept[t].mimeTypes);l.attr("accept",e.join(","))}o.append(l),o.append(c),r=function(e){s.trigger(e.type)},l.on("change",function(e){var t,i=arguments.callee;a.files=e.target.files,t=this.cloneNode(!0),t.value=null,this.parentNode.replaceChild(t,this),l.off(),l=n(t).on("change",i).on("mouseenter mouseleave",r),s.trigger("change")}),c.on("mouseenter mouseleave",r)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),t("runtime/html5/util",["base"],function(t){var n=e.createObjectURL&&e||e.URL&&URL.revokeObjectURL&&URL||e.webkitURL,i=t.noop,r=i;return n&&(i=function(){return n.createObjectURL.apply(n,arguments)},r=function(){return n.revokeObjectURL.apply(n,arguments)}),{createObjectURL:i,revokeObjectURL:r,dataURL2Blob:function(e){var t,n,i,r,o,a;for(a=e.split(","),t=~a[0].indexOf("base64")?atob(a[1]):decodeURIComponent(a[1]),i=new ArrayBuffer(t.length),n=new Uint8Array(i),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return o=a[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(i,o)},dataURL2ArrayBuffer:function(e){var t,n,i,r;for(r=e.split(","),t=~r[0].indexOf("base64")?atob(r[1]):decodeURIComponent(r[1]),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},arrayBufferToBlob:function(t,n){var i,r=e.BlobBuilder||e.WebKitBlobBuilder;return r?(i=new r,i.append(t),i.getBlob(n)):new Blob([t],n?{type:n}:{})},canvasToDataUrl:function(e,t,n){return e.toDataURL(t,n/100)},parseMeta:function(e,t){t(!1,{})},updateImageHead:function(e){return e}}}),t("runtime/html5/imagemeta",["runtime/html5/util"],function(e){var t;return t={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(e,t){var n=this,i=new FileReader;i.onload=function(){t(!1,n._parse(this.result)),i=i.onload=i.onerror=null},i.onerror=function(e){t(e.message),i=i.onload=i.onerror=null},e=e.slice(0,n.maxMetaDataSize),i.readAsArrayBuffer(e.getSource())},_parse:function(e,n){if(!(e.byteLength<6)){var i,r,o,a,s=new DataView(e),u=2,c=s.byteLength-4,l=u,f={};if(65496===s.getUint16(0)){for(;u<c&&((i=s.getUint16(u))>=65504&&i<=65519||65534===i)&&(r=s.getUint16(u+2)+2,!(u+r>s.byteLength));){if(o=t.parsers[i],!n&&o)for(a=0;a<o.length;a+=1)o[a].call(t,s,u,r,f);u+=r,l=u}l>6&&(e.slice?f.imageHead=e.slice(2,l):f.imageHead=new Uint8Array(e).subarray(2,l))}return f}},updateImageHead:function(e,t){var n,i,r,o=this._parse(e,!0);return r=2,o.imageHead&&(r=2+o.imageHead.byteLength),i=e.slice?e.slice(r):new Uint8Array(e).subarray(r),n=new Uint8Array(t.byteLength+2+i.byteLength),n[0]=255,n[1]=216,n.set(new Uint8Array(t),2),n.set(new Uint8Array(i),t.byteLength+2),n.buffer}},e.parseMeta=function(){return t.parse.apply(t,arguments)},e.updateImageHead=function(){return t.updateImageHead.apply(t,arguments)},t}),t("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(e,t){var n={};return n.ExifMap=function(){return this},n.ExifMap.prototype.map={Orientation:274},n.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},n.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},n.exifTagTypes[7]=n.exifTagTypes[1],n.getExifValue=function(t,i,r,o,a,s){var u,c,l,f,h,d,p=n.exifTagTypes[o];if(!p)return void e.log("Invalid Exif data: Invalid tag type.");if(u=p.size*a,(c=u>4?i+t.getUint32(r+8,s):r+8)+u>t.byteLength)return void e.log("Invalid Exif data: Invalid data offset.");if(1===a)return p.getValue(t,c,s);for(l=[],f=0;f<a;f+=1)l[f]=p.getValue(t,c+f*p.size,s);if(p.ascii){for(h="",f=0;f<l.length&&"\0"!==(d=l[f]);f+=1)h+=d;return h}return l},n.parseExifTag=function(e,t,i,r,o){var a=e.getUint16(i,r);o.exif[a]=n.getExifValue(e,t,i,e.getUint16(i+2,r),e.getUint32(i+4,r),r)},n.parseExifTags=function(t,n,i,r,o){var a,s,u;if(i+6>t.byteLength)return void e.log("Invalid Exif data: Invalid directory offset.");if(a=t.getUint16(i,r),(s=i+2+12*a)+4>t.byteLength)return void e.log("Invalid Exif data: Invalid directory size.");for(u=0;u<a;u+=1)this.parseExifTag(t,n,i+2+12*u,r,o);return t.getUint32(s,r)},n.parseExifData=function(t,i,r,o){var a,s,u=i+10;if(1165519206===t.getUint32(i+4)){if(u+8>t.byteLength)return void e.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(i+8))return void e.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(u)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void e.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(u+2,a))return void e.log("Invalid Exif data: Missing TIFF marker.");s=t.getUint32(u+4,a),o.exif=new n.ExifMap,s=n.parseExifTags(t,u,u+s,a,o)}},t.parsers[65505].push(n.parseExifData),n}),t("runtime/html5/jpegencoder",[],function(e,t,n){function i(e){function t(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=R((t[n]*e+50)/100);i<1?i=1:i>255&&(i=255),E[H[n]]=i}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var a=R((r[o]*e+50)/100);a<1?a=1:a>255&&(a=255),k[H[o]]=a}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],u=0,c=0;c<8;c++)for(var l=0;l<8;l++)S[u]=1/(E[H[u]]*s[c]*s[l]*8),T[u]=1/(k[H[u]]*s[c]*s[l]*8),u++}function n(e,t){for(var n=0,i=0,r=new Array,o=1;o<=16;o++){for(var a=1;a<=e[o];a++)r[t[i]]=[],r[t[i]][0]=n,r[t[i]][1]=o,i++,n++;n*=2}return r}function i(){b=n(M,j),_=n(Q,V),y=n(N,$),w=n(G,J)}function r(){for(var e=1,t=2,n=1;n<=15;n++){for(var i=e;i<t;i++)I[32767+i]=n,F[32767+i]=[],F[32767+i][1]=n,F[32767+i][0]=i;for(var r=-(t-1);r<=-e;r++)I[32767+r]=n,F[32767+r]=[],F[32767+r][1]=n,F[32767+r][0]=t-1+r;e<<=1,t<<=1}}function o(){for(var e=0;e<256;e++)z[e]=19595*e,z[e+256>>0]=38470*e,z[e+512>>0]=7471*e+32768,z[e+768>>0]=-11059*e,z[e+1024>>0]=-21709*e,z[e+1280>>0]=32768*e+8421375,z[e+1536>>0]=-27439*e,z[e+1792>>0]=-5329*e}function a(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(D|=1<<C),n--,--C<0&&(255==D?(s(255),s(0)):s(D),C=7,D=0)}function s(e){O.push(L[e])}function u(e){s(e>>8&255),s(255&e)}function c(e,t){var n,i,r,o,a,s,u,c,l,f=0;for(l=0;l<8;++l){n=e[f],i=e[f+1],r=e[f+2],o=e[f+3],a=e[f+4],s=e[f+5],u=e[f+6],c=e[f+7];var h=n+c,d=n-c,p=i+u,g=i-u,m=r+s,v=r-s,b=o+a,_=o-a,y=h+b,w=h-b,x=p+m,R=p-m;e[f]=y+x,e[f+4]=y-x;var E=.707106781*(R+w);e[f+2]=w+E,e[f+6]=w-E,y=_+v,x=v+g,R=g+d;var k=.382683433*(y-R),S=.5411961*y+k,T=1.306562965*R+k,F=.707106781*x,I=d+F,U=d-F;e[f+5]=U+S,e[f+3]=U-S,e[f+1]=I+T,e[f+7]=I-T,f+=8}for(f=0,l=0;l<8;++l){n=e[f],i=e[f+8],r=e[f+16],o=e[f+24],a=e[f+32],s=e[f+40],u=e[f+48],c=e[f+56];var O=n+c,D=n-c,C=i+u,q=i-u,P=r+s,B=r-s,L=o+a,z=o-a,H=O+L,M=O-L,j=C+P,N=C-P;e[f]=H+j,e[f+32]=H-j;var $=.707106781*(N+M);e[f+16]=M+$,e[f+48]=M-$,H=z+B,j=B+q,N=q+D;var Q=.382683433*(H-N),V=.5411961*H+Q,G=1.306562965*N+Q,J=.707106781*j,W=D+J,X=D-J;e[f+40]=X+V,e[f+24]=X-V,e[f+8]=W+G,e[f+56]=W-G,f++}var Z;for(l=0;l<64;++l)Z=e[l]*t[l],A[l]=Z>0?Z+.5|0:Z-.5|0;return A}function l(){u(65504),u(16),s(74),s(70),s(73),s(70),s(0),s(1),s(1),s(0),u(1),u(1),s(0),s(0)}function f(e,t){u(65472),u(17),s(8),u(t),u(e),s(3),s(1),s(17),s(0),s(2),s(17),s(1),s(3),s(17),s(1)}function h(){u(65499),u(132),s(0);for(var e=0;e<64;e++)s(E[e]);s(1);for(var t=0;t<64;t++)s(k[t])}function d(){u(65476),u(418),s(0);for(var e=0;e<16;e++)s(M[e+1]);for(var t=0;t<=11;t++)s(j[t]);s(16);for(var n=0;n<16;n++)s(N[n+1]);for(var i=0;i<=161;i++)s($[i]);s(1);for(var r=0;r<16;r++)s(Q[r+1]);for(var o=0;o<=11;o++)s(V[o]);s(17);for(var a=0;a<16;a++)s(G[a+1]);for(var c=0;c<=161;c++)s(J[c])}function p(){u(65498),u(12),s(3),s(1),s(0),s(2),s(17),s(3),s(17),s(0),s(63),s(0)}function g(e,t,n,i,r){for(var o,s=r[0],u=r[240],l=c(e,t),f=0;f<64;++f)U[H[f]]=l[f];var h=U[0]-n;n=U[0],0==h?a(i[0]):(o=32767+h,a(i[I[o]]),a(F[o]));for(var d=63;d>0&&0==U[d];d--);if(0==d)return a(s),n;for(var p,g=1;g<=d;){for(var m=g;0==U[g]&&g<=d;++g);var v=g-m;if(v>=16){p=v>>4;for(var b=1;b<=p;++b)a(u);v&=15}o=32767+U[g],a(r[(v<<4)+I[o]]),a(F[o]),g++}return 63!=d&&a(s),n}function m(){for(var e=String.fromCharCode,t=0;t<256;t++)L[t]=e(t)}function v(e){if(e<=0&&(e=1),e>100&&(e=100),x!=e){var n=0;n=e<50?Math.floor(5e3/e):Math.floor(200-2*e),t(n),x=e}}var b,_,y,w,x,R=(Math.round,Math.floor),E=new Array(64),k=new Array(64),S=new Array(64),T=new Array(64),F=new Array(65535),I=new Array(65535),A=new Array(64),U=new Array(64),O=[],D=0,C=7,q=new Array(64),P=new Array(64),B=new Array(64),L=new Array(256),z=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],$=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(e,t){t&&v(t),O=new Array,D=0,C=7,u(65496),l(),h(),f(e.width,e.height),d(),p();var n=0,i=0,r=0;D=0,C=7,this.encode.displayName="_encode_";for(var o,s,c,m,x,R,E,k,F,I=e.data,A=e.width,U=e.height,L=4*A,H=0;H<U;){for(o=0;o<L;){for(x=L*H+o,R=x,E=-1,k=0,F=0;F<64;F++)k=F>>3,E=4*(7&F),R=x+k*L+E,H+k>=U&&(R-=L*(H+1+k-U)),o+E>=L&&(R-=o+E-L+4),s=I[R++],c=I[R++],m=I[R++],q[F]=(z[s]+z[c+256>>0]+z[m+512>>0]>>16)-128,P[F]=(z[s+768>>0]+z[c+1024>>0]+z[m+1280>>0]>>16)-128,B[F]=(z[s+1280>>0]+z[c+1536>>0]+z[m+1792>>0]>>16)-128;n=g(q,S,n,b,y),i=g(P,T,i,_,w),r=g(B,T,r,_,w),o+=32}H+=8}if(C>=0){var M=[];M[1]=C+1,M[0]=(1<<C+1)-1,a(M)}u(65497);var j="data:image/jpeg;base64,"+btoa(O.join(""));return O=[],j},function(){e||(e=50),m(),i(),r(),o(),v(e)}()}return i.encode=function(e,t){return new i(t).encode(e)},i}),t("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(e,t,n){var i,r=e.canvasToDataUrl;e.canvasToDataUrl=function(e,o,a){var s,u,c,l,f;return n.os.android?("image/jpeg"===o&&void 0===i&&(l=r.apply(null,arguments),f=l.split(","),l=~f[0].indexOf("base64")?atob(f[1]):decodeURIComponent(f[1]),l=l.substring(0,2),i=255===l.charCodeAt(0)&&216===l.charCodeAt(1)),"image/jpeg"!==o||i?r.apply(null,arguments):(u=e.width,c=e.height,s=e.getContext("2d"),t.encode(s.getImageData(0,0,u,c),a))):r.apply(null,arguments)}}),t("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(e,t,n){return t.register("Image",{modified:!1,init:function(){var e=this,t=new Image;t.onload=function(){e._info={type:e.type,width:this.width,height:this.height},e._metas||"image/jpeg"!==e.type?e.owner.trigger("load"):n.parseMeta(e._blob,function(t,n){e._metas=n,e.owner.trigger("load")})},t.onerror=function(){e.owner.trigger("error")},e._img=t},loadFromBlob:function(e){var t=this,i=t._img;t._blob=e,t.type=e.type,i.src=n.createObjectURL(e.getSource()),t.owner.once("load",function(){n.revokeObjectURL(i.src)})},resize:function(e,t){var n=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,n,e,t),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(e,t,n,i,r){var o=this._canvas||(this._canvas=document.createElement("canvas")),a=this.options,s=this._img,u=s.naturalWidth,c=s.naturalHeight,l=this.getOrientation();r=r||1,o.width=n,o.height=i,a.preserveHeaders||this._rotate2Orientaion(o,l),this._renderImageToCanvas(o,s,-e,-t,u*r,c*r),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(e){var t,i=this._blob,r=this.options;if(e=e||this.type,this.modified||this.type!==e){if(t=this._canvas,"image/jpeg"===e){if(i=n.canvasToDataUrl(t,e,r.quality),r.preserveHeaders&&this._metas&&this._metas.imageHead)return i=n.dataURL2ArrayBuffer(i),i=n.updateImageHead(i,this._metas.imageHead),i=n.arrayBufferToBlob(i,e)}else i=n.canvasToDataUrl(t,e);i=n.dataURL2Blob(i)}return i},getAsDataUrl:function(e){var t=this.options;return e=e||this.type,"image/jpeg"===e?n.canvasToDataUrl(this._canvas,e,t.quality):this._canvas.toDataURL(e)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._metas=e,this):this._metas},destroy:function(){var e=this._canvas;this._img.onload=null,e&&(e.getContext("2d").clearRect(0,0,e.width,e.height),e.width=e.height=0,this._canvas=null),this._img.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D",this._img=this._blob=null},_resize:function(e,t,n,i){var r,o,a,s,u,c=this.options,l=e.width,f=e.height,h=this.getOrientation();~[5,6,7,8].indexOf(h)&&(n^=i,i^=n,n^=i),r=Math[c.crop?"max":"min"](n/l,i/f),c.allowMagnify||(r=Math.min(1,r)),o=l*r,a=f*r,c.crop?(t.width=n,t.height=i):(t.width=o,t.height=a),s=(t.width-o)/2,u=(t.height-a)/2,c.preserveHeaders||this._rotate2Orientaion(t,h),this._renderImageToCanvas(t,e,s,u,o,a)},_rotate2Orientaion:function(e,t){var n=e.width,i=e.height,r=e.getContext("2d");switch(t){case 5:case 6:case 7:case 8:e.width=i,e.height=n}switch(t){case 2:r.translate(n,0),r.scale(-1,1);break;case 3:r.translate(n,i),r.rotate(Math.PI);break;case 4:r.translate(0,i),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-i);break;case 7:r.rotate(.5*Math.PI),r.translate(n,-i),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-n,0)}},_renderImageToCanvas:function(){function t(e,t,n){var i,r,o,a=document.createElement("canvas"),s=a.getContext("2d"),u=0,c=n,l=n;for(a.width=1,a.height=n,s.drawImage(e,0,0),i=s.getImageData(0,0,1,n).data;l>u;)r=i[4*(l-1)+3],0===r?c=l:u=l,l=c+u>>1;return o=l/n,0===o?1:o}function n(e){var t,n,i=e.naturalWidth,r=e.naturalHeight;return i*r>1048576&&(t=document.createElement("canvas"),t.width=t.height=1,n=t.getContext("2d"),n.drawImage(e,1-i,0),0===n.getImageData(0,0,1,1).data[3])}return e.os.ios?e.os.ios>=7?function(e,n,i,r,o,a){var s=n.naturalWidth,u=n.naturalHeight,c=t(n,s,u);return e.getContext("2d").drawImage(n,0,0,s*c,u*c,i,r,o,a)}:function(e,i,r,o,a,s){var u,c,l,f,h,d,p,g=i.naturalWidth,m=i.naturalHeight,v=e.getContext("2d"),b=n(i),_="image/jpeg"===this.type,y=1024,w=0,x=0;for(b&&(g/=2,m/=2),v.save(),u=document.createElement("canvas"),u.width=u.height=y,c=u.getContext("2d"),l=_?t(i,g,m):1,f=Math.ceil(y*a/g),h=Math.ceil(y*s/m/l);w<m;){for(d=0,p=0;d<g;)c.clearRect(0,0,y,y),c.drawImage(i,-d,-w),v.drawImage(u,0,0,y,y,r+p,o+x,f,h),d+=y,p+=f;w+=y,x+=h}v.restore(),u=c=null}:function(t){var n=e.slice(arguments,1),i=t.getContext("2d");i.drawImage.apply(i,n)}}()})}),t("runtime/html5/transport",["base","runtime/html5/runtime"],function(e,t){var n=e.noop,i=e.$;return t.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var t,n,r,o=this.owner,a=this.options,s=this._initAjax(),u=o._blob,c=a.server;a.sendAsBinary?(c+=(/\?/.test(c)?"&":"?")+i.param(o._formData),n=u.getSource()):(t=new FormData,i.each(o._formData,function(e,n){t.append(e,n)}),t.append(a.fileVal,u.getSource(),a.filename||o._formData.name||"")),a.withCredentials&&"withCredentials"in s?(s.open(a.method,c,!0),s.withCredentials=!0):s.open(a.method,c),this._setRequestHeader(s,a.headers),n?(s.overrideMimeType&&s.overrideMimeType("application/octet-stream"),e.os.android?(r=new FileReader,r.onload=function(){s.send(this.result),r=r.onload=null},r.readAsArrayBuffer(n)):s.send(n)):s.send(t)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var e=this._xhr;e&&(e.upload.onprogress=n,e.onreadystatechange=n,e.abort(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var e=this,t=new XMLHttpRequest;return!this.options.withCredentials||"withCredentials"in t||"undefined"==typeof XDomainRequest||(t=new XDomainRequest),t.upload.onprogress=function(t){var n=0;return t.lengthComputable&&(n=t.loaded/t.total),e.trigger("progress",n)},t.onreadystatechange=function(){if(4===t.readyState)return t.upload.onprogress=n,t.onreadystatechange=n,e._xhr=null,e._status=t.status,t.status>=200&&t.status<300?(e._response=t.responseText,e.trigger("load")):t.status>=500&&t.status<600?(e._response=t.responseText,e.trigger("error","server")):e.trigger("error",e._status?"http":"abort")},e._xhr=t,t},_setRequestHeader:function(e,t){i.each(t,function(t,n){e.setRequestHeader(t,n)})},_parseJson:function(e){var t;try{t=JSON.parse(e)}catch(e){t={}}return t}})}),t("runtime/html5/md5",["runtime/html5/runtime"],function(e){var t=function(e,t){return e+t&4294967295},n=function(e,n,i,r,o,a){return n=t(t(n,e),t(r,a)),t(n<<o|n>>>32-o,i)},i=function(e,t,i,r,o,a,s){return n(t&i|~t&r,e,t,o,a,s)},r=function(e,t,i,r,o,a,s){return n(t&r|i&~r,e,t,o,a,s)},o=function(e,t,i,r,o,a,s){return n(t^i^r,e,t,o,a,s)},a=function(e,t,i,r,o,a,s){return n(i^(t|~r),e,t,o,a,s)},s=function(e,n){var s=e[0],u=e[1],c=e[2],l=e[3];s=i(s,u,c,l,n[0],7,-680876936),l=i(l,s,u,c,n[1],12,-389564586),c=i(c,l,s,u,n[2],17,606105819),u=i(u,c,l,s,n[3],22,-1044525330),s=i(s,u,c,l,n[4],7,-176418897),l=i(l,s,u,c,n[5],12,1200080426),c=i(c,l,s,u,n[6],17,-1473231341),u=i(u,c,l,s,n[7],22,-45705983),s=i(s,u,c,l,n[8],7,1770035416),l=i(l,s,u,c,n[9],12,-1958414417),c=i(c,l,s,u,n[10],17,-42063),u=i(u,c,l,s,n[11],22,-1990404162),s=i(s,u,c,l,n[12],7,1804603682),l=i(l,s,u,c,n[13],12,-40341101),c=i(c,l,s,u,n[14],17,-1502002290),u=i(u,c,l,s,n[15],22,1236535329),s=r(s,u,c,l,n[1],5,-165796510),l=r(l,s,u,c,n[6],9,-1069501632),c=r(c,l,s,u,n[11],14,643717713),u=r(u,c,l,s,n[0],20,-373897302),s=r(s,u,c,l,n[5],5,-701558691),l=r(l,s,u,c,n[10],9,38016083),c=r(c,l,s,u,n[15],14,-660478335),u=r(u,c,l,s,n[4],20,-405537848),s=r(s,u,c,l,n[9],5,568446438),l=r(l,s,u,c,n[14],9,-1019803690),c=r(c,l,s,u,n[3],14,-187363961),u=r(u,c,l,s,n[8],20,1163531501),s=r(s,u,c,l,n[13],5,-1444681467),l=r(l,s,u,c,n[2],9,-51403784),c=r(c,l,s,u,n[7],14,1735328473),u=r(u,c,l,s,n[12],20,-1926607734),s=o(s,u,c,l,n[5],4,-378558),l=o(l,s,u,c,n[8],11,-2022574463),c=o(c,l,s,u,n[11],16,1839030562),u=o(u,c,l,s,n[14],23,-35309556),s=o(s,u,c,l,n[1],4,-1530992060),l=o(l,s,u,c,n[4],11,1272893353),c=o(c,l,s,u,n[7],16,-155497632),u=o(u,c,l,s,n[10],23,-1094730640),s=o(s,u,c,l,n[13],4,681279174),l=o(l,s,u,c,n[0],11,-358537222),c=o(c,l,s,u,n[3],16,-722521979),u=o(u,c,l,s,n[6],23,76029189),s=o(s,u,c,l,n[9],4,-640364487),l=o(l,s,u,c,n[12],11,-421815835),c=o(c,l,s,u,n[15],16,530742520),u=o(u,c,l,s,n[2],23,-995338651),s=a(s,u,c,l,n[0],6,-198630844),l=a(l,s,u,c,n[7],10,1126891415),c=a(c,l,s,u,n[14],15,-1416354905),u=a(u,c,l,s,n[5],21,-57434055),s=a(s,u,c,l,n[12],6,1700485571),l=a(l,s,u,c,n[3],10,-1894986606),c=a(c,l,s,u,n[10],15,-1051523),u=a(u,c,l,s,n[1],21,-2054922799),s=a(s,u,c,l,n[8],6,1873313359),l=a(l,s,u,c,n[15],10,-30611744),c=a(c,l,s,u,n[6],15,-1560198380),u=a(u,c,l,s,n[13],21,1309151649),s=a(s,u,c,l,n[4],6,-145523070),l=a(l,s,u,c,n[11],10,-1120210379),c=a(c,l,s,u,n[2],15,718787259),u=a(u,c,l,s,n[9],21,-343485551),e[0]=t(s,e[0]),e[1]=t(u,e[1]),e[2]=t(c,e[2]),e[3]=t(l,e[3])},u=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},c=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},l=function(e){var t,n,i,r,o,a,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)s(l,u(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(s(l,i),t=0;t<16;t+=1)i[t]=0;return r=8*c,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),a=parseInt(r[1],16)||0,i[14]=o,i[15]=a,s(l,i),l},f=function(e){var t,n,i,r,o,a,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)s(l,c(e.subarray(t-64,t)));for(e=t-64<u?e.subarray(t-64):new Uint8Array(0),n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(s(l,i),t=0;t<16;t+=1)i[t]=0;return r=8*u,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),a=parseInt(r[1],16)||0,i[14]=o,i[15]=a,s(l,i),l},h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],d=function(e){var t,n="";for(t=0;t<4;t+=1)n+=h[e>>8*t+4&15]+h[e>>8*t&15];return n},p=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=d(e[t]);return e.join("")},g=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==function(e){return p(l(e))}("hello")&&(t=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}),g.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},g.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)s(this._state,u(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},g.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=e?this._state:p(this._state),this.reset(),n},g.prototype._finish=function(e,t){var n,i,r,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(s(this._state,e),o=0;o<16;o+=1)e[o]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),r=parseInt(n[1],16)||0,e[14]=i,e[15]=r,s(this._state,e)},g.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},g.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=l(e);return t?n:p(n)},g.hashBinary=function(e,t){var n=l(e);return t?n:p(n)},g.ArrayBuffer=function(){this.reset()},
g.ArrayBuffer.prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),i=n.length;for(this._length+=e.byteLength,t=64;t<=i;t+=64)s(this._state,c(n.subarray(t-64,t)));return this._buff=t-64<i?n.subarray(t-64):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i[t]<<(t%4<<3);return this._finish(o,r),n=e?this._state:p(this._state),this.reset(),n},g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,i=new Uint8Array(n+t.byteLength);return i.set(e),i.set(new Uint8Array(t),n),i},g.ArrayBuffer.hash=function(e,t){var n=f(new Uint8Array(e));return t?n:p(n)},e.register("Md5",{init:function(){},loadFromBlob:function(e){var t,n,i=e.getSource(),r=Math.ceil(i.size/2097152),o=0,a=this.owner,s=new g.ArrayBuffer,u=this,c=i.mozSlice||i.webkitSlice||i.slice;n=new FileReader,(t=function(){var l,f;l=2097152*o,f=Math.min(l+2097152,i.size),n.onload=function(t){s.append(t.target.result),a.trigger("progress",{total:e.size,loaded:f})},n.onloadend=function(){n.onloadend=n.onload=null,++o<r?setTimeout(t,1):setTimeout(function(){a.trigger("load"),u.result=s.end(),t=e=i=s=null,a.trigger("complete")},50)},n.readAsArrayBuffer(c.call(i,l,f))})()},getResult:function(){return this.result}})}),t("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(t,n,i){function r(){function i(e,t){var n,i,r=e.type||e;n=r.split("::"),i=n[0],r=n[1],"Ready"===r&&i===c.uid?c.trigger("ready"):o[i]&&o[i].trigger(r.toLowerCase(),e,t)}var r={},o={},u=this.destroy,c=this,l=t.guid("webuploader_");n.apply(c,arguments),c.type=a,c.exec=function(e,n){var i,a=this,u=a.uid,l=t.slice(arguments,2);return o[u]=a,s[e]&&(r[u]||(r[u]=new s[e](a,c)),i=r[u],i[n])?i[n].apply(i,l):c.flashExec.apply(a,arguments)},e[l]=function(){var e=arguments;setTimeout(function(){i.apply(null,e)},1)},this.jsreciver=l,this.destroy=function(){return u&&u.apply(this,arguments)},this.flashExec=function(e,n){var i=c.getFlash(),r=t.slice(arguments,2);return i.exec(this.uid,e,n,r)}}var o=t.$,a="flash",s={};return t.inherits(n,{constructor:r,init:function(){var e,n=this.getContainer(),i=this.options;n.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),e='<object id="'+this.uid+'" type="application/x-shockwave-flash" data-swf="test634" data="'+pageContext.rootPath+"/web-static/proExam/js/plugins/"+i.swf+'" ',t.browser.ie&&(e+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),e+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+pageContext.rootPath+"/web-static/proExam/js/plugins/"+i.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',n.html(e)},getFlash:function(){return this._flash?this._flash:(this._flash=o("#"+this.uid).get(0),this._flash)}}),r.register=function(e,n){return n=s[e]=t.inherits(i,o.extend({flashExec:function(){var e=this.owner;return this.getRuntime().flashExec.apply(e,arguments)}},n))},function(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(t){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1],10)}()>=11.4&&n.addRuntime(a,r),r}),t("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(e,t){var n=e.$;return t.register("FilePicker",{init:function(e){var t,i,r=n.extend({},e);for(t=r.accept&&r.accept.length,i=0;i<t;i++)r.accept[i].title||(r.accept[i].title="Files");delete r.button,delete r.id,delete r.container,this.flashExec("FilePicker","init",r)},destroy:function(){this.flashExec("FilePicker","destroy")}})}),t("runtime/flash/image",["runtime/flash/runtime"],function(e){return e.register("Image",{loadFromBlob:function(e){var t=this.owner;t.info()&&this.flashExec("Image","info",t.info()),t.meta()&&this.flashExec("Image","meta",t.meta()),this.flashExec("Image","loadFromBlob",e.uid)}})}),t("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(t,n,i){var r=t.$;return n.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var e,t=this.owner,n=this.options,i=this._initAjax(),o=t._blob,a=n.server;i.connectRuntime(o.ruid),n.sendAsBinary?(a+=(/\?/.test(a)?"&":"?")+r.param(t._formData),e=o.uid):(r.each(t._formData,function(e,t){i.exec("append",e,t)}),i.exec("appendBlob",n.fileVal,o.uid,n.filename||t._formData.name||"")),this._setRequestHeader(i,n.headers),i.exec("send",{method:n.method,url:a,forceURLStream:n.forceURLStream,mimeType:"application/octet-stream"},e)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var e=this._xhr;e&&(e.exec("abort"),e.destroy(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var t=this,n=new i("XMLHttpRequest");return n.on("uploadprogress progress",function(e){var n=e.loaded/e.total;return n=Math.min(1,Math.max(0,n)),t.trigger("progress",n)}),n.on("load",function(){var i,r=n.exec("getStatus"),o=!1,a="";return n.off(),t._xhr=null,r>=200&&r<300?o=!0:r>=500&&r<600?(o=!0,a="server"):a="http",o&&(t._response=n.exec("getResponse"),t._response=decodeURIComponent(t._response),i=function(t){try{return e.JSON&&e.JSON.parse?JSON.parse(t):new Function("return "+t).call()}catch(e){return{}}},t._responseJson=t._response?i(t._response):{}),n.destroy(),n=null,a?t.trigger("error",a):t.trigger("load")}),n.on("error",function(){n.off(),t._xhr=null,t.trigger("error","http")}),t._xhr=n,n},_setRequestHeader:function(e,t){r.each(t,function(t,n){e.exec("setRequestHeader",t,n)})}})}),t("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(e,t){return e.register("Blob",{slice:function(e,n){var i=this.flashExec("Blob","slice",e,n);return new t(this.getRuid(),i)}})}),t("runtime/flash/md5",["runtime/flash/runtime"],function(e){return e.register("Md5",{init:function(){},loadFromBlob:function(e){return this.flashExec("Md5","loadFromBlob",e.uid)}})}),t("preset/all",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","widgets/md5","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/androidpatch","runtime/html5/image","runtime/html5/transport","runtime/html5/md5","runtime/flash/filepicker","runtime/flash/image","runtime/flash/transport","runtime/flash/blob","runtime/flash/md5"],function(e){return e}),t("widgets/log",["base","uploader","widgets/widget"],function(e,t){function n(e){var t=r.extend({},i,e),n=o.replace(/^(.*)\?/,"$1"+r.param(t));(new Image).src=n}var i,r=e.$,o=" http://static.tieba.baidu.com/tb/pms/img/st.gif??",a=(location.hostname||location.host||"protected").toLowerCase(),s=a&&/baidu/i.exec(a);if(s)return i={dv:3,master:"webuploader",online:/test/.exec(a)?0:1,module:"",product:a,type:0},t.register({name:"log",init:function(){var e=this.owner,t=0,i=0;e.on("error",function(e){n({type:2,c_error_code:e})}).on("uploadError",function(e,t){n({type:2,c_error_code:"UPLOAD_ERROR",c_reason:""+t})}).on("uploadComplete",function(e){t++,i+=e.size}).on("uploadFinished",function(){n({c_count:t,c_size:i}),t=i=0}),n({c_usage:1})}})}),t("webuploader",["preset/all","widgets/log"],function(e){return e}),n("webuploader")});
!function(a){function e(e){return a(e)}function n(a,e){e?i(a):t(a)}function i(e){var n=a.data(e,"peGrid");n.options.isReMathPage&&1!==n.options.page&&(n.options.page=n.options.page-1),n.isLoaded=!1,t(e)}function t(e,n){var t=a.data(e,"peGrid");n&&(t.options.isReMathPage=!1),t.options.url&&a.ajax({url:t.options.url+"?page="+t.options.page+"&pageSize="+t.options.pageSize,data:t.options.formParam,dataType:"json",error:function(){},success:function(s){if(n&&s.rows&&0===s.rows.length&&(0!==s.total||s.total))return t.options.isReMathPage=!0,void i(e,n);if(s.rows&&0===s.rows.length?(a(".pe-fixed-table-panel").get(0)&&a(".pe-fixed-table-panel").hide(),s.emptyData=!0,a(e).css("borderBottom","none")):(a(".pe-fixed-table-panel").get(0)&&a(".pe-fixed-table-panel").show(),a(e).css("borderBottom","1px solid #e0e0e0")),s.tableTitles=t.options.title,a(e).html(""),t.options.isTableHasFixed&&a(".pe-stand-table-main-panel").find("table").remove(),t.options.isTableScroll&&s.rows&&0!==s.rows.length){var d=t.options.title,l=0,r=0;if(t.options.isUserExtend)a.each(d,function(a,e){e.checked&&(r++,"sexType"===e.columnName||"status"===e.columnName?l+=50:"employeeCode"===e.columnName?l+=36:"status"===e.columnName?l+=50:"entryTime"===e.columnName?l+=90:"opt"===e.columnName||"userName"===e.columnName||"loginName"===e.columnName||("mobile"===e.columnName?l+=80:"positionName"===e.columnName||"email"===e.columnName||"organize.organizeName"===e.columnName?l+=150:"checkbox"===e.columnName||(l+=150)))}),(l+=24*r)<774&&(l=774);else if("userMana"===t.options.tableScrollType){for(var g=0,m=d.length;g<m;g++)d[g].checked&&(r++,"sexType"===d[g].columnName||"status"===d[g].columnName?l+=36:"employeeCode"===d[g].columnName?l+=36:"status"===d[g].columnName?l+=30:"entryTime"===d[g].columnName?l+=90:"opt"===d[g].columnName||"userName"===d[g].columnName||"loginName"===d[g].columnName||("mobile"===d[g].columnName?l+=80:"positionName"===d[g].columnName||"email"===d[g].columnName||"organize.organizeName"===d[g].columnName?l+=136:"checkbox"===d[g].columnName||(l+=150)));l+=24*r,l<500&&(l=500)}else if("reviewCompResult"===t.options.tableScrollType){for(var u=t.options.title,f=0,c=0,b=u.length;c<b;c++)"subject"===u[c].name&&f++;l=f>5?884:500}a(e).width(l)}if(a(e).append(_.template(a("#"+t.options.tempId).html())({peData:s,compareData:t.options.compareData})),a(e).append('<input type="hidden" name="tablePageSize" value="'+t.options.pageSize+'" />'),t.data=s,a(e).find("tr").hover(function(e){var e=e||window.event;if(e.stopPropagation(),a(this).find("td").hasClass("pe-stand-table-empty"))return!1;a(this).addClass("tr-hover")},function(e){var e=e||window.event;if(e.stopPropagation(),a(this).find("td").hasClass("pe-stand-table-empty"))return!1;a(this).removeClass("tr-hover")}),"default"===t.options.pagination)o(e),PEBASE.peSelect(a(".pe-stand-table-pagination-pageSize"),null,a('input[name="savePaginationPageSize"]'),t.peGrid);else if("layer"===t.options.pagination){PEBASE.peSelect(a(parent.window.document).find(".layer-page-drop-down"),null,a('input[name="saveLayerPaginationPageSize"]'),t.peGrid),a(parent.window.document).find('input[name="saveLayerPaginationPageSize"]').val(t.options.pageSize),a(parent.window.document).find('input[name="saveLayerPaginationPage"]').val(t.options.page);var h=Math.ceil(parseInt(t.data.total)/parseInt(t.options.pageSize));a(parent.window.document).find(".layer-page-wrap .page-total").html(h).attr("data-total",t.options.total),p(t.peGrid,h)}else if("secondPagin"===t.options.pagination){PEBASE.peSelect(a(".table-second-pagination-wrap .layer-page-drop-down"),null,a('input[name="saveLayerPaginationPageSize"]'),t.peGrid),a(".table-second-pagination-wrap").find('input[name="saveLayerPaginationPageSize"]').val(t.options.pageSize),a(".table-second-pagination-wrap").find('input[name="saveLayerPaginationPage"]').val(t.options.page);var h=Math.ceil(parseInt(t.data.total)/parseInt(t.options.pageSize));a(".table-second-pagination-wrap").find(".layer-page-wrap .page-total").html(h),p(t.peGrid,h)}else t.options.pagination;PEBASE.peFormEvent("checkbox"),PEBASE.peFormEvent("radio"),t.options.onLoad.call({dom:t.peGrid,isTable:!0},t);var v=t.peGrid.siblings(".pe-stand-table-pagination").get(0)?t.peGrid.siblings(".pe-stand-table-pagination"):t.peGrid.parents(".pe-scrollTable-wrap").siblings(".pe-stand-table-pagination");if(t.peGrid.siblings(".pe-stand-table-pagination").get(0)||t.peGrid.parents(".pe-scrollTable-wrap").siblings(".pe-stand-table-pagination").get(0))var w=v,P=w.find(".pagination-down"),S=w.find(".pagination-up");else if("layer"===t.options.pagination)var w=a(parent.window.document).find(".layer-page-wrap"),P=a(parent.window.document).find(".layer-page-wrap .pagination-down"),S=a(parent.window.document).find(".layer-page-wrap .pagination-up"),C=a(parent.window.document).find('input[name="saveLayerPaginationPageSize"]'),y=a(parent.window.document).find('input[name="saveLayerPaginationPage"]');else if("secondPagin"===t.options.pagination)var w=a(".table-second-pagination-wrap").find(".layer-page-wrap"),P=a(".table-second-pagination-wrap").find(".layer-page-wrap .pagination-down"),S=a(".table-second-pagination-wrap").find(".layer-page-wrap .pagination-up"),C=a(".table-second-pagination-wrap").find('input[name="saveLayerPaginationPageSize"]'),y=a(".table-second-pagination-wrap").find('input[name="saveLayerPaginationPage"]');w&&(10===t.options.pageSize?(P.addClass("disabled"),S.removeClass("disabled")):100===t.options.pageSize?(S.addClass("disabled"),P.removeClass("disabled")):(S.removeClass("disabled"),P.removeClass("disabled")),C&&C.get(0)&&y&&y.get(0)&&(C.val(t.options.pageSize),y.val(t.options.page)))}})}function o(e,n){var i=a.data(e,"peGrid");a(".pe-stand-table-pagination").pagination({dataSource:i.options.url,showGoInput:!0,pageSize:i.options.pageSize,pageNumber:i.options.page,showGoButton:!0,totalNumber:i.data.total,locator:"rows",triggerPagingOnInit:!1,className:"pe-stand-pagination",classPrefix:"pePagination",hideWhenLessThanOnePage:!1,prevText:"",nextText:"",alias:{pageNumber:"page",data:i.options.formParam},goButtonText:"GO",callback:function(e,n){var t=a(".pe-stand-table-pagination").pagination("getTotalPage");1===n.pageNumber?a(".pe-stand-pagination .pePagination-go-first ").addClass("disabled"):a(".pe-stand-pagination .pePagination-go-first ").removeClass("disabled"),n.pageNumber===t?a(".pe-stand-pagination .pePagination-go-last ").addClass("disabled"):a(".pe-stand-pagination .pePagination-go-last ").removeClass("disabled"),i.data.rows=e.rows,i.data.start=e.start,i.options.page=n.pageNumber,i.options.total=e.total,a(i.peGrid).html(""),i.options.isTableHasFixed&&a(".pe-stand-table-main-panel").find("table").remove(),a(i.peGrid).append(_.template(a("#"+i.options.tempId).html())({peData:i.data,compareData:i.options.compareData})),a.isArray(i.options.fixedTableTempId)&&a.each(i.options.fixedTableTempId,function(e,n){a(".pe-stand-table-main-panel").append(_.template(a("#"+n).html())({peData:i.data,compareData:i.options.compareData}))}),PEBASE.peFormEvent("checkbox"),PEBASE.peFormEvent("radio"),i.options.showTotalDomId&&a("#"+i.options.showTotalDomId).html(i.options.total),PEBASE.peSelect(a(".pe-stand-table-pagination-pageSize"),null,a('input[name="savePaginationPageSize"]'),i.peGrid);var o=i.peGrid.siblings(".pe-stand-table-pagination");o.get(0)&&(10===i.options.pageSize?(o.find(".pagination-down").addClass("disabled"),o.find(".pagination-up").removeClass("disabled"),PEBASE.pagiArrowClick({domData:i.options,isTable:!0})):100===i.options.pageSize?(o.find(".pagination-up").addClass("disabled"),o.find(".pagination-down").removeClass("disabled"),PEBASE.pagiArrowClick({domData:i.options,isTable:!0})):(o.find(".pagination-up").removeClass("disabled"),o.find(".pagination-down").removeClass("disabled"),PEBASE.pagiArrowClick({domData:i.options,isTable:!0}))),a(".pe-scrollTable-wrap").hasClass("mCustomScrollbar")&&a(".pe-scrollTable-wrap").mCustomScrollbar("update")},afterInit:function(e,n){a('input[name="tablePageSize"]').val(i.options.pageSize),i.options.showTotalDomId&&a("#"+i.options.showTotalDomId).html(i.data.total);var t=a(".pe-stand-table-pagination");1===a(".paginationjs-pages").find(".pePagination-page").length&&i.data.total>10?a(".pePagination-go-last").addClass("disabled"):0===a(".paginationjs-pages").find(".pePagination-page").length||i.data.total<=10?a(".pe-stand-table-pagination").hide():a(".pe-stand-table-pagination").show(),a(".paginationjs-pages").find(".pePagination-page").length,t.delegate(".pePagination-go-first","click",function(){a(this).hasClass("disabled")||a(".pe-stand-table-pagination").pagination("go",1)}),t.delegate(".pePagination-go-last","click",function(e){if(!a(this).hasClass("disabled")){var n=a(".pe-stand-table-pagination");if("model"in n.data("pagination"))var t=n.pagination("getTotalPage");else var t=Math.ceil(parseInt(i.data.total)/parseInt(i.options.pageSize));n.pagination("go",t)}})}})}function p(e,i){var t=a.data(a(e).get(0),"peGrid");if("secondPagin"===t.options.pagination)var o=a(".table-second-pagination-wrap").find(".layer-page-wrap"),p=a(".table-second-pagination-wrap").find('input[name="saveLayerPaginationPageSize"]'),s=a(".table-second-pagination-wrap").find('input[name="saveLayerPaginationPage"]');else if("layer"===t.options.pagination)var o=a(parent.window.document).find(".layer-page-wrap"),p=a(parent.window.document).find('input[name="saveLayerPaginationPageSize"]'),s=a(parent.window.document).find('input[name="saveLayerPaginationPage"]');o.find(".page-go-input").val(t.options.page),1===i&&(o.find(".page-right a").addClass("disabled"),o.find(".page-left a").addClass("disabled"),o.find(".page-go-input").attr("readonly",!0)),0===i&&(o.find(".page-right a").addClass("disabled"),o.find(".page-go-input").attr("readonly",!0),o.find(".page-go-input").val(0)),i===parseInt(o.find(".page-go-input").val())&&o.find(".page-right a").addClass("disabled"),1!==i&&0!==i&&i!==parseInt(o.find(".page-go-input").val())&&(o.find(".page-right a").removeClass("disabled"),o.find(".page-go-input").removeAttr("readonly")),o.get(0)&&(o.find(".page-right a").off().on("click",function(t){var t=t||window.event;if(t.stopPropagation(),a(this).hasClass("disabled"))return!1;var d=a.data(a(e).get(0),"peGrid");d.options.page+1===i&&a(this).addClass("disabled"),o.find(".page-left a").removeClass("disabled");var l=parseInt(p.val(),10),r=parseInt(s.val(),10);d.options.pageSize=l,d.options.page=r+1,n(a(e).get(0))}),o.find(".page-left a").off().on("click",function(i){var i=i||window.event;if(i.stopPropagation(),a(this).hasClass("disabled"))return!1;var t=a.data(a(e).get(0),"peGrid");2===t.options.page&&a(this).addClass("disabled"),o.find(".page-right a").removeClass("disabled");var d=parseInt(p.val(),10),l=parseInt(s.val(),10);t.options.pageSize=d,t.options.page=l-1,n(a(e).get(0))}),o.delegate(".page-go-input","keyup",function(t){var t=t||window.event;t.stopPropagation();var d=t.keyCode,l=parseInt(this.value,10),r=a.data(a(e).get(0),"peGrid");if(d>=48&&d<=57||d>=96&&d<=105||8===d||108===d||46===d||37===d||39===d)parseInt(l,10)>i&&(this.value=i);else if(13===t.keyCode||108===t.keyCode){var g=parseInt(p.val(),10);s.val(l),r.options.pageSize=g,r.options.page=l,n(a(e).get(0)),1===r.options.page?(o.find(".page-left a").addClass("disabled"),o.find(".page-right a").removeClass("disabled")):r.options.page===i?(o.find(".page-right a").addClass("disabled"),o.find(".page-left a").removeClass("disabled")):(o.find(".page-left a").removeClass("disabled"),o.find(".page-right a").removeClass("disabled"))}}),o.delegate(".page-go-input","keydown",function(a){var a=a||window.event;a.stopPropagation();var e=a.keyCode;this.value;if(!(e>=48&&e<=57||e>=96&&e<=105||8===e||108===e||46===e||37===e||39===e))return!1}))}function s(e,n){var i,t=a.data(e,"peGrid"),o=t.peGrid;i=t.options.isTableHasFixed?a(".pe-stand-table-main-panel > .checkbox-table.userMana-left-fixed-table").find("."+n):o.find("."+n);for(var p=[],s=0,d=i.length;s<d;s++){var l=a(i[s]).parent().data("id");l&&32===l.length&&p.push(l)}return p}a.fn.peGrid=function(i,t,o){return"string"==typeof i?a.fn.peGrid.methods[i](this,t,o):(i=i||{},this.each(function(){var t,o=a.data(this,"peGrid");o?t=a.extend(o.options,i):(t=t=a.extend({},a.fn.peGrid.defaults,i),o=a.data(this,"peGrid",{options:t,peGrid:e(this),isLoaded:!1})),n(this)}))},a.fn.peGrid.methods={refresh:function(e){return e.each(function(){a.data(this,"peGrid").options.isReMathPage=!0,n(this,!0)})},load:function(e,i){return e.each(function(){var e=a.data(this,"peGrid");e.options.formParam=i,e.options.page=1,n(this)})},getTotal:function(e){var n=0;return e.each(function(){var e=a.data(this,"peGrid");n=e.data.total}),n},pagiSizeChangeLoad:function(e,i){return e.each(function(){var e=a.data(this,"peGrid");e.options.pageSize=i,e.options.page=1,n(this)})},layerPageChangeLoad:function(e,i){return e.each(function(){var e=a.data(this,"peGrid");e.options.pageSize=i.pageSize,e.options.page=i.page,n(this)})},selectRows:function(e){var n;return e.each(function(){a.data(this,"peGrid");n=s(this,"peChecked")}),n},userExtendTable:function(e,i,t){return e.each(function(){var e=a.data(this,"peGrid");e.options.isUserExtend=i,e.options.onLoad=t,n(this)})}},a.fn.peGrid.defaults={url:null,formParam:null,showTotalDomId:"showTotal",domTableWrap:"",isLoading:!1,isReMathPage:null,page:1,pageSize:10,hover:!1,title:{},pagination:"default",compareData:"",tempId:"",onLoad:function(){}}}(jQuery);
!function(e,t){"use strict";var i,n,a=e.layui&&layui.define,o={getPath:function(){var e=document.scripts,t=e[e.length-1],i=t.src;if(!t.getAttribute("merge"))return i.substring(0,i.lastIndexOf("/")+1)}(),config:{},end:{},minIndex:0,minLeft:[],btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},l={v:"3.0",ie:function(){var t=navigator.userAgent.toLowerCase();return!!(e.ActiveXObject||"ActiveXObject"in e)&&((t.match(/msie\s(\d+)/)||[])[1]||"11")}(),index:e.layer&&e.layer.v?1e5:0,path:o.getPath,config:function(e,t){return e=e||{},l.cache=o.config=i.extend({},o.config,e),l.path=o.config.path||l.path,"string"==typeof e.extend&&(e.extend=[e.extend]),o.config.path&&l.ready(),e.extend?(a?layui.addcss("modules/layer/"+e.extend):l.link("skin/"+e.extend),this):this},link:function(t,n,a){if(l.path){var o=i("head")[0],r=document.createElement("link");"string"==typeof n&&(a=n);var s=(a||t).replace(/\.|\//g,""),f="layuicss-"+s,c=0;r.rel="stylesheet",r.href=l.path+t,r.id=f,i("#"+f)[0]||o.appendChild(r),"function"==typeof n&&function t(){return++c>80?e.console&&console.error("layer.css: Invalid"):void(1989===parseInt(i("#"+f).css("width"))?n():setTimeout(t,100))}()}},ready:function(e){var t="skinlayercss",i="1172";return a?layui.addcss("modules/layer/default/layer.css?v="+l.v+i,e,t):l.link("skin/default/layer.css?v="+l.v+i,e,t),this},alert:function(e,t,n){var a="function"==typeof t;return a&&(n=t),l.open(i.extend({content:e,yes:n},a?{}:t))},confirm:function(e,t,n,a){var r="function"==typeof t;return r&&(a=n,n=t),l.open(i.extend({content:e,btn:o.btn,yes:n,btn2:a},r?{}:t))},msg:function(e,t,n){var a="function"==typeof t,r=o.config.skin,f=(r?r+" "+r+"-msg":"")||"layui-layer-msg",c=s.anim.length-1;return a&&(n=t),l.open(i.extend({content:e,time:3e3,shade:!1,skin:f,title:!1,closeBtn:!1,btn:!1,resize:!1,end:n},a&&!o.config.skin?{skin:f+" layui-layer-hui",anim:c}:function(){return t=t||{},(-1===t.icon||void 0===t.icon&&!o.config.skin)&&(t.skin=f+" "+(t.skin||"layui-layer-hui")),t}()))},load:function(e,t){return l.open(i.extend({type:3,icon:e||0,resize:!1,shade:.01},t))},tips:function(e,t,n){return l.open(i.extend({type:4,content:[e,t],closeBtn:!1,time:3e3,shade:!1,resize:!1,fixed:!1,maxWidth:210},n))}},r=function(e){var t=this;t.index=++l.index,t.config=i.extend({},t.config,o.config,e),document.body?t.creat():setTimeout(function(){t.creat()},50)};r.pt=r.prototype;var s=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];s.anim=["layer-anim","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"],r.pt.config={type:0,shade:.3,fixed:!0,move:s[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,anim:0,icon:-1,moveType:1,needPagination:!1,resize:!0,scrollbar:!0,tips:2},r.pt.vessel=function(e,t){var n=this,a=n.index,l=n.config,r=l.zIndex+a,f="object"==typeof l.title,c=l.maxmin&&(1===l.type||2===l.type),u=l.title?'<div class="layui-layer-title" style="'+(f?l.title[1]:"")+'">'+(f?l.title[0]:l.title)+"</div>":"";return l.zIndex=r,t([l.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+a+'" times="'+a+'" style="z-index:'+(r-1)+"; background-color:"+(l.shade[1]||"#000")+"; opacity:"+(l.shade[0]||l.shade)+"; filter:alpha(opacity="+(100*l.shade[0]||100*l.shade)+');"></div>':"",'<div class="'+s[0]+" layui-layer-"+o.type[l.type]+(0!=l.type&&2!=l.type||l.shade?"":" layui-layer-border")+" "+(l.skin||"")+'" id="'+s[0]+a+'" type="'+o.type[l.type]+'" times="'+a+'" showtime="'+l.time+'" conType="'+(e?"object":"string")+'" style="z-index: '+r+"; width:"+l.area[0]+";height:"+l.area[1]+(l.fixed?"":";position:absolute;")+'">'+(e&&2!=l.type?"":u)+'<div id="'+(l.id||"")+'" class="layui-layer-content'+(0==l.type&&-1!==l.icon?" layui-layer-padding":"")+(3==l.type?" layui-layer-loading"+l.icon:"")+'">'+(0==l.type&&-1!==l.icon?'<i class="layui-layer-ico layui-layer-ico'+l.icon+'"></i>':"")+(1==l.type&&e?"":l.content||"")+'</div><span class="layui-layer-setwin">'+function(){var e=c?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return l.closeBtn&&(e+='<a class="iconfont  icon-dialog-close-btn layui-layer-ico '+s[7]+" "+s[7]+(l.title?l.closeBtn:4==l.type?"1":"2")+'" href="javascript:;"></a>'),e}()+"</span>"+(l.btn?function(){var e="";if(l&&l.needPagination)var t=' <ul class="layer-page-wrap floatL"> <li class="page-left"><a class=" iconfont icon-page-pre disabled"></a></li> <li class="page-go"><input type="text" class="page-go-input"/>/<span class="page-total">5</span></li> <li class="page-right"><a class=" iconfont icon-page-next"></a></li> <li><select class="layer-page-drop-down dropdown"> <option value="10" selected>10</option> <option value="20">20</option> <option value="50">50</option> <option value="100">100</option></select></li><input name="saveLayerPaginationPageSize" type="hidden" value="10" /><input name="saveLayerPaginationPage" type="hidden" value="1" /></ul>';else var t="";"string"==typeof l.btn&&(l.btn=[l.btn]);for(var i=0,n=l.btn.length;i<n;i++)e+='<a class="layer-opt-btn '+s[6]+i+'">'+l.btn[i]+"</a>";return'<div class="'+s[6]+" layui-layer-btn-"+(l.btnAlign||"")+'">'+t+e+"</div>"}():"")+(l.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],u,i('<div class="layui-layer-move"></div>')),n},r.pt.creat=function(){var e=this,t=e.config,a=e.index,r=t.content,f="object"==typeof r,c=i("body");if(!i("#"+t.id)[0]){switch("string"==typeof t.area&&(t.area="auto"===t.area?["",""]:[t.area,""]),t.shift&&(t.anim=t.shift),6==l.ie&&(t.fixed=!1),t.type){case 0:t.btn="btn"in t?t.btn:o.btn[0],l.closeAll("dialog");break;case 2:t.checkAjaxRequest();var r=t.content=f?t.content:[t.content||"http://layer.layui.com","auto"];t.content='<iframe scrolling="'+(t.content[1]||"auto")+'" allowtransparency="true" id="'+s[4]+a+'" name="'+s[4]+a+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+t.content[0]+'"></iframe>';break;case 3:delete t.title,delete t.closeBtn,-1===t.icon&&t.icon,l.closeAll("loading");break;case 4:f||(t.content=[t.content,"body"]),t.follow=t.content[1],t.content=t.content[0]+'<i class="layui-layer-TipsG"></i>',delete t.title,t.tips="object"==typeof t.tips?t.tips:[t.tips,!0],t.tipsMore||l.closeAll("tips")}e.vessel(f,function(n,l,u){c.append(n[0]),f?function(){2==t.type||4==t.type?function(){i("body").append(n[1])}():function(){r.parents("."+s[0])[0]||(r.data("display",r.css("display")).show().addClass("layui-layer-wrap").wrap(n[1]),i("#"+s[0]+a).find("."+s[5]).before(l))}()}():c.append(n[1]),i(".layui-layer-move")[0]||c.append(o.moveElem=u),e.layero=i("#"+s[0]+a),t.scrollbar||s.html.css("overflow","hidden").attr("layer-full",a)}).auto(a),2==t.type&&6==l.ie&&e.layero.find("iframe").attr("src",r[0]),4==t.type?e.tips():e.offset(),t.fixed&&n.on("resize",function(){e.offset(),(/^\d+%$/.test(t.area[0])||/^\d+%$/.test(t.area[1]))&&e.auto(a),4==t.type&&e.tips()}),t.time<=0||setTimeout(function(){l.close(e.index)},t.time),e.move().callback(),s.anim[t.anim]&&e.layero.addClass(s.anim[t.anim])}},r.pt.auto=function(e){function t(e){e=r.find(e),e.height(f[1]-c-u-2*(0|parseFloat(e.css("padding"))))}var a=this,o=a.config,r=i("#"+s[0]+e);""===o.area[0]&&o.maxWidth>0&&(l.ie&&l.ie<8&&o.btn&&r.width(r.innerWidth()),r.outerWidth()>o.maxWidth&&r.width(o.maxWidth));var f=[r.innerWidth(),r.innerHeight()],c=r.find(s[1]).outerHeight()||0,u=r.find("."+s[6]).outerHeight()||0;switch(o.type){case 2:t("iframe");break;default:""===o.area[1]?o.fixed&&f[1]>=n.height()&&(f[1]=n.height(),t("."+s[5])):t("."+s[5])}return a},r.pt.offset=function(){var e=this,t=e.config,i=e.layero,a=[i.outerWidth(),i.outerHeight()],o="object"==typeof t.offset;e.offsetTop=(n.height()-a[1])/2,e.offsetLeft=(n.width()-a[0])/2,o?(e.offsetTop=t.offset[0],e.offsetLeft=t.offset[1]||e.offsetLeft):"auto"!==t.offset&&("t"===t.offset?e.offsetTop=0:"r"===t.offset?e.offsetLeft=n.width()-a[0]:"b"===t.offset?e.offsetTop=n.height()-a[1]:"l"===t.offset?e.offsetLeft=0:"lt"===t.offset?(e.offsetTop=0,e.offsetLeft=0):"lb"===t.offset?(e.offsetTop=n.height()-a[1],e.offsetLeft=0):"rt"===t.offset?(e.offsetTop=0,e.offsetLeft=n.width()-a[0]):"rb"===t.offset?(e.offsetTop=n.height()-a[1],e.offsetLeft=n.width()-a[0]):e.offsetTop=t.offset),t.fixed||(e.offsetTop=/%$/.test(e.offsetTop)?n.height()*parseFloat(e.offsetTop)/100:parseFloat(e.offsetTop),e.offsetLeft=/%$/.test(e.offsetLeft)?n.width()*parseFloat(e.offsetLeft)/100:parseFloat(e.offsetLeft),e.offsetTop+=n.scrollTop(),e.offsetLeft+=n.scrollLeft()),i.attr("minLeft")&&(e.offsetTop=n.height()-(i.find(s[1]).outerHeight()||0),e.offsetLeft=i.css("left")),i.css({top:e.offsetTop,left:e.offsetLeft})},r.pt.tips=function(){var e=this,t=e.config,a=e.layero,o=[a.outerWidth(),a.outerHeight()],l=i(t.follow);l[0]||(l=i("body"));var r={width:l.outerWidth(),height:l.outerHeight(),top:l.offset().top,left:l.offset().left},f=a.find(".layui-layer-TipsG"),c=t.tips[0];t.tips[1]||f.remove(),r.autoLeft=function(){r.left+o[0]-n.width()>0?(r.tipLeft=r.left+r.width-o[0],f.css({right:12,left:"auto"})):r.tipLeft=r.left},r.where=[function(){r.autoLeft(),r.tipTop=r.top-o[1]-10,f.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",t.tips[1])},function(){r.tipLeft=r.left+r.width+10,r.tipTop=r.top,f.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",t.tips[1])},function(){r.autoLeft(),r.tipTop=r.top+r.height+10,f.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",t.tips[1])},function(){r.tipLeft=r.left-o[0]-10,r.tipTop=r.top,f.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",t.tips[1])}],r.where[c-1](),1===c?r.top-(n.scrollTop()+o[1]+16)<0&&r.where[2]():2===c?n.width()-(r.left+r.width+o[0]+16)>0||r.where[3]():3===c?r.top-n.scrollTop()+r.height+o[1]+16-n.height()>0&&r.where[0]():4===c&&o[0]+16-r.left>0&&r.where[1](),a.find("."+s[5]).css({"background-color":t.tips[1],"padding-right":t.closeBtn?"30px":""}),a.css({left:r.tipLeft-(t.fixed?n.scrollLeft():0),top:r.tipTop-(t.fixed?n.scrollTop():0)})},r.pt.move=function(){var e=this,t=e.config,a=i(document),r=e.layero,s=r.find(t.move),f=r.find(".layui-layer-resize"),c={};return t.move&&s.css("cursor","move"),s.on("mousedown",function(e){e.preventDefault(),t.move&&(c.moveStart=!0,c.offset=[e.clientX-parseFloat(r.css("left")),e.clientY-parseFloat(r.css("top"))],o.moveElem.css("cursor","move").show())}),f.on("mousedown",function(e){e.preventDefault(),c.resizeStart=!0,c.offset=[e.clientX,e.clientY],c.area=[r.outerWidth(),r.outerHeight()],o.moveElem.css("cursor","se-resize").show()}),a.on("mousemove",function(i){if(c.moveStart){var a=i.clientX-c.offset[0],o=i.clientY-c.offset[1],s="fixed"===r.css("position");if(i.preventDefault(),c.stX=s?0:n.scrollLeft(),c.stY=s?0:n.scrollTop(),!t.moveOut){var f=n.width()-r.outerWidth()+c.stX,u=n.height()-r.outerHeight()+c.stY;a<c.stX&&(a=c.stX),a>f&&(a=f),o<c.stY&&(o=c.stY),o>u&&(o=u)}r.css({left:a,top:o})}if(t.resize&&c.resizeStart){var a=i.clientX-c.offset[0],o=i.clientY-c.offset[1];i.preventDefault(),l.style(e.index,{width:c.area[0]+a,height:c.area[1]+o}),c.isResize=!0}}).on("mouseup",function(e){c.moveStart&&(delete c.moveStart,o.moveElem.hide(),t.moveEnd&&t.moveEnd()),c.resizeStart&&(delete c.resizeStart,o.moveElem.hide())}),e},r.pt.callback=function(){function e(){!1===(a.cancel&&a.cancel(t.index,n))||l.close(t.index)}var t=this,n=t.layero,a=t.config;t.openLayer(),a.success&&(2==a.type?n.find("iframe").on("load",function(){a.success(n,t.index)}):a.success(n,t.index)),6==l.ie&&t.IE6(n),n.find("."+s[6]).children("a").on("click",function(){var e=i(this).index("a.layer-opt-btn");if(0===e)a.yes?a.yes(t.index,n):a.btn1?a.btn1(t.index,n):l.close(t.index);else{!1===(a["btn"+(e+1)]&&a["btn"+(e+1)](t.index,n))||l.close(t.index)}}),n.find("."+s[7]).on("click",e),a.shadeClose&&i("#layui-layer-shade"+t.index).on("click",function(){l.close(t.index)}),n.find(".layui-layer-min").on("click",function(){!1===(a.min&&a.min(n))||l.min(t.index,a)}),n.find(".layui-layer-max").on("click",function(){i(this).hasClass("layui-layer-maxmin")?(l.restore(t.index),a.restore&&a.restore(n)):(l.full(t.index,a),setTimeout(function(){a.full&&a.full(n)},100))}),a.end&&(o.end[t.index]=a.end)},o.reselect=function(){i.each(i("select"),function(e,t){var n=i(this);n.parents("."+s[0])[0]||1==n.attr("layer")&&i("."+s[0]).length<1&&n.removeAttr("layer").show(),n=null})},r.pt.IE6=function(e){i("select").each(function(e,t){var n=i(this);n.parents("."+s[0])[0]||"none"===n.css("display")||n.attr({layer:"1"}).hide(),n=null})},r.pt.openLayer=function(){var e=this;l.zIndex=e.config.zIndex,l.setTop=function(e){var t=function(){l.zIndex++,e.css("z-index",l.zIndex+1)};return l.zIndex=parseInt(e[0].style.zIndex),e.on("mousedown",t),l.zIndex}},o.record=function(e){var t=[e.width(),e.height(),e.position().top,e.position().left+parseFloat(e.css("margin-left"))];e.find(".layui-layer-max").addClass("layui-layer-maxmin"),e.attr({area:t})},o.rescollbar=function(e){s.html.attr("layer-full")==e&&(s.html[0].style.removeProperty?s.html[0].style.removeProperty("overflow"):s.html[0].style.removeAttribute("overflow"),s.html.removeAttr("layer-full"))},e.layer=l,l.getChildFrame=function(e,t){return t=t||i("."+s[4]).attr("times"),i("#"+s[0]+t).find("iframe").contents().find(e)},l.getFrameIndex=function(e){return i("#"+e).parents("."+s[4]).attr("times")},l.iframeAuto=function(e){if(e){var t=l.getChildFrame("html",e).outerHeight(),n=i("#"+s[0]+e),a=n.find(s[1]).outerHeight()||0,o=n.find("."+s[6]).outerHeight()||0;n.css({height:t+a+o}),n.find("iframe").css({height:t})}},l.iframeSrc=function(e,t){i("#"+s[0]+e).find("iframe").attr("src",t)},l.style=function(e,t,n){var a=i("#"+s[0]+e),l=a.find(".layui-layer-content"),r=a.attr("type"),f=a.find(s[1]).outerHeight()||0,c=a.find("."+s[6]).outerHeight()||0;a.attr("minLeft"),r!==o.type[3]&&r!==o.type[4]&&(n||(parseFloat(t.width)<=260&&(t.width=260),parseFloat(t.height)-f-c<=64&&(t.height=64+f+c)),a.css(t),r===o.type[2]?a.find("iframe").css({height:parseFloat(t.height)-f-c}):l.css({height:parseFloat(t.height)-f-c-parseFloat(l.css("padding-top"))-parseFloat(l.css("padding-bottom"))}))},l.min=function(e,t){var a=i("#"+s[0]+e),r=a.find(s[1]).outerHeight()||0,f=a.attr("minLeft")||181*o.minIndex+"px",c=a.css("position");o.record(a),o.minLeft[0]&&(f=o.minLeft[0],o.minLeft.shift()),a.attr("position",c),l.style(e,{width:180,height:r,left:f,top:n.height()-r,position:"fixed",overflow:"hidden"},!0),a.find(".layui-layer-min").hide(),"page"===a.attr("type")&&a.find(s[4]).hide(),o.rescollbar(e),a.attr("minLeft")||o.minIndex++,a.attr("minLeft",f)},l.restore=function(e){var t=i("#"+s[0]+e),n=t.attr("area").split(",");t.attr("type"),l.style(e,{width:parseFloat(n[0]),height:parseFloat(n[1]),top:parseFloat(n[2]),left:parseFloat(n[3]),position:t.attr("position"),overflow:"visible"}),t.find(".layui-layer-max").removeClass("layui-layer-maxmin"),t.find(".layui-layer-min").show(),"page"===t.attr("type")&&t.find(s[4]).show(),o.rescollbar(e)},l.full=function(e){var t,a=i("#"+s[0]+e);o.record(a),s.html.attr("layer-full")||s.html.css("overflow","hidden").attr("layer-full",e),clearTimeout(t),t=setTimeout(function(){var t="fixed"===a.css("position");l.style(e,{top:t?0:n.scrollTop(),left:t?0:n.scrollLeft(),width:n.width(),height:n.height()}),a.find(".layui-layer-min").hide()},100)},l.title=function(e,t){i("#"+s[0]+(t||l.index)).find(s[1]).html(e)},l.close=function(e){var t=i("#"+s[0]+e),n=t.attr("type");if(t[0]){var a="layui-layer-wrap",r=function(){if(n===o.type[1]&&"object"===t.attr("conType")){t.children(":not(."+s[5]+")").remove();for(var l=t.find("."+a),r=0;r<2;r++)l.unwrap();l.css("display",l.data("display")).removeClass(a)}else{if(n===o.type[2])try{var f=i("#"+s[4]+e)[0];f.contentWindow.document.write(""),f.contentWindow.close(),t.find("."+s[5])[0].removeChild(f)}catch(e){}t[0].innerHTML="",t.remove()}};t.addClass("layer-anim-close"),i("#layui-layer-moves, #layui-layer-shade"+e).remove(),6==l.ie&&o.reselect(),o.rescollbar(e),"function"==typeof o.end[e]&&o.end[e](),delete o.end[e],t.attr("minLeft")&&(o.minIndex--,o.minLeft.push(t.attr("minLeft"))),setTimeout(function(){r()},l.ie&&l.ie<10?0:200)}},l.closeAll=function(e){i.each(i("."+s[0]),function(){var t=i(this),n=e?t.attr("type")===e:1;n&&l.close(t.attr("times")),n=null})};var f=l.cache||{},c=function(e){return f.skin?" "+f.skin+" "+f.skin+"-"+e:""};l.prompt=function(e,t){var a="";if(e=e||{},"function"==typeof e&&(t=e),e.area){var o=e.area;a='style="width: '+o[0]+"; height: "+o[1]+';"',delete e.area}var r,s=2==e.formType?'<textarea class="layui-layer-input"'+a+">"+(e.value||"")+"</textarea>":function(){return'<input type="'+(1==e.formType?"password":"text")+'" class="layui-layer-input" value="'+(e.value||"")+'">'}();return l.open(i.extend({type:1,btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:s,skin:"layui-layer-prompt"+c("prompt"),maxWidth:n.width(),success:function(e){r=e.find(".layui-layer-input"),r.focus()},resize:!1,yes:function(i){var n=r.val();""===n?r.focus():n.length>(e.maxlength||500)?l.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(e.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",r,{tips:1}):t&&t(n,i,r)}},e))},l.tab=function(e){e=e||{};var t=e.tab||{};return l.open(i.extend({type:1,skin:"layui-layer-tab"+c("tab"),resize:!1,title:function(){var e=t.length,i=1,n="";if(e>0)for(n='<span class="layui-layer-tabnow">'+t[0].title+"</span>";i<e;i++)n+="<span>"+t[i].title+"</span>";return n}(),content:'<ul class="layui-layer-tabmain">'+function(){var e=t.length,i=1,n="";if(e>0)for(n='<li class="layui-layer-tabli xubox_tab_layer">'+(t[0].content||"no content")+"</li>";i<e;i++)n+='<li class="layui-layer-tabli">'+(t[i].content||"no  content")+"</li>";return n}()+"</ul>",success:function(t){var n=t.find(".layui-layer-title").children(),a=t.find(".layui-layer-tabmain").children();n.on("mousedown",function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0;var n=i(this),o=n.index();n.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow"),a.eq(o).show().siblings().hide(),"function"==typeof e.change&&e.change(o)})}},e))},l.photos=function(t,n,a){var o={};if(t=t||{},t.photos){var r=t.photos.constructor===Object,s=r?t.photos:{},f=s.data||[],u=s.start||0;if(o.imgIndex=1+(0|u),t.img=t.img||"img",r){if(0===f.length)return l.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}else{var d=i(t.photos),p=function(){f=[],d.find(t.img).each(function(e){var t=i(this);t.attr("layer-index",e),f.push({alt:t.attr("alt"),pid:t.attr("layer-pid"),src:t.attr("layer-src")||t.attr("src"),thumb:t.attr("src")})})};if(p(),0===f.length)return;if(n||d.on("click",t.img,function(){var e=i(this),n=e.attr("layer-index");l.photos(i.extend(t,{photos:{start:n,data:f,tab:t.tab},full:t.full}),!0),p()}),!n)return}o.imgprev=function(e){o.imgIndex--,o.imgIndex<1&&(o.imgIndex=f.length),o.tabimg(e)},o.imgnext=function(e,t){++o.imgIndex>f.length&&(o.imgIndex=1,t)||o.tabimg(e)},o.keyup=function(e){if(!o.end){var t=e.keyCode;e.preventDefault(),37===t?o.imgprev(!0):39===t?o.imgnext(!0):27===t&&l.close(o.index)}},o.tabimg=function(e){f.length<=1||(s.start=o.imgIndex-1,l.close(o.index),l.photos(t,!0,e))},o.event=function(){o.bigimg.hover(function(){o.imgsee.show()},function(){o.imgsee.hide()}),o.bigimg.find(".layui-layer-imgprev").on("click",function(e){e.preventDefault(),o.imgprev()}),o.bigimg.find(".layui-layer-imgnext").on("click",function(e){e.preventDefault(),o.imgnext()}),i(document).on("keyup",o.keyup)},o.loadi=l.load(1,{shade:!("shade"in t)&&.9,scrollbar:!1}),function(e,t,i){var n=new Image;return n.src=e,n.complete?t(n):(n.onload=function(){n.onload=null,t(n)},void(n.onerror=function(e){n.onerror=null,i(e)}))}(f[u].src,function(n){l.close(o.loadi),o.index=l.open(i.extend({type:1,area:function(){var a=[n.width,n.height],o=[i(e).width()-100,i(e).height()-100];if(!t.full&&(a[0]>o[0]||a[1]>o[1])){var l=[a[0]/o[0],a[1]/o[1]];l[0]>l[1]?(a[0]=a[0]/l[0],a[1]=a[1]/l[0]):l[0]<l[1]&&(a[0]=a[0]/l[1],a[1]=a[1]/l[1])}return[a[0]+"px",a[1]+"px"]}(),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,anim:5*Math.random()|0,skin:"layui-layer-photos"+c("photos"),content:'<div class="layui-layer-phimg"><img src="'+f[u].src+'" alt="'+(f[u].alt||"")+'" layer-pid="'+f[u].pid+'"><div class="layui-layer-imgsee">'+(f.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(a?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(f[u].alt||"")+"</a><em>"+o.imgIndex+"/"+f.length+"</em></span></div></div></div>",success:function(e,i){o.bigimg=e.find(".layui-layer-phimg"),o.imgsee=e.find(".layui-layer-imguide,.layui-layer-imgbar"),o.event(e),t.tab&&t.tab(f[u],e)},checkAjaxRequest:function(){},end:function(){o.end=!0,i(document).off("keyup",o.keyup)}},t))},function(){l.close(o.loadi),l.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){f.length>1&&o.imgnext(!0,!0)}})})}},o.run=function(t){i=t,n=i(e),s.html=i("html"),l.open=function(e){return new r(e).index}},e.layui&&layui.define?(l.ready(),layui.define("jquery",function(t){l.path=layui.cache.dir,o.run(layui.jquery),e.layer=l,t("layer",l)})):"function"==typeof define?define(["jquery"],function(){return o.run(e.jQuery),l}):function(){o.run(e.jQuery),l.ready()}()}(window);
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,l=s.call(arguments,1),c=0,u=0,h=0,f=0,m=0,p=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(h=-1*r.detail),"wheelDelta"in r&&(h=r.wheelDelta),"wheelDeltaY"in r&&(h=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in r&&(h=-1*r.deltaY,c=h),"deltaX"in r&&(u=r.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(f=Math.max(Math.abs(h),Math.abs(u)),(!i||i>f)&&(i=f,n(r,f)&&(i/=40)),n(r,f)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/i),u=Math[u>=1?"floor":"ceil"](u/i),h=Math[h>=1?"floor":"ceil"](h/i),d.settings.normalizeOffset&&this.getBoundingClientRect){var x=this.getBoundingClientRect();m=t.clientX-x.left,p=t.clientY-x.top}return t.deltaX=u,t.deltaY=h,t.deltaFactor=i,t.offsetX=m,t.offsetY=p,t.deltaMode=0,l.unshift(t,c,u,h),a&&clearTimeout(a),a=setTimeout(o,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function o(){i=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var a,i,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var o=l.length;o;)this.addEventListener(l[--o],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var o=l.length;o;)this.removeEventListener(l[--o],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var o=e(t),n=o["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(o.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,l=s.call(arguments,1),c=0,u=0,h=0,f=0,m=0,p=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(h=-1*r.detail),"wheelDelta"in r&&(h=r.wheelDelta),"wheelDeltaY"in r&&(h=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in r&&(h=-1*r.deltaY,c=h),"deltaX"in r&&(u=r.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(f=Math.max(Math.abs(h),Math.abs(u)),(!i||i>f)&&(i=f,n(r,f)&&(i/=40)),n(r,f)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/i),u=Math[u>=1?"floor":"ceil"](u/i),h=Math[h>=1?"floor":"ceil"](h/i),d.settings.normalizeOffset&&this.getBoundingClientRect){var x=this.getBoundingClientRect();m=t.clientX-x.left,p=t.clientY-x.top}return t.deltaX=u,t.deltaY=h,t.deltaFactor=i,t.offsetX=m,t.offsetY=p,t.deltaMode=0,l.unshift(t,c,u,h),a&&clearTimeout(a),a=setTimeout(o,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function o(){i=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var a,i,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var o=l.length;o;)this.addEventListener(l[--o],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var o=l.length;o;)this.removeEventListener(l[--o],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var o=e(t),n=o["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(o.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,n="undefined"!=typeof module&&module.exports,a="https:"==document.location.protocol?"https:":"http:";o||(n?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+a+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),function(){var t,o="mCustomScrollbar",n="mCS",a=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},i,t),o=h.call(this);if(t.live){var s=t.liveSelector||this.selector||a,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),f(t),e(o).each(function(){var o=e(this);if(!o.data(n)){o.data(n,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var a=o.data(n),i=a.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,f(i)),v.call(this),a&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e("#mCSB_"+a.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var a=t||h.call(this);return e(a).each(function(){var t=e(this);if(t.data(n)){var a=t.data(n),i=a.opt,r=e("#mCSB_"+a.idx+"_container"),l=e("#mCSB_"+a.idx),s=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];if(!r.length)return;a.tweenRunning&&Q(t),o&&a&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css("max-height","none"),l.height()!==t.height()&&l.css("max-height",t.height()),w.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r)),a.overflowed=y.call(this),k.call(this),i.autoDraggerLength&&S.call(this),b.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(a.overflowed[0]?s[0].height()>s[0].parent().height()?B.call(this):(Z(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),a.contentReset.y=null):(B.call(this),"y"===i.axis?M.call(this):"yx"===i.axis&&a.overflowed[1]&&Z(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(a.overflowed[1]?s[1].width()>s[1].parent().width()?B.call(this):(Z(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),a.contentReset.x=null):(B.call(this),"x"===i.axis?M.call(this):"yx"===i.axis&&a.overflowed[0]&&Z(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&a&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),N.call(this)}})},scrollTo:function(t,o){if(void 0!==t&&null!=t){var a=h.call(this);return e(a).each(function(){var a=e(this);if(a.data(n)){var i=a.data(n),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=F.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=q.call(this,c[0],"y"),c[1]=q.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=ae()?0:d,setTimeout(function(){null!==c[0]&&void 0!==c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",Z(a,c[0].toString(),s)),null!==c[1]&&void 0!==c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",Z(a,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=h.call(this);return e(t).each(function(){var t=e(this);t.data(n)&&Q(t)})},disable:function(t){var o=h.call(this);return e(o).each(function(){var o=e(this);o.data(n)&&(o.data(n),N.call(this,"remove"),M.call(this),t&&B.call(this),k.call(this,!0),o.addClass(d[3]))})},destroy:function(){var t=h.call(this);return e(t).each(function(){var a=e(this);if(a.data(n)){var i=a.data(n),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector),N.call(this,"remove"),M.call(this),B.call(this),a.removeData(n),$(this,"mcs"),c.remove(),s.find("img."+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),a.removeClass(o+" _"+n+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},h=function(){return"object"!=typeof e(this)||e(this).length<1?a:this},f=function(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],n=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],a=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=!(e.inArray(t.theme,o)>-1)&&t.autoDraggerLength,t.autoExpandScrollbar=!(e.inArray(t.theme,n)>-1)&&t.autoExpandScrollbar,t.scrollButtons.enable=!(e.inArray(t.theme,a)>-1)&&t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1||t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),$(l,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),a=t.data(n),i=a.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+a.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+a.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+a.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+a.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+a.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",h=i.autoHideScrollbar?" "+d[6]:"",f="x"!==i.axis&&"rtl"===a.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===a.langDir?"989999px":i.setLeft,t.addClass(o+" _"+n+"_"+a.idx+h+f).wrapInner("<div id='mCSB_"+a.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+a.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir='"+a.langDir+"' /></div>");var m=e("#mCSB_"+a.idx),p=e("#mCSB_"+a.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u)),_.call(this);var g=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],n=t.parent().width();return o[0]>n?o[0]:o[1]>n?o[1]:"100%"},w=function(){var t=e(this),o=t.data(n),a=o.opt,i=e("#mCSB_"+o.idx+"_container");if(a.advanced.autoExpandHorizontalScroll&&"y"!==a.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(i[0].scrollWidth);3===a.advanced.autoExpandHorizontalScroll||2!==a.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},_=function(){var t=e(this),o=t.data(n),a=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=oe(a.scrollButtons.tabindex)?"tabindex='"+a.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' "+r+" />","<a href='#' class='"+d[14]+"' "+r+" />","<a href='#' class='"+d[15]+"' "+r+" />","<a href='#' class='"+d[16]+"' "+r+" />"],s=["x"===a.axis?l[2]:l[0],"x"===a.axis?l[3]:l[1],l[2],l[3]];a.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(n),a=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[a.height()/i.outerHeight(!1),a.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},b=function(){var t=e(this),o=t.data(n),a=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-a.height(),i.outerWidth(!1)-a.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},C=function(e,t,o){var n=o?d[0]+"_expanded":"",a=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+n),a.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),a.removeClass(d[1])):(e.addClass(d[0]),a.addClass(d[1])))},y=function(){var t=e(this),o=t.data(n),a=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>a.height(),l>a.width()]},B=function(){var t=e(this),o=t.data(n),a=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(Q(t),("x"!==a.axis&&!o.overflowed[0]||"y"===a.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),Z(t,"_resetY")),"y"!==a.axis&&!o.overflowed[1]||"x"===a.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),Z(t,"_resetX")}},T=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),L.call(o[0])):t()},100)}var o=e(this),a=o.data(n),i=a.opt;if(!a.bindEvents){if(O.call(this),i.contentTouchScroll&&I.call(this),E.call(this),i.mouseWheel.enable){var r;t()}H.call(this),X.call(this),i.advanced.autoScrollOnFocus&&P.call(this),i.scrollButtons.enable&&Y.call(this),i.keyboard.enable&&j.call(this),a.bindEvents=!0}},M=function(){var t=e(this),o=t.data(n),a=o.opt,i=n+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");a.advanced.releaseDraggableSelectors&&l.add(e(a.advanced.releaseDraggableSelectors)),a.advanced.extraDraggableSelectors&&l.add(e(a.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!A()||top.document)).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),$(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),$(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),$(s[0],"onCompleteTimeout"),o.bindEvents=!1)},k=function(t){var o=e(this),a=o.data(n),i=a.opt,r=e("#mCSB_"+a.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+a.idx+"_container"),s=[e("#mCSB_"+a.idx+"_scrollbar_vertical"),e("#mCSB_"+a.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(a.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8]))),"y"!==i.axis&&(a.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9]))),a.overflowed[0]||a.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},D=function(t){var o=t.type,n=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,a=A()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return n?[t.originalEvent.pageY-n[0]+a[0],t.originalEvent.pageX-n[1]+a[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return n?[t.pageY-n[0]+a[0],t.pageX-n[1]+a[1],!1]:[t.pageY,t.pageX,!1]}},O=function(){function t(e,t,n,a){if(f[0].idleTimer=d.scrollInertia<233?250:0,o.attr("id")===h[1])var i="x",s=(o[0].offsetLeft-t+a)*l.scrollRatio.x;else var i="y",s=(o[0].offsetTop-e+n)*l.scrollRatio.y;Z(r,s.toString(),{dir:i,drag:!0})}var o,a,i,r=e(this),l=r.data(n),d=l.opt,u=n+"_"+l.idx,h=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],f=e("#mCSB_"+l.idx+"_container"),m=e("#"+h[0]+",#"+h[1]),p=d.advanced.releaseDraggableSelectors?m.add(e(d.advanced.releaseDraggableSelectors)):m,g=d.advanced.extraDraggableSelectors?e(!A()||top.document).add(e(d.advanced.extraDraggableSelectors)):e(!A()||top.document);m.bind("contextmenu."+u,function(e){e.preventDefault()}).bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),ee(t)){c=!0,s&&(document.onselectstart=function(){return!1}),W.call(f,!1),Q(r),o=e(this);var n=o.offset(),l=D(t)[0]-n.top,u=D(t)[1]-n.left,h=o.height()+n.top,m=o.width()+n.left;h>l&&l>0&&m>u&&u>0&&(a=l,i=u),C(o,"active",d.autoExpandScrollbar)}}).bind("touchmove."+u,function(e){e.stopImmediatePropagation(),e.preventDefault();var n=o.offset(),r=D(e)[0]-n.top,l=D(e)[1]-n.left;t(a,i,r,l)}),e(document).add(g).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,function(e){if(o){var n=o.offset(),r=D(e)[0]-n.top,l=D(e)[1]-n.left;if(a===r&&i===l)return;t(a,i,r,l)}}).add(p).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(){o&&(C(o,"active",d.autoExpandScrollbar),o=null),c=!1,s&&(document.onselectstart=null),W.call(f,!0)})},I=function(){function o(e){if(!te(e)||c||D(e)[2])return void(t=0);t=1,b=0,C=0,d=1,y.removeClass("mCS_touch_action");var o=O.offset();u=D(e)[0]-o.top,h=D(e)[1]-o.left,z=[D(e)[0],D(e)[1]]}function a(e){if(te(e)&&!c&&!D(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||b)&&d)){g=J();var t=k.offset(),o=D(e)[0]-t.top,n=D(e)[1]-t.left,a="mcsLinearOut";if(E.push(o),L.push(n),z[2]=Math.abs(D(e)[0]-z[0]),z[3]=Math.abs(D(e)[1]-z[1]),B.overflowed[0])var i=I[0].parent().height()-I[0].height(),r=u-o>0&&o-u>-i*B.scrollRatio.y&&(2*z[3]<z[2]||"yx"===T.axis);if(B.overflowed[1])var l=I[1].parent().width()-I[1].width(),f=h-n>0&&n-h>-l*B.scrollRatio.x&&(2*z[2]<z[3]||"yx"===T.axis);r||f?(X||e.preventDefault(),b=1):(C=1,y.addClass("mCS_touch_action")),X&&e.preventDefault(),_="yx"===T.axis?[u-o,h-n]:"x"===T.axis?[null,h-n]:[u-o,null],O[0].idleTimer=250,B.overflowed[0]&&s(_[0],R,a,"y","all",!0),B.overflowed[1]&&s(_[1],R,a,"x",W,!0)}}function i(e){if(!te(e)||c||D(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),Q(y),p=J();var o=k.offset();f=D(e)[0]-o.top,m=D(e)[1]-o.left,E=[],L=[]}function r(e){if(te(e)&&!c&&!D(e)[2]){d=0,e.stopImmediatePropagation(),b=0,C=0,v=J();var t=k.offset(),o=D(e)[0]-t.top,n=D(e)[1]-t.left;if(!(v-g>30)){w=1e3/(v-p);var a="mcsEaseOut",i=2.5>w,r=i?[E[E.length-2],L[L.length-2]]:[0,0];x=i?[o-r[0],n-r[1]]:[o-f,n-m];var u=[Math.abs(x[0]),Math.abs(x[1])];w=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[w,w];var h=[Math.abs(O[0].offsetTop)-x[0]*l(u[0]/w[0],w[0]),Math.abs(O[0].offsetLeft)-x[1]*l(u[1]/w[1],w[1])];_="yx"===T.axis?[h[0],h[1]]:"x"===T.axis?[null,h[1]]:[h[0],null],S=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var y=parseInt(T.contentTouchScroll)||0;_[0]=u[0]>y?_[0]:0,_[1]=u[1]>y?_[1]:0,B.overflowed[0]&&s(_[0],S[0],a,"y",W,!1),B.overflowed[1]&&s(_[1],S[1],a,"x",W,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,n,a,i){e&&Z(y,e.toString(),{dur:t,scrollEasing:o,dir:n,overwrite:a,drag:i})}var d,u,h,f,m,p,g,v,x,w,_,S,b,C,y=e(this),B=y.data(n),T=B.opt,M=n+"_"+B.idx,k=e("#mCSB_"+B.idx),O=e("#mCSB_"+B.idx+"_container"),I=[e("#mCSB_"+B.idx+"_dragger_vertical"),e("#mCSB_"+B.idx+"_dragger_horizontal")],E=[],L=[],R=0,W="yx"===T.axis?"none":"all",z=[],H=O.find("iframe"),P=["touchstart."+M+" pointerdown."+M+" MSPointerDown."+M,"touchmove."+M+" pointermove."+M+" MSPointerMove."+M,"touchend."+M+" pointerup."+M+" MSPointerUp."+M],X=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;O.bind(P[0],function(e){o(e)}).bind(P[1],function(e){a(e)}),k.bind(P[0],function(e){i(e)}).bind(P[2],function(e){r(e)}),H.length&&H.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(P[0],function(e){o(e),i(e)}).bind(P[1],function(e){a(e)}).bind(P[2],function(e){r(e)})})})},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function a(e,t,o){d.type=o&&i?"stepped":"stepless",d.scrollAmount=10,U(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(n),s=l.opt,d=l.sequential,u=n+"_"+l.idx,h=e("#mCSB_"+l.idx+"_container"),f=h.parent();h.bind("mousedown."+u,function(){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var n=h.offset(),r=D(e)[0]-n.top+h[0].offsetTop,c=D(e)[1]-n.left+h[0].offsetLeft;r>0&&r<f.height()&&c>0&&c<f.width()?d.step&&a("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?a("on",38):r>f.height()&&a("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?a("on",37):c>f.width()&&a("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(){t||(i&&(i=0,a("off",null)),c=!1)})},L=function(){function t(t,n){if(Q(o),!z(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if("x"===i.axis||"x"===i.mouseWheel.axis)var u="x",h=[Math.round(r*a.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],f="auto"!==i.mouseWheel.scrollAmount?h[1]:h[0]>=l.width()?.9*l.width():h[0],m=Math.abs(e("#mCSB_"+a.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===i.mouseWheel.axis?t.deltaY||n:t.deltaX;else var u="y",h=[Math.round(r*a.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],f="auto"!==i.mouseWheel.scrollAmount?h[1]:h[0]>=l.height()?.9*l.height():h[0],m=Math.abs(e("#mCSB_"+a.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||n;"y"===u&&!a.overflowed[0]||"x"===u&&!a.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==p||0>v&&p!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(f=t.deltaFactor,d=17),Z(o,(m-v*f).toString(),{dir:u,dur:d}))}}if(e(this).data(n)){var o=e(this),a=o.data(n),i=a.opt,r=n+"_"+a.idx,l=e("#mCSB_"+a.idx),c=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")],d=e("#mCSB_"+a.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})}),l.bind("mousewheel."+r,function(e,o){t(e,o)})}},R=new Object,A=function(t){var o=!1,n=!1,a=null;if(void 0===t?n="#empty":void 0!==e(t).attr("id")&&(n=e(t).attr("id")),!1!==n&&void 0!==R[n])return R[n];if(t){try{var i=t.contentDocument||t.contentWindow.document;a=i.body.innerHTML}catch(e){}o=null!==a}else{try{var i=top.document;a=i.body.innerHTML}catch(e){}o=null!==a}return!1!==n&&(R[n]=o),o},W=function(e){var t=this.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}},z=function(t,o){var a=o.nodeName.toLowerCase(),i=t.data(n).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(a,i)>-1&&!(e.inArray(a,r)>-1&&!e(o).is(":focus"))},H=function(){var t,o=e(this),a=o.data(n),i=n+"_"+a.idx,r=e("#mCSB_"+a.idx+"_container"),l=r.parent();e(".mCSB_"+a.idx+"_scrollbar ."+d[12]).bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(o){c=!0,e(o.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(){c=!1}).bind("click."+i,function(n){if(t&&(t=0,e(n.target).hasClass(d[12])||e(n.target).hasClass("mCSB_draggerRail"))){Q(o);var i=e(this),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!a.overflowed[1])return;var c="x",u=n.pageX>s.offset().left?-1:1,h=Math.abs(r[0].offsetLeft)-u*(.9*l.width())}else{if(!a.overflowed[0])return;var c="y",u=n.pageY>s.offset().top?-1:1,h=Math.abs(r[0].offsetTop)-u*(.9*l.height())}Z(o,h.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},P=function(){var t=e(this),o=t.data(n),a=o.opt,i=n+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(){var o=e(document.activeElement),n=r.find(".mCustomScrollBox").length;o.is(a.advanced.autoScrollOnFocus)&&(Q(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=n?17*n:0,t[0]._focusTimeout=setTimeout(function(){var e=[ne(o)[0],ne(o)[1]],n=[r[0].offsetTop,r[0].offsetLeft],i=[n[0]+e[0]>=0&&n[0]+e[0]<l.height()-o.outerHeight(!1),n[1]+e[1]>=0&&n[0]+e[1]<l.width()-o.outerWidth(!1)],s="yx"!==a.axis||i[0]||i[1]?"all":"none";"x"===a.axis||i[0]||Z(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:s,dur:0}),"y"===a.axis||i[1]||Z(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:s,dur:0})},t[0]._focusTimer))})},X=function(){var t=e(this),o=t.data(n),a=n+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+a,function(){0===i.scrollTop()&&0===i.scrollLeft()||e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},Y=function(){var t=e(this),o=t.data(n),a=o.opt,i=o.sequential,r=n+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar";e(l+">a").bind("contextmenu."+r,function(e){e.preventDefault()}).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(n){function r(e,o){i.scrollAmount=a.scrollButtons.scrollAmount,U(t,e,o)}if(n.preventDefault(),ee(n)){var l=e(this).attr("class");switch(i.type=a.scrollButtons.scrollType,n.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,o.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},j=function(){function t(t){function n(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,"stepped"===r.type&&a.tweenRunning||U(o,e,t)}switch(t.type){case"blur":a.tweenRunning&&r.dir&&n("off",null);break;case"keydown":case"keyup":
var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!a.overflowed[0]||(37===l||39===l)&&!a.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),n(s,l))}else if(33===l||34===l){if((a.overflowed[0]||a.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){Q(o);var h=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&a.overflowed[1]&&!a.overflowed[0])var f="x",m=Math.abs(c[0].offsetLeft)-h*(.9*d.width());else var f="y",m=Math.abs(c[0].offsetTop)-h*(.9*d.height());Z(o,m.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((a.overflowed[0]||a.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&a.overflowed[1]&&!a.overflowed[0])var f="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var f="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;Z(o,m.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),a=o.data(n),i=a.opt,r=a.sequential,l=n+"_"+a.idx,s=e("#mCSB_"+a.idx),c=e("#mCSB_"+a.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",h=c.find("iframe"),f=["blur."+l+" keydown."+l+" keyup."+l];h.length&&h.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(f[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(f[0],function(e){t(e)})},U=function(t,o,a,i,r){function l(e){c.snapAmount&&(u.scrollAmount=c.snapAmount instanceof Array?"x"===u.dir[0]?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount);var o="stepped"!==u.type,n=r||(e?o?m/1.5:p:1e3/60),a=e?o?7.5:40:2.5,d=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],f=[s.scrollRatio.y>10?10:s.scrollRatio.y,s.scrollRatio.x>10?10:s.scrollRatio.x],g="x"===u.dir[0]?d[1]+u.dir[1]*(f[1]*a):d[0]+u.dir[1]*(f[0]*a),v="x"===u.dir[0]?d[1]+u.dir[1]*parseInt(u.scrollAmount):d[0]+u.dir[1]*parseInt(u.scrollAmount),x="auto"!==u.scrollAmount?v:g,w=i||(e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),_=!!e;return e&&17>n&&(x="x"===u.dir[0]?d[1]:d[0]),Z(t,x.toString(),{dir:u.dir[0],scrollEasing:w,dur:n,onComplete:_}),e?void(u.dir=!1):(clearTimeout(u.step),void(u.step=setTimeout(function(){l()},n)))}var s=t.data(n),c=s.opt,u=s.sequential,h=e("#mCSB_"+s.idx+"_container"),f="stepped"===u.type,m=c.scrollInertia<26?26:c.scrollInertia,p=c.scrollInertia<1?17:c.scrollInertia;switch(o){case"on":if(u.dir=[a===d[16]||a===d[15]||39===a||37===a?"x":"y",a===d[13]||a===d[15]||38===a||37===a?-1:1],Q(t),oe(a)&&"stepped"===u.type)return;l(f);break;case"off":(function(){clearTimeout(u.step),$(u,"step"),Q(t)})(),(f||s.tweenRunning&&u.dir)&&l(!0)}},F=function(t){var o=e(this).data(n).opt,a=[];return"function"==typeof t&&(t=t()),t instanceof Array?a=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(a[0]=t.y?t.y:t.x||"x"===o.axis?null:t,a[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof a[0]&&(a[0]=a[0]()),"function"==typeof a[1]&&(a[1]=a[1]()),a},q=function(t,o){if(null!=t&&void 0!==t){var a=e(this),i=a.data(n),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1)-s.width():l.outerHeight(!1)-s.height(),h="x"===o?l[0].offsetLeft:l[0].offsetTop,f="x"===o?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===o?ne(m)[1]:ne(m)[0];case"string":case"number":if(oe(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(h-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=h+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&oe(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?ne(m)[1]:ne(m)[0]}return e(t).length?"x"===o?ne(e(t))[1]:ne(e(t))[0]:(l.css(f,t),void u.update.call(null,a[0]))}}},N=function(t){function o(){return clearTimeout(h[0].autoUpdate),0===l.parents("html").length?void(l=null):void(h[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+h[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(s.poll.img.n=h.find("img").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void h.find("img").each(function(){a(this)}))},c.advanced.autoUpdateTimeout))}function a(t){function o(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var n=new Image;n.onload=function(e,t){return function(){return t.apply(e,arguments)}}(n,o),n.src=t.src}function i(){!0===c.advanced.updateOnSelectorChange&&(c.advanced.updateOnSelectorChange="*");var e=0,t=h.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(h[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(n),c=s.opt,h=e("#mCSB_"+s.idx+"_container");return t?(clearTimeout(h[0].autoUpdate),void $(h[0],"autoUpdate")):void o()},V=function(e,t,o){return Math.round(e/t)*t-o},Q=function(t){var o=t.data(n);e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal").each(function(){K.call(this)})},Z=function(t,o,a){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||_>=S[0]+y,c.callbacks.alwaysTriggerOffsets||-B>=_]}function l(){var e=[f[0].offsetTop,f[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],n=[f.outerHeight(!1),f.outerWidth(!1)],i=[h.height(),h.width()];t[0].mcs={content:f,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(n[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(n[1])-i[1])),direction:a.dir}}var s=t.data(n),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},a=e.extend(d,a),u=[a.dur,a.drag?0:a.dur],h=e("#mCSB_"+s.idx),f=e("#mCSB_"+s.idx+"_container"),m=f.parent(),p=c.callbacks.onTotalScrollOffset?F.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?F.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=a.trigger,0===m.scrollTop()&&0===m.scrollLeft()||(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===a.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=V(o,v,c.snapOffset)}switch(a.dir){case"x":var x=e("#mCSB_"+s.idx+"_dragger_horizontal"),w="left",_=f[0].offsetLeft,S=[h.width()-f.outerWidth(!1),x.parent().width()-x.width()],b=[o,0===o?0:o/s.scrollRatio.x],y=p[1],B=g[1],T=y>0?y/s.scrollRatio.x:0,M=B>0?B/s.scrollRatio.x:0;break;case"y":var x=e("#mCSB_"+s.idx+"_dragger_vertical"),w="top",_=f[0].offsetTop,S=[h.height()-f.outerHeight(!1),x.parent().height()-x.height()],b=[o,0===o?0:o/s.scrollRatio.y],y=p[0],B=g[0],T=y>0?y/s.scrollRatio.y:0,M=B>0?B/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(f[0].onCompleteTimeout),G(x[0],w,Math.round(b[1]),u[1],a.scrollEasing),!s.tweenRunning&&(0===_&&b[0]>=0||_===S[0]&&b[0]<=S[0])||G(f[0],w,Math.round(b[0]),u[0],a.scrollEasing,a.overwrite,{onStart:function(){a.callbacks&&a.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(x),s.cbOffsets=r())},onUpdate:function(){a.callbacks&&a.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(a.callbacks&&a.onComplete){"yx"===c.axis&&clearTimeout(f[0].onCompleteTimeout);var e=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&b[1]>=S[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b[1]<=M&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,f[0].idleTimer=0,C(x,"hide")},e)}}})}},G=function(e,t,o,n,a,i,r){function l(){w.stop||(g||h.call(),g=J()-p,s(),g>=w.time&&(w.time=g>w.time?g+d-(g-w.time):g+d-1,w.time<g+1&&(w.time=g+1)),w.time<n?w.id=u(l):m.call())}function s(){n>0?(w.currVal=c(w.time,v,_,n,a),x[t]=Math.round(w.currVal)+"px"):x[t]=o+"px",f.call()}function c(e,t,o,n,a){switch(a){case"linear":case"mcsLinear":return o*e/n+t;case"mcsLinearOut":return e/=n,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=n/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=n/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return e/=n/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=n,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(1-Math.pow(2,-10*e/n))+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=n)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var d,u,r=r||{},h=r.onStart||function(){},f=r.onUpdate||function(){},m=r.onComplete||function(){},p=J(),g=0,v=e.offsetTop,x=e.style,w=e._mTween[t];"left"===t&&(v=e.offsetLeft);var _=o-v;w.stop=0,"none"!==i&&function(){null!=w.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(w.id):clearTimeout(w.id),w.id=null)}(),function(){d=1e3/60,w.time=g+d,u=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},w.id=u(l)}()},J=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},K=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var n=t[o];e._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[n].id):clearTimeout(e._mTween[n].id),e._mTween[n].id=null,e._mTween[n].stop=1)}},$=function(e,t){try{delete e[t]}catch(o){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},oe=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ne=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ae=function(){var e=function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}();return!!e&&document[e]};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).bind("load",function(){e(a)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,n,a=e(t),i=a.parents(".mCSB_container");if(i.length)return o=i.parent(),n=[i[0].offsetTop,i[0].offsetLeft],n[0]+ne(a)[0]>=0&&n[0]+ne(a)[0]<o.height()-a.outerHeight(!1)&&n[1]+ne(a)[1]>=0&&n[1]+ne(a)[1]<o.width()-a.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,o,n){var a,i,r,l,s=e(t),c=s.parents(".mCSB_container"),d="exact"===n[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return a=[s.outerHeight(!1),s.outerWidth(!1)],r=[c[0].offsetTop+ne(s)[0],c[0].offsetLeft+ne(s)[1]],i=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],l=[a[0]<i[0]?d[0]:d[1],a[1]<i[1]?d[0]:d[1]],r[0]-i[0]*l[0][0]<0&&r[0]+a[0]-i[0]*l[0][1]>=0&&r[1]-i[1]*l[1][0]<0&&r[1]+a[1]-i[1]*l[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(n);if(o)return o.overflowed[0]||o.overflowed[1]}})})}()}()});
!function(i){"function"==typeof define&&define.amd?define("viewer",["jquery"],i):i("object"==typeof exports?require("jquery"):jQuery)}(function(i){"use strict";function e(i){return"string"==typeof i}function t(i){return"number"==typeof i&&!isNaN(i)}function s(i){return void 0===i}function n(i,e){var s=[];return t(e)&&s.push(e),s.slice.apply(i,s)}function o(i,e){var t=n(arguments,2);return function(){return i.apply(e,t.concat(n(arguments)))}}function a(i){var e=[],s=i.rotate,n=i.scaleX,o=i.scaleY;return t(s)&&e.push("rotate("+s+"deg)"),t(n)&&t(o)&&e.push("scale("+n+","+o+")"),e.length?e.join(" "):"none"}function h(i){return i.offsetWidth}function r(i){return e(i)?i.replace(/^.*\//,"").replace(/[\?&#].*$/,""):""}function l(i,e){var t;if(i.naturalWidth)return e(i.naturalWidth,i.naturalHeight);t=document.createElement("img"),t.onload=function(){e(this.width,this.height)},t.src=i.src}function d(e){var t=e.length,s=0,n=0;return t&&(i.each(e,function(i,e){s+=e.pageX,n+=e.pageY}),s/=t,n/=t),{pageX:s,pageY:n}}function c(i){switch(i){case 2:return f;case 3:return g;case 4:return p}}function u(e,t){this.$element=i(e),this.options=i.extend({},u.DEFAULTS,i.isPlainObject(t)&&t),this.isImg=!1,this.isBuilt=!1,this.isShown=!1,this.isViewed=!1,this.isFulled=!1,this.isPlayed=!1,this.wheeling=!1,this.playing=!1,this.fading=!1,this.tooltiping=!1,this.transitioning=!1,this.action=!1,this.target=!1,this.timeout=!1,this.index=0,this.length=0,this.init()}var v=i(window),w=i(document),m=document.createElement("viewer"),f="viewer-hide-xs-down",g="viewer-hide-sm-down",p="viewer-hide-md-down",b="viewer-in",y="viewer-transition",x="mousedown touchstart pointerdown MSPointerDown",$="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",C=void 0!==m.style.transition,z=Math.round,F=Math.sqrt,k=Math.abs,Y=Math.min,I=Math.max,X=Number;u.prototype={constructor:u,init:function(){var e=this.options,t=this.$element,s=t.is("img"),n=s?t:t.find("img"),o=n.length,a=i.proxy(this.ready,this);o&&(i.isFunction(e.build)&&t.one("build.viewer",e.build),this.trigger("build.viewer").isDefaultPrevented()||(C||(e.transition=!1),this.isImg=s,this.length=o,this.count=0,this.$images=n,this.$body=i("body"),e.inline?(t.one("built.viewer",i.proxy(function(){this.view()},this)),n.each(function(){this.complete?a():i(this).one("load.viewer",a)})):t.on("click.viewer",i.proxy(this.start,this))))},ready:function(){++this.count===this.length&&this.build()},build:function(){var e,t,s,n,o,a,h=this.options,r=this.$element;this.isBuilt||(this.$parent=e=r.parent(),this.$viewer=t=i(u.TEMPLATE),this.$canvas=t.find(".viewer-canvas"),this.$footer=t.find(".viewer-footer"),this.$title=s=t.find(".viewer-title"),this.$toolbar=n=t.find(".viewer-toolbar"),this.$navbar=o=t.find(".viewer-navbar"),this.$button=a=t.find(".viewer-button"),this.$tooltip=t.find(".viewer-tooltip"),this.$player=t.find(".viewer-player"),this.$list=t.find(".viewer-list"),s.addClass(h.title?c(h.title):"viewer-hide"),n.addClass(h.toolbar?c(h.toolbar):"viewer-hide"),n.find("li[class*=zoom]").toggleClass("viewer-invisible",!h.zoomable),n.find("li[class*=flip]").toggleClass("viewer-invisible",!h.scalable),h.rotatable||n.find("li[class*=rotate]").addClass("viewer-invisible").appendTo(n),o.addClass(h.navbar?c(h.navbar):"viewer-hide"),a.toggleClass("viewer-hide",!h.button),h.inline?(a.addClass("viewer-fullscreen"),t.css("z-index",h.zIndexInline),"static"===e.css("position")&&e.css("position","relative")):(a.addClass("viewer-close iconfont icon-wrong"),t.css("z-index",h.zIndex).addClass(["viewer-fixed","viewer-fade","viewer-hide"].join(" "))),i("body").after(t),h.inline&&(this.render(),this.bind(),this.isShown=!0),this.isBuilt=!0,i.isFunction(h.built)&&r.one("built.viewer",h.built),this.trigger("built.viewer"))},unbuild:function(){this.isBuilt&&(this.isBuilt=!1,this.$viewer.remove())},bind:function(){var e=this.options,t=this.$element;i.isFunction(e.view)&&t.on("view.viewer",e.view),i.isFunction(e.viewed)&&t.on("viewed.viewer",e.viewed),this.$viewer.on("click.viewer",i.proxy(this.click,this)).on("wheel mousewheel DOMMouseScroll",i.proxy(this.wheel,this)),this.$canvas.on(x,i.proxy(this.mousedown,this)),w.on("mousemove touchmove pointermove MSPointerMove",this._mousemove=o(this.mousemove,this)).on($,this._mouseup=o(this.mouseup,this)).on("keydown.viewer",this._keydown=o(this.keydown,this)),v.on("resize.viewer",this._resize=o(this.resize,this))},unbind:function(){var e=this.options,t=this.$element;i.isFunction(e.view)&&t.off("view.viewer",e.view),i.isFunction(e.viewed)&&t.off("viewed.viewer",e.viewed),this.$viewer.off("click.viewer",this.click).off("wheel mousewheel DOMMouseScroll",this.wheel),this.$canvas.off(x,this.mousedown),w.off("mousemove touchmove pointermove MSPointerMove",this._mousemove).off($,this._mouseup).off("keydown.viewer",this._keydown),v.off("resize.viewer",this._resize)},render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.container={width:v.innerWidth(),height:v.innerHeight()}},initViewer:function(){var e,t=this.options,s=this.$parent;t.inline&&(this.parent=e={width:I(s.width(),t.minWidth),height:I(s.height(),t.minHeight)}),!this.isFulled&&e||(e=this.container),this.viewer=i.extend({},e)},renderViewer:function(){this.options.inline&&!this.isFulled&&this.$viewer.css(this.viewer)},initList:function(){var t=this.options,s=this.$element,n=this.$list,o=[];this.$images.each(function(s){var n=this.src,a=this.alt||r(n),h=t.url;n&&(e(h)?h=this.getAttribute(h):i.isFunction(h)&&(h=h.call(this,this)),o.push('<li><img src="'+n+'" data-action="view" data-index="'+s+'" data-original-url="'+(h||n)+'" alt="'+a+'"></li>'))}),n.html(o.join("")).find("img").one("load.viewer",{filled:!0},i.proxy(this.loadImage,this)),this.$items=n.children(),t.transition&&s.one("viewed.viewer",function(){n.addClass(y)})},renderList:function(i){var e=i||this.index,t=this.$items.eq(e).width(),s=t+1;this.$list.css({width:s*this.length,marginLeft:(this.viewer.width-t)/2-s*e})},resetList:function(){this.$list.empty().removeClass(y).css("margin-left",0)},initImage:function(e){var t=this.options,s=this.$image,n=this.viewer,o=this.$footer.height(),a=n.width,h=I(n.height-o,o),r=this.image||{};l(s[0],i.proxy(function(s,n){var o,l,d=s/n,c=a,u=h;h*d>a?u=a/d:c=h*d,c=Y(.9*c,s),u=Y(.9*u,n),l={naturalWidth:s,naturalHeight:n,aspectRatio:d,ratio:c/s,width:c,height:u,left:(a-c)/2,top:(h-u)/2},o=i.extend({},l),t.rotatable&&(l.rotate=r.rotate||0,o.rotate=0),t.scalable&&(l.scaleX=r.scaleX||1,l.scaleY=r.scaleY||1,o.scaleX=1,o.scaleY=1),this.image=l,this.initialImage=o,i.isFunction(e)&&e()},this))},renderImage:function(e){var t=this.image,s=this.$image;s.css({width:t.width,height:t.height,marginLeft:t.left,marginTop:t.top,transform:a(t)}),i.isFunction(e)&&(this.transitioning?s.one("transitionend",e):e())},resetImage:function(){this.$image&&(this.$image.remove(),this.$image=null)},start:function(e){var t=e.target;i(t).is("img")&&(this.target=t,this.show())},click:function(e){var t=i(e.target),s=t.data("action"),n=this.image;switch(s){case"mix":this.isPlayed?this.stop():this.options.inline?this.isFulled?this.exit():this.full():this.hide();break;case"view":this.view(t.data("index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev();break;case"play":this.play();break;case"next":this.next();break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-n.scaleX||-1);break;case"flip-vertical":this.scaleY(-n.scaleY||-1);break;default:this.isPlayed&&this.stop()}},load:function(){var e=this.options,t=this.viewer,s=this.$image;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1),s.removeClass("viewer-invisible").css("cssText","width:0;height:0;margin-left:"+t.width/2+"px;margin-top:"+t.height/2+"px;max-width:none!important;visibility:visible;"),this.initImage(i.proxy(function(){s.toggleClass(y,e.transition).toggleClass("viewer-move",e.movable),this.renderImage(i.proxy(function(){this.isViewed=!0,this.trigger("viewed.viewer")},this))},this))},loadImage:function(e){var t=e.target,s=i(t),n=s.parent(),o=n.width(),a=n.height(),h=e.data&&e.data.filled;l(t,function(i,e){var t=i/e,n=o,r=a;a*t>o?h?n=a*t:r=o/t:h?r=o/t:n=a*t,s.css({width:n,height:r,marginLeft:(o-n)/2,marginTop:(a-r)/2})})},resize:function(){this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.isViewed&&this.initImage(i.proxy(function(){this.renderImage()},this)),this.isPlayed&&this.$player.find("img").one("load.viewer",i.proxy(this.loadImage,this)).trigger("load.viewer")},wheel:function(e){var t=e.originalEvent||e,s=X(this.options.zoomRatio)||.1,n=1;this.isViewed&&(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(i.proxy(function(){this.wheeling=!1},this),50),t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*s,!0,e)))},keydown:function(i){var e=this.options,t=i.which;if(this.isFulled&&e.keyboard)switch(t){case 27:this.isPlayed?this.stop():e.inline?this.isFulled&&this.exit():this.hide();break;case 32:this.isPlayed&&this.stop();break;case 37:this.prev();break;case 38:i.preventDefault(),this.zoom(e.zoomRatio,!0);break;case 39:this.next();break;case 40:i.preventDefault(),this.zoom(-e.zoomRatio,!0);break;case 48:case 49:(i.ctrlKey||i.shiftKey)&&(i.preventDefault(),this.toggle())}},mousedown:function(i){var e,t=this.options,s=i.originalEvent,n=s&&s.touches,o=i,a=!!t.movable&&"move";if(this.isViewed){if(n){if((e=n.length)>1){if(!t.zoomable||2!==e)return;o=n[1],this.startX2=o.pageX,this.startY2=o.pageY,a="zoom"}else this.isSwitchable()&&(a="switch");o=n[0]}a&&(i.preventDefault(),this.action=a,this.startX=o.pageX||s&&s.pageX,this.startY=o.pageY||s&&s.pageY)}},mousemove:function(i){var e,t=this.options,s=this.action,n=this.$image,o=i.originalEvent,a=o&&o.touches,h=i;if(this.isViewed){if(a){if((e=a.length)>1){if(!t.zoomable||2!==e)return;h=a[1],this.endX2=h.pageX,this.endY2=h.pageY}h=a[0]}s&&(i.preventDefault(),"move"===s&&t.transition&&n.hasClass(y)&&n.removeClass(y),this.endX=h.pageX||o&&o.pageX,this.endY=h.pageY||o&&o.pageY,this.change(i))}},mouseup:function(i){var e=this.action;e&&(i.preventDefault(),"move"===e&&this.options.transition&&this.$image.addClass(y),this.action=!1)},show:function(){var e,t=this.options;t.inline||this.transitioning||(this.isBuilt||this.build(),i.isFunction(t.show)&&this.$element.one("show.viewer",t.show),this.trigger("show.viewer").isDefaultPrevented()||(this.$body.addClass("viewer-open"),e=this.$viewer.removeClass("viewer-hide"),this.$element.one("shown.viewer",i.proxy(function(){this.view(this.target?this.$images.index(this.target):this.index),this.target=!1},this)),t.transition?(this.transitioning=!0,e.addClass(y),h(e[0]),e.one("transitionend",i.proxy(this.shown,this)).addClass(b)):(e.addClass(b),this.shown())))},hide:function(){var e=this.options,t=this.$viewer;e.inline||this.transitioning||!this.isShown||(i.isFunction(e.hide)&&this.$element.one("hide.viewer",e.hide),this.trigger("hide.viewer").isDefaultPrevented()||(this.isViewed&&e.transition?(this.transitioning=!0,this.$image.one("transitionend",i.proxy(function(){t.one("transitionend",i.proxy(this.hidden,this)).removeClass(b)},this)),this.zoomTo(0,!1,!1,!0)):(t.removeClass(b),this.hidden())))},view:function(e){var t,s,n,o,a,h=this.$title;e=Number(e)||0,!this.isShown||this.isPlayed||e<0||e>=this.length||this.isViewed&&e===this.index||this.trigger("view.viewer").isDefaultPrevented()||(s=this.$items.eq(e),n=s.find("img"),o=n.data("originalUrl"),a=n.attr("alt"),this.$image=t=i('<img src="'+o+'" alt="'+a+'">'),this.isViewed&&this.$items.eq(this.index).removeClass("viewer-active"),s.addClass("viewer-active"),this.isViewed=!1,this.index=e,this.image=null,this.$canvas.html(t.addClass("viewer-invisible")),this.renderList(),h.empty(),this.$element.one("viewed.viewer",i.proxy(function(){var i=this.image,e=i.naturalWidth,t=i.naturalHeight;h.html(a+" ("+e+" &times; "+t+")")},this)),t[0].complete?this.load():(t.one("load.viewer",i.proxy(this.load,this)),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(i.proxy(function(){t.removeClass("viewer-invisible"),this.timeout=!1},this),1e3)))},prev:function(){this.view(I(this.index-1,0))},next:function(){this.view(Y(this.index+1,this.length-1))},move:function(i,e){var t=this.image;this.moveTo(s(i)?i:t.left+X(i),s(e)?e:t.top+X(e))},moveTo:function(i,e){var n=this.image,o=!1;s(e)&&(e=i),i=X(i),e=X(e),this.isViewed&&!this.isPlayed&&this.options.movable&&(t(i)&&(n.left=i,o=!0),t(e)&&(n.top=e,o=!0),o&&this.renderImage())},zoom:function(i,e,t){var s=this.image;i=X(i),i=i<0?1/(1-i):1+i,this.zoomTo(s.width*i/s.naturalWidth,e,t)},zoomTo:function(i,e,s,n){var o,a,h,r,l,c=this.options,u=.01,v=100,w=this.image,m=w.width,f=w.height;i=I(0,i),t(i)&&this.isViewed&&!this.isPlayed&&(n||c.zoomable)&&(n||(u=I(u,c.minZoomRatio),v=Y(v,c.maxZoomRatio),i=Y(I(i,u),v)),i>.95&&i<1.05&&(i=1),a=w.naturalWidth*i,h=w.naturalHeight*i,s&&(o=s.originalEvent)?(r=this.$viewer.offset(),l=o.touches?d(o.touches):{pageX:s.pageX||o.pageX||0,pageY:s.pageY||o.pageY||0},w.left-=(a-m)*((l.pageX-r.left-w.left)/m),w.top-=(h-f)*((l.pageY-r.top-w.top)/f)):(w.left-=(a-m)/2,w.top-=(h-f)/2),w.width=a,w.height=h,w.ratio=i,this.renderImage(),e&&this.tooltip())},rotate:function(i){this.rotateTo((this.image.rotate||0)+X(i))},rotateTo:function(i){var e=this.image;i=X(i),t(i)&&this.isViewed&&!this.isPlayed&&this.options.rotatable&&(e.rotate=i,this.renderImage())},scale:function(i,e){var n=this.image,o=!1;s(e)&&(e=i),i=X(i),e=X(e),this.isViewed&&!this.isPlayed&&this.options.scalable&&(t(i)&&(n.scaleX=i,o=!0),t(e)&&(n.scaleY=e,o=!0),o&&this.renderImage())},scaleX:function(i){this.scale(i,this.image.scaleY)},scaleY:function(i){this.scale(this.image.scaleX,i)},play:function(){var e,s=this.options,n=this.$player,o=i.proxy(this.loadImage,this),a=[],h=0,r=0;this.isShown&&!this.isPlayed&&(s.fullscreen&&this.requestFullscreen(),this.isPlayed=!0,n.addClass("viewer-show"),this.$items.each(function(e){var t=i(this),l=t.find("img"),d=i('<img src="'+l.data("originalUrl")+'" alt="'+l.attr("alt")+'">');h++,d.addClass("viewer-fade").toggleClass(y,s.transition),t.hasClass("viewer-active")&&(d.addClass(b),r=e),a.push(d),d.one("load.viewer",{filled:!1},o),n.append(d)}),t(s.interval)&&s.interval>0&&(e=i.proxy(function(){this.playing=setTimeout(function(){a[r].removeClass(b),r++,r=r<h?r:0,a[r].addClass(b),e()},s.interval)},this),h>1&&e()))},stop:function(){this.isPlayed&&(this.options.fullscreen&&this.exitFullscreen(),this.isPlayed=!1,clearTimeout(this.playing),this.$player.removeClass("viewer-show").empty())},full:function(){var e=this.options,t=this.$image,s=this.$list;this.isShown&&!this.isPlayed&&!this.isFulled&&e.inline&&(this.isFulled=!0,this.$body.addClass("viewer-open"),this.$button.addClass("viewer-fullscreen-exit"),e.transition&&(t.removeClass(y),s.removeClass(y)),this.$viewer.addClass("viewer-fixed").removeAttr("style").css("z-index",e.zIndex),this.initContainer(),this.viewer=i.extend({},this.container),this.renderList(),this.initImage(i.proxy(function(){this.renderImage(function(){e.transition&&setTimeout(function(){t.addClass(y),s.addClass(y)},0)})},this)))},exit:function(){var e=this.options,t=this.$image,s=this.$list;this.isFulled&&(this.isFulled=!1,this.$body.removeClass("viewer-open"),this.$button.removeClass("viewer-fullscreen-exit"),e.transition&&(t.removeClass(y),s.removeClass(y)),this.$viewer.removeClass("viewer-fixed").css("z-index",e.zIndexInline),this.viewer=i.extend({},this.parent),this.renderViewer(),this.renderList(),this.initImage(i.proxy(function(){this.renderImage(function(){e.transition&&setTimeout(function(){t.addClass(y),s.addClass(y)},0)})},this)))},tooltip:function(){var e=this.options,t=this.$tooltip,s=this.image,n=["viewer-show","viewer-fade",y].join(" ");this.isViewed&&!this.isPlayed&&e.tooltip&&(t.text(z(100*s.ratio)+"%"),this.tooltiping?clearTimeout(this.tooltiping):e.transition?(this.fading&&t.trigger("transitionend"),t.addClass(n),h(t[0]),t.addClass(b)):t.addClass("viewer-show"),this.tooltiping=setTimeout(i.proxy(function(){e.transition?(t.one("transitionend",i.proxy(function(){t.removeClass(n),this.fading=!1},this)).removeClass(b),this.fading=!0):t.removeClass("viewer-show"),this.tooltiping=!1},this),1e3))},toggle:function(){1===this.image.ratio?this.zoomTo(this.initialImage.ratio,!0):this.zoomTo(1,!0)},reset:function(){this.isViewed&&!this.isPlayed&&(this.image=i.extend({},this.initialImage),this.renderImage())},update:function(){var e,t=this.$element,s=this.$images,n=[];if(this.isImg){if(!t.parent().length)return this.destroy()}else this.$images=s=t.find("img"),this.length=s.length;this.isBuilt&&(i.each(this.$items,function(e){var t=i(this).find("img")[0],o=s[e];o?o.src!==t.src&&n.push(e):n.push(e)}),this.$list.width("auto"),this.initList(),this.isShown&&(this.length?this.isViewed&&(e=i.inArray(this.index,n),e>=0?(this.isViewed=!1,this.view(I(this.index-(e+1),0))):this.$items.eq(this.index).addClass("viewer-active")):(this.$image=null,this.isViewed=!1,this.index=0,this.image=null,this.$canvas.empty(),this.$title.empty())))},destroy:function(){var i=this.$element;this.options.inline?this.unbind():(this.isShown&&this.unbind(),i.off("click.viewer",this.start)),this.unbuild(),i.removeData("viewer")},trigger:function(e,t){var s=i.Event(e,t);return this.$element.trigger(s),s},shown:function(){var e=this.options;this.transitioning=!1,this.isFulled=!0,this.isShown=!0,this.isVisible=!0,this.render(),this.bind(),i.isFunction(e.shown)&&this.$element.one("shown.viewer",e.shown),this.trigger("shown.viewer")},hidden:function(){var e=this.options;this.transitioning=!1,this.isViewed=!1,this.isFulled=!1,this.isShown=!1,this.isVisible=!1,this.unbind(),this.$body.removeClass("viewer-open"),this.$viewer.addClass("viewer-hide"),this.resetList(),this.resetImage(),i.isFunction(e.hidden)&&this.$element.one("hidden.viewer",e.hidden),this.trigger("hidden.viewer")},requestFullscreen:function(){var i=document.documentElement;!this.isFulled||document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))},exitFullscreen:function(){this.isFulled&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())},change:function(i){var e=this.endX-this.startX,t=this.endY-this.startY;switch(this.action){case"move":this.move(e,t);break;case"zoom":this.zoom(function(i,e,t,s){var n=F(i*i+e*e);return(F(t*t+s*s)-n)/n}(k(this.startX-this.startX2),k(this.startY-this.startY2),k(this.endX-this.endX2),k(this.endY-this.endY2)),!1,i),this.startX2=this.endX2,this.startY2=this.endY2;break;case"switch":this.action="switched",k(e)>k(t)&&(e>1?this.prev():e<-1&&this.next())}this.startX=this.endX,this.startY=this.endY},isSwitchable:function(){var i=this.image,e=this.viewer;return i.left>=0&&i.top>=0&&i.width<=e.width&&i.height<=e.height}},u.DEFAULTS={inline:!1,button:!0,navbar:!0,title:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,keyboard:!0,interval:5e3,minWidth:200,minHeight:100,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,zIndex:2015,zIndexInline:0,url:"src",build:null,built:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null},u.setDefaults=function(e){i.extend(u.DEFAULTS,e)},u.TEMPLATE='<div class="viewer-container"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><ul class="viewer-toolbar"><li class="viewer-zoom-in" data-action="zoom-in"></li><li class="viewer-zoom-out" data-action="zoom-out"></li><li class="viewer-one-to-one" data-action="one-to-one"></li><li class="viewer-reset" data-action="reset"></li><li class="viewer-prev" data-action="prev"></li><li class="viewer-play" data-action="play"></li><li class="viewer-next" data-action="next"></li><li class="viewer-rotate-left" data-action="rotate-left"></li><li class="viewer-rotate-right" data-action="rotate-right"></li><li class="viewer-flip-horizontal" data-action="flip-horizontal"></li><li class="viewer-flip-vertical" data-action="flip-vertical"></li></ul><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><a class="viewer-button" data-action="mix"><div style="position:relative;"><div class="viewer-ripple"></div></div></a><div class="viewer-player"></div></div>',u.other=i.fn.viewer,i.fn.viewer=function(t){var o,a=n(arguments,1);return this.each(function(){var s,n=i(this),h=n.data("viewer");if(!h){if(/destroy|hide|exit|stop|reset/.test(t))return;n.data("viewer",h=new u(this,t))}e(t)&&i.isFunction(s=h[t])&&(o=s.apply(h,a))}),s(o)?this:o},i.fn.viewer.Constructor=u,i.fn.viewer.setDefaults=u.setDefaults,i.fn.viewer.noConflict=function(){return i.fn.viewer=u.other,this}});
!function(e){function o(e){this.isField=!0,this.down=!1,this.inFocus=!1,this.disabled=!1,this.cutOff=!1,this.hasLabel=!1,this.keyboardMode=!1,this.nativeTouch=!0,this.wrapperClass="dropdown",this.onChange=null,e&&e.tableDom&&(this.tableDom=e.tableDom)}o.prototype={constructor:o,instances:{},init:function(o,t){var n=this;e.extend(n,t),n.$select=e(o),n.id=o.id,n.options=[],n.$options=n.$select.find("option"),n.isTouch="ontouchend"in document,n.$select.removeClass(n.wrapperClass+" dropdown"),n.$select.is(":disabled")&&(n.disabled=!0),n.$options.length&&(n.$options.each(function(o){var t=e(this);t.is(":selected")&&(n.selected={index:o,title:t.text()},n.focusIndex=o),t.hasClass("label")&&0==o?(n.hasLabel=!0,n.label=t.text(),t.attr("value","")):n.options.push({domNode:t[0],title:t.text(),value:t.val(),selected:t.is(":selected")})}),n.selected||(n.selected={index:0,title:n.$options.eq(0).text()},n.focusIndex=0),n.render())},render:function(){var o=this,t=o.isTouch&&o.nativeTouch?" touch":"",n=o.disabled?" disabled":"";o.$container=o.$select.wrap('<div class="'+o.wrapperClass+t+n+'"><span class="old"/></div>').parent().parent(),o.$active=e('<span class="selected">'+o.selected.title+"</span>").appendTo(o.$container),o.$carat=e('<span class="carat"/>').appendTo(o.$container),(o.$container.parents(".pe-stand-pagination").get(0)||o.$container.parents(".layer-page-wrap").get(0))&&(e('<span class="pageSize-arrow pagination-up iconfont icon-pageUp"></span>').appendTo(o.$container),e('<span class="pageSize-arrow pagination-down iconfont disabled icon-pageDown"></span>').appendTo(o.$container)),o.$scrollWrapper=e('<div class="drop-down-wrap"><ul/></div>').appendTo(o.$container),o.$dropDown=o.$scrollWrapper.find("ul"),o.$form=o.$container.closest("form"),e.each(o.options,function(){var e=this,t=e.selected?' class="active"':"";o.$dropDown.append('<li class="select-item" '+t+' title="'+e.title+'">'+e.title+"</li>")}),o.$items=o.$dropDown.find("li"),o.cutOff&&o.$items.length>o.cutOff&&o.$container.addClass("scrollable"),o.getMaxHeight(),o.isTouch&&o.nativeTouch?o.bindTouchHandlers():o.bindHandlers(o.tableDom)},getMaxHeight:function(){var e=this;for(e.maxHeight=0,i=0;i<e.$items.length;i++){var o=e.$items.eq(i);if(e.maxHeight+=o.outerHeight(),e.cutOff==i+1)break}},bindTouchHandlers:function(){var o=this;o.$container.on("click.easyDropDown",function(){o.$select.focus()}),o.$select.on({change:function(){var t=e(this).find("option:selected"),n=t.text(),s=t.val();o.$active.text(n),"function"==typeof o.onChange&&o.onChange.call(o.$select[0],{title:n,value:s})},focus:function(){o.$container.addClass("focus")},blur:function(){o.$container.removeClass("focus")}})},bindHandlers:function(o){var t=this;t.query="",t.$container.on({"click.easyDropDown":function(n){var n=n||window.event,s=n.target||n.srcElement;if(e(s).hasClass("pageSize-arrow")||e(s).hasClass("select-item"))return PEBASE.pagiArrowClick(e(s),o),!1;t.down||t.disabled?t.close():t.open()},"mousemove.easyDropDown":function(){t.keyboardMode&&(t.keyboardMode=!1)}}),e("body").on("click.easyDropDown."+t.id,function(o){var n=e(o.target),s=t.wrapperClass.split(" ").join(".");!n.closest("."+s).length&&t.down&&t.close()}),t.$items.on({"click.easyDropDown":function(){var o=e(this).index();t.select(o),t.$select.focus()},"mouseover.easyDropDown":function(){if(!t.keyboardMode){var o=e(this);o.addClass("focus").siblings().removeClass("focus"),t.focusIndex=o.index()}},"mouseout.easyDropDown":function(){t.keyboardMode||e(this).removeClass("focus")}}),t.$select.on({"focus.easyDropDown":function(){t.$container.addClass("focus"),t.inFocus=!0},"blur.easyDropDown":function(){t.$container.removeClass("focus"),t.inFocus=!1},"keydown.easyDropDown":function(e){if(t.inFocus){t.keyboardMode=!0;var o=e.keyCode;if(38!=o&&40!=o&&32!=o||(e.preventDefault(),38==o?(t.focusIndex--,t.focusIndex=t.focusIndex<0?t.$items.length-1:t.focusIndex):40==o&&(t.focusIndex++,t.focusIndex=t.focusIndex>t.$items.length-1?0:t.focusIndex),t.down||t.open(),t.$items.removeClass("focus").eq(t.focusIndex).addClass("focus"),t.cutOff&&t.scrollToView(),t.query=""),t.down)if(9==o||27==o)t.close();else{if(13==o)return e.preventDefault(),t.select(t.focusIndex),t.close(),!1;if(8==o)return e.preventDefault(),t.query=t.query.slice(0,-1),t.search(),clearTimeout(t.resetQuery),!1;if(38!=o&&40!=o){var n=String.fromCharCode(o);t.query+=n,t.search(),clearTimeout(t.resetQuery)}}}},"keyup.easyDropDown":function(){t.resetQuery=setTimeout(function(){t.query=""},1200)}}),t.$dropDown.on("scroll.easyDropDown",function(e){t.$dropDown[0].scrollTop>=t.$dropDown[0].scrollHeight-t.maxHeight?t.$container.addClass("bottom"):t.$container.removeClass("bottom")}),t.$form.length&&t.$form.on("reset.easyDropDown",function(){var e=t.hasLabel?t.label:t.options[0].title;t.$active.text(e)})},unbindHandlers:function(){var o=this;o.$container.add(o.$select).add(o.$items).add(o.$form).add(o.$dropDown).off(".easyDropDown"),e("body").off("."+o.id)},open:function(){var e=this,o=window.scrollY||document.documentElement.scrollTop,t=window.scrollX||document.documentElement.scrollLeft,n=e.notInViewport(o);e.closeAll(),e.getMaxHeight(),e.$select.focus(),window.scrollTo(t,o+n),e.$container.addClass("open"),e.$scrollWrapper.css("height",e.maxHeight+"px"),e.$scrollWrapper.removeClass("closeWrap"),e.down=!0},close:function(){var e=this;e.$container.removeClass("open"),e.$scrollWrapper.css("height","0px"),e.$scrollWrapper.addClass("closeWrap"),e.focusIndex=e.selected.index,e.query="",e.down=!1},closeAll:function(){var e=this,o=Object.getPrototypeOf(e).instances;for(var t in o){o[t].close()}},select:function(e){var o=this;"string"==typeof e&&(e=o.$select.find("option[value="+e+"]").index()-1);var t=o.options[e],n=o.hasLabel?e+1:e;o.$items.removeClass("active").eq(e).addClass("active"),o.$active.text(t.title),o.$select.find("option").removeAttr("selected").eq(n).prop("selected",!0).parent().trigger("change"),o.selected={index:e,title:t.title},o.focusIndex=i,"function"==typeof o.onChange&&o.onChange.call(o.$select[0],{title:t.title,value:t.value})},search:function(){var e=this,o=function(o){e.focusIndex=o,e.$items.removeClass("focus").eq(e.focusIndex).addClass("focus"),e.scrollToView()},t=function(o){return e.options[o].title.toUpperCase()};for(i=0;i<e.options.length;i++){var n=t(i);if(0==n.indexOf(e.query))return void o(i)}for(i=0;i<e.options.length;i++){var n=t(i);if(n.indexOf(e.query)>-1){o(i);break}}},scrollToView:function(){var e=this;if(e.focusIndex>=e.cutOff){var o=e.$items.eq(e.focusIndex),t=o.outerHeight()*(e.focusIndex+1)-e.maxHeight;e.$dropDown.scrollTop(t)}},notInViewport:function(e){var o=this,t={min:e,max:e+(window.innerHeight||document.documentElement.clientHeight)},n=o.$dropDown.offset().top+o.maxHeight;return n>=t.min&&n<=t.max?0:n-t.max+5},destroy:function(){var e=this;e.unbindHandlers(),e.$select.unwrap().siblings().remove(),e.$select.unwrap(),delete Object.getPrototypeOf(e).instances[e.$select[0].id]},disable:function(){var e=this;e.disabled=!0,e.$container.addClass("disabled"),e.$select.attr("disabled",!0),e.down||e.close()},enable:function(){var e=this;e.disabled=!1,e.$container.removeClass("disabled"),e.$select.attr("disabled",!1)}};var t=function(e,t){e.id=e.id?e.id:"EasyDropDown"+n();var s=new o(t);s.instances[e.id]||(s.instances[e.id]=s,s.init(e,t))},n=function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()};e.fn.easyDropDown=function(){var e,n=arguments,s=[];return e=this.each(function(){if(n&&"string"==typeof n[0]){var e=o.prototype.instances[this.id][n[0]](n[1],n[2]);e&&s.push(e)}else t(this,n[0])}),s.length?s.length>1?s:s[0]:e},e(function(){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype})})}(jQuery);
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Fn.apply(null,arguments)}function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function i(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){for(var n in e)r(e,n)&&(t[n]=e[n]);return r(e,"toString")&&(t.toString=e.toString),r(e,"valueOf")&&(t.valueOf=e.valueOf),t}function o(t,e,n,i){return bt(t,e,n,i,!0).utc()}function a(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(t){return null==t._pf&&(t._pf=a()),t._pf}function d(t){if(null==t._isValid){var e=u(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function l(t){var e=o(NaN);return null!=t?s(u(e),t):u(e).userInvalidated=!0,e}function c(t,e){var n,i,r;if(void 0!==e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),void 0!==e._i&&(t._i=e._i),void 0!==e._f&&(t._f=e._f),void 0!==e._l&&(t._l=e._l),void 0!==e._strict&&(t._strict=e._strict),void 0!==e._tzm&&(t._tzm=e._tzm),void 0!==e._isUTC&&(t._isUTC=e._isUTC),void 0!==e._offset&&(t._offset=e._offset),void 0!==e._pf&&(t._pf=u(e)),void 0!==e._locale&&(t._locale=e._locale),xn.length>0)for(n in xn)i=xn[n],void 0!==(r=e[i])&&(t[i]=r);return t}function h(e){c(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===Hn&&(Hn=!0,t.updateOffset(this),Hn=!1)}function f(t){return t instanceof h||null!=t&&null!=t._isAMomentObject}function m(t){return t<0?Math.ceil(t):Math.floor(t)}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=m(e)),n}function y(t,e,n){var i,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&_(t[i])!==_(e[i]))&&o++;return o+s}function p(){}function v(t){return t?t.toLowerCase().replace("_","-"):t}function g(t){for(var e,n,i,r,s=0;s<t.length;){for(r=v(t[s]).split("-"),e=r.length,n=v(t[s+1]),n=n?n.split("-"):null;e>0;){if(i=D(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&y(r,n,!0)>=e-1)break;e--}s++}return null}function D(t){var e=null;if(!Ln[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Pn._abbr,require("./locale/"+t),M(e)}catch(t){}return Ln[t]}function M(t,e){var n;return t&&(n=void 0===e?w(t):Y(t,e))&&(Pn=n),Pn._abbr}function Y(t,e){return null!==e?(e.abbr=t,Ln[t]=Ln[t]||new p,Ln[t].set(e),M(t),Ln[t]):(delete Ln[t],null)}function w(t){var n;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Pn;if(!e(t)){if(n=D(t))return n;t=[t]}return g(t)}function S(t,e){var n=t.toLowerCase();In[n]=In[n+"s"]=In[e]=t}function k(t){return"string"==typeof t?In[t]||In[t.toLowerCase()]:void 0}function T(t){var e,n,i={};for(n in t)r(t,n)&&(e=k(n))&&(i[e]=t[n]);return i}function b(e,n){return function(i){return null!=i?(U(this,e,i),t.updateOffset(this,n),this):O(this,e)}}function O(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function U(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function W(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=k(t),"function"==typeof this[t])return this[t](e);return this}function C(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function G(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Zn[t]=r),e&&(Zn[e[0]]=function(){return C(r.apply(this,arguments),e[1],e[2])}),n&&(Zn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function F(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function P(t){var e,n,i=t.match(An);for(e=0,n=i.length;e<n;e++)Zn[i[e]]?i[e]=Zn[i[e]]:i[e]=F(i[e]);return function(r){var s="";for(e=0;e<n;e++)s+=i[e]instanceof Function?i[e].call(r,t):i[e];return s}}function x(t,e){return t.isValid()?(e=H(e,t.localeData()),Nn[e]=Nn[e]||P(e),Nn[e](t)):t.localeData().invalidDate()}function H(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(zn.lastIndex=0;i>=0&&zn.test(t);)t=t.replace(zn,n),zn.lastIndex=0,i-=1;return t}function L(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function I(t,e,n){ii[t]=L(e)?e:function(t){return t&&n?n:e}}function A(t,e){return r(ii,t)?ii[t](e._strict,e._locale):new RegExp(z(t))}function z(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function N(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=_(t)}),n=0;n<t.length;n++)ri[t[n]]=i}function Z(t,e){N(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function j(t,e,n){null!=e&&r(ri,t)&&ri[t](e,n._a,n,t)}function E(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function V(t){return this._months[t.month()]}function q(t){return this._monthsShort[t.month()]}function J(t,e,n){var i,r,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=o([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function $(t,e){var n;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))?t:(n=Math.min(t.date(),E(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function R(e){return null!=e?($(this,e),t.updateOffset(this,!0),this):O(this,"Month")}function B(){return E(this.year(),this.month())}function Q(t){var e,n=t._a;return n&&-2===u(t).overflow&&(e=n[oi]<0||n[oi]>11?oi:n[ai]<1||n[ai]>E(n[si],n[oi])?ai:n[ui]<0||n[ui]>24||24===n[ui]&&(0!==n[di]||0!==n[li]||0!==n[ci])?ui:n[di]<0||n[di]>59?di:n[li]<0||n[li]>59?li:n[ci]<0||n[ci]>999?ci:-1,u(t)._overflowDayOfYear&&(e<si||e>ai)&&(e=ai),u(t).overflow=e),t}function X(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function K(t,e){var n=!0;return s(function(){return n&&(X(t+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function tt(t,e){mi[t]||(X(e),mi[t]=!0)}function et(t){var e,n,i=t._i,r=_i.exec(i);if(r){for(u(t).iso=!0,e=0,n=yi.length;e<n;e++)if(yi[e][1].exec(i)){t._f=yi[e][0];break}for(e=0,n=pi.length;e<n;e++)if(pi[e][1].exec(i)){t._f+=(r[6]||" ")+pi[e][0];break}i.match(ti)&&(t._f+="Z"),Dt(t)}else t._isValid=!1}function nt(e){var n=vi.exec(e._i);if(null!==n)return void(e._d=new Date(+n[1]));et(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e))}function it(t,e,n,i,r,s,o){var a=new Date(t,e,n,i,r,s,o);return t<1970&&a.setFullYear(t),a}function rt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function st(t){return ot(t)?366:365}function ot(t){return t%4==0&&t%100!=0||t%400==0}function at(){return ot(this.year())}function ut(t,e,n){var i,r=n-e,s=n-t.day();return s>r&&(s-=7),s<r-7&&(s+=7),i=Ot(t).add(s,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function dt(t){return ut(t,this._week.dow,this._week.doy).week}function lt(){return this._week.dow}function ct(){return this._week.doy}function ht(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ft(t){var e=ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function mt(t,e,n,i,r){var s,o=6+r-i,a=rt(t,0,1+o),u=a.getUTCDay();return u<r&&(u+=7),n=null!=n?1*n:r,s=1+o+7*(e-1)-u+n,{year:s>0?t:t-1,dayOfYear:s>0?s:st(t-1)+s}}function _t(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function yt(t,e,n){return null!=t?t:null!=e?e:n}function pt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function vt(t){var e,n,i,r,s=[];if(!t._d){for(i=pt(t),t._w&&null==t._a[ai]&&null==t._a[oi]&&gt(t),t._dayOfYear&&(r=yt(t._a[si],i[si]),t._dayOfYear>st(r)&&(u(t)._overflowDayOfYear=!0),n=rt(r,0,t._dayOfYear),t._a[oi]=n.getUTCMonth(),t._a[ai]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ui]&&0===t._a[di]&&0===t._a[li]&&0===t._a[ci]&&(t._nextDay=!0,t._a[ui]=0),t._d=(t._useUTC?rt:it).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ui]=24)}}function gt(t){var e,n,i,r,s,o,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,o=4,n=yt(e.GG,t._a[si],ut(Ot(),1,4).year),i=yt(e.W,1),r=yt(e.E,1)):(s=t._locale._week.dow,o=t._locale._week.doy,n=yt(e.gg,t._a[si],ut(Ot(),s,o).year),i=yt(e.w,1),null!=e.d?(r=e.d)<s&&++i:r=null!=e.e?e.e+s:s),a=mt(n,i,r,o,s),t._a[si]=a.year,t._dayOfYear=a.dayOfYear}function Dt(e){if(e._f===t.ISO_8601)return void et(e);e._a=[],u(e).empty=!0;var n,i,r,s,o,a=""+e._i,d=a.length,l=0;for(r=H(e._f,e._locale).match(An)||[],n=0;n<r.length;n++)s=r[n],i=(a.match(A(s,e))||[])[0],i&&(o=a.substr(0,a.indexOf(i)),o.length>0&&u(e).unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),l+=i.length),Zn[s]?(i?u(e).empty=!1:u(e).unusedTokens.push(s),j(s,i,e)):e._strict&&!i&&u(e).unusedTokens.push(s);u(e).charsLeftOver=d-l,a.length>0&&u(e).unusedInput.push(a),!0===u(e).bigHour&&e._a[ui]<=12&&e._a[ui]>0&&(u(e).bigHour=void 0),e._a[ui]=Mt(e._locale,e._a[ui],e._meridiem),vt(e),Q(e)}function Mt(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function Yt(t){var e,n,i,r,o;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=c({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Dt(e),d(e)&&(o+=u(e).charsLeftOver,o+=10*u(e).unusedTokens.length,u(e).score=o,(null==i||o<i)&&(i=o,n=e));s(t,n||e)}function wt(t){if(!t._d){var e=T(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],vt(t)}}function St(t){var e=new h(Q(kt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function kt(t){var i=t._i,r=t._f;return t._locale=t._locale||w(t._l),null===i||void 0===r&&""===i?l({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),f(i)?new h(Q(i)):(e(r)?Yt(t):r?Dt(t):n(i)?t._d=i:Tt(t),t))}function Tt(r){var s=r._i;void 0===s?r._d=new Date:n(s)?r._d=new Date(+s):"string"==typeof s?nt(r):e(s)?(r._a=i(s.slice(0),function(t){return parseInt(t,10)}),vt(r)):"object"==typeof s?wt(r):"number"==typeof s?r._d=new Date(s):t.createFromInputFallback(r)}function bt(t,e,n,i,r){var s={};return"boolean"==typeof n&&(i=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=t,s._f=e,s._strict=i,St(s)}function Ot(t,e,n,i){return bt(t,e,n,i,!1)}function Ut(t,n){var i,r;if(1===n.length&&e(n[0])&&(n=n[0]),!n.length)return Ot();for(i=n[0],r=1;r<n.length;++r)n[r].isValid()&&!n[r][t](i)||(i=n[r]);return i}function Wt(){return Ut("isBefore",[].slice.call(arguments,0))}function Ct(){return Ut("isAfter",[].slice.call(arguments,0))}function Gt(t){var e=T(t),n=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,u=e.minute||0,d=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*d+6e4*u+36e5*a,this._days=+o+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=w(),this._bubble()}function Ft(t){return t instanceof Gt}function Pt(t,e){G(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+C(~~(t/60),2)+e+C(~~t%60,2)})}function xt(t){var e=(t||"").match(ti)||[],n=e[e.length-1]||[],i=(n+"").match(wi)||["-",0,0],r=60*i[1]+_(i[2]);return"+"===i[0]?r:-r}function Ht(e,i){var r,s;return i._isUTC?(r=i.clone(),s=(f(e)||n(e)?+e:+Ot(e))-+r,r._d.setTime(+r._d+s),t.updateOffset(r,!1),r):Ot(e).local()}function Lt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function It(e,n){var i,r=this._offset||0;return null!=e?("string"==typeof e&&(e=xt(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&n&&(i=Lt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?te(this,Rt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Lt(this)}function At(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function zt(t){return this.utcOffset(0,t)}function Nt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Lt(this),"m")),this}function Zt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(xt(this._i)),this}function jt(t){return t=t?Ot(t).utcOffset():0,(this.utcOffset()-t)%60==0}function Et(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vt(){if(void 0!==this._isDSTShifted)return this._isDSTShifted;var t={};if(c(t,this),t=kt(t),t._a){var e=t._isUTC?o(t._a):Ot(t._a);this._isDSTShifted=this.isValid()&&y(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function qt(){return!this._isUTC}function Jt(){return this._isUTC}function $t(){return this._isUTC&&0===this._offset}function Rt(t,e){var n,i,s,o=t,a=null;return Ft(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=Si.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:_(a[ai])*n,h:_(a[ui])*n,m:_(a[di])*n,s:_(a[li])*n,ms:_(a[ci])*n}):(a=ki.exec(t))?(n="-"===a[1]?-1:1,o={y:Bt(a[2],n),M:Bt(a[3],n),d:Bt(a[4],n),h:Bt(a[5],n),m:Bt(a[6],n),s:Bt(a[7],n),w:Bt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(s=Xt(Ot(o.from),Ot(o.to)),o={},o.ms=s.milliseconds,o.M=s.months),i=new Gt(o),Ft(t)&&r(t,"_locale")&&(i._locale=t._locale),i}function Bt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Qt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Xt(t,e){var n;return e=Ht(e,t),t.isBefore(e)?n=Qt(t,e):(n=Qt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Kt(t,e){return function(n,i){var r,s;return null===i||isNaN(+i)||(tt(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=n,n=i,i=s),n="string"==typeof n?+n:n,r=Rt(n,i),te(this,r,t),this}}function te(e,n,i,r){var s=n._milliseconds,o=n._days,a=n._months;r=null==r||r,s&&e._d.setTime(+e._d+s*i),o&&U(e,"Date",O(e,"Date")+o*i),a&&$(e,O(e,"Month")+a*i),r&&t.updateOffset(e,o||a)}function ee(t,e){var n=t||Ot(),i=Ht(n,this).startOf("day"),r=this.diff(i,"days",!0),s=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(e&&e[s]||this.localeData().calendar(s,this,Ot(n)))}function ne(){return new h(this)}function ie(t,e){return e=k(void 0!==e?e:"millisecond"),"millisecond"===e?(t=f(t)?t:Ot(t),+this>+t):(f(t)?+t:+Ot(t))<+this.clone().startOf(e)}function re(t,e){var n;return e=k(void 0!==e?e:"millisecond"),"millisecond"===e?(t=f(t)?t:Ot(t),+this<+t):(n=f(t)?+t:+Ot(t),+this.clone().endOf(e)<n)}function se(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function oe(t,e){var n;return e=k(e||"millisecond"),"millisecond"===e?(t=f(t)?t:Ot(t),+this==+t):(n=+Ot(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function ae(t,e,n){var i,r,s=Ht(t,this),o=6e4*(s.utcOffset()-this.utcOffset());return e=k(e),"year"===e||"month"===e||"quarter"===e?(r=ue(this,s),"quarter"===e?r/=3:"year"===e&&(r/=12)):(i=this-s,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-o)/864e5:"week"===e?(i-o)/6048e5:i),n?r:m(r)}function ue(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(r,"months");return e-s<0?(n=t.clone().add(r-1,"months"),i=(e-s)/(s-n)):(n=t.clone().add(r+1,"months"),i=(e-s)/(n-s)),-(r+i)}function de(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function le(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():x(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):x(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ce(e){var n=x(this,e||t.defaultFormat);return this.localeData().postformat(n)}function he(t,e){return this.isValid()?Rt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fe(t){return this.from(Ot(),t)}function me(t,e){return this.isValid()?Rt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function _e(t){return this.to(Ot(),t)}function ye(t){var e;return void 0===t?this._locale._abbr:(e=w(t),null!=e&&(this._locale=e),this)}function pe(){return this._locale}function ve(t){switch(t=k(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function ge(t){return t=k(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function De(){return+this._d-6e4*(this._offset||0)}function Me(){return Math.floor(+this/1e3)}function Ye(){return this._offset?new Date(+this):this._d}function we(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Se(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function ke(){return d(this)}function Te(){return s({},u(this))}function be(){return u(this).overflow}function Oe(t,e){G(0,[t,t.length],0,e)}function Ue(t,e,n){return ut(Ot([t,11,31+e-n]),e,n).week}function We(t){var e=ut(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Ce(t){var e=ut(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Ge(){return Ue(this.year(),1,4)}function Fe(){var t=this.localeData()._week;return Ue(this.year(),t.dow,t.doy)}function Pe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function xe(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function He(t){return this._weekdays[t.day()]}function Le(t){return this._weekdaysShort[t.day()]}function Ie(t){return this._weekdaysMin[t.day()]}function Ae(t){var e,n,i;for(this._weekdaysParse=this._weekdaysParse||[],e=0;e<7;e++)if(this._weekdaysParse[e]||(n=Ot([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function ze(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=xe(t,this.localeData()),this.add(t-e,"d")):e}function Ne(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ze(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function je(t,e){G(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ee(t,e){return e._meridiemParse}function Ve(t){return"p"===(t+"").toLowerCase().charAt(0)}function qe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Je(t,e){e[ci]=_(1e3*("0."+t))}function $e(){return this._isUTC?"UTC":""}function Re(){return this._isUTC?"Coordinated Universal Time":""}function Be(t){return Ot(1e3*t)}function Qe(){return Ot.apply(null,arguments).parseZone()}function Xe(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.call(e,n):i}function Ke(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function tn(){return this._invalidDate}function en(t){return this._ordinal.replace("%d",t)}function nn(t){return t}function rn(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)}function sn(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function on(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function an(t,e,n,i){var r=w(),s=o().set(i,e);return r[n](s,t)}function un(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return an(t,e,n,r);var s,o=[];for(s=0;s<i;s++)o[s]=an(t,s,n,r);return o}function dn(t,e){return un(t,e,"months",12,"month")}function ln(t,e){return un(t,e,"monthsShort",12,"month")}function cn(t,e){return un(t,e,"weekdays",7,"day")}function hn(t,e){return un(t,e,"weekdaysShort",7,"day")}function fn(t,e){return un(t,e,"weekdaysMin",7,"day")}function mn(){var t=this._data;return this._milliseconds=qi(this._milliseconds),this._days=qi(this._days),this._months=qi(this._months),t.milliseconds=qi(t.milliseconds),t.seconds=qi(t.seconds),t.minutes=qi(t.minutes),t.hours=qi(t.hours),t.months=qi(t.months),t.years=qi(t.years),this}function _n(t,e,n,i){var r=Rt(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function yn(t,e){return _n(this,t,e,1)}function pn(t,e){return _n(this,t,e,-1)}function vn(t){return t<0?Math.floor(t):Math.ceil(t)}function gn(){var t,e,n,i,r,s=this._milliseconds,o=this._days,a=this._months,u=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*vn(Mn(a)+o),o=0,a=0),u.milliseconds=s%1e3,t=m(s/1e3),u.seconds=t%60,e=m(t/60),u.minutes=e%60,n=m(e/60),u.hours=n%24,o+=m(n/24),r=m(Dn(o)),a+=r,o-=vn(Mn(r)),i=m(a/12),a%=12,u.days=o,u.months=a,u.years=i,this}function Dn(t){return 4800*t/146097}function Mn(t){return 146097*t/4800}function Yn(t){var e,n,i=this._milliseconds;if("month"===(t=k(t))||"year"===t)return e=this._days+i/864e5,n=this._months+Dn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Mn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function wn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)}function Sn(t){return function(){return this.as(t)}}function kn(t){return t=k(t),this[t+"s"]()}function Tn(t){return function(){return this._data[t]}}function bn(){return m(this.days()/7)}function On(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function Un(t,e,n){var i=Rt(t).abs(),r=ur(i.as("s")),s=ur(i.as("m")),o=ur(i.as("h")),a=ur(i.as("d")),u=ur(i.as("M")),d=ur(i.as("y")),l=r<dr.s&&["s",r]||1===s&&["m"]||s<dr.m&&["mm",s]||1===o&&["h"]||o<dr.h&&["hh",o]||1===a&&["d"]||a<dr.d&&["dd",a]||1===u&&["M"]||u<dr.M&&["MM",u]||1===d&&["y"]||["yy",d];return l[2]=e,l[3]=+t>0,l[4]=n,On.apply(null,l)}function Wn(t,e){return void 0!==dr[t]&&(void 0===e?dr[t]:(dr[t]=e,!0))}function Cn(t){var e=this.localeData(),n=Un(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Gn(){var t,e,n,i=lr(this._milliseconds)/1e3,r=lr(this._days),s=lr(this._months);t=m(i/60),e=m(t/60),i%=60,t%=60,n=m(s/12),s%=12;var o=n,a=s,u=r,d=e,l=t,c=i,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(u?u+"D":"")+(d||l||c?"T":"")+(d?d+"H":"")+(l?l+"M":"")+(c?c+"S":""):"P0D"}var Fn,Pn,xn=t.momentProperties=[],Hn=!1,Ln={},In={},An=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Nn={},Zn={},jn=/\d/,En=/\d\d/,Vn=/\d{3}/,qn=/\d{4}/,Jn=/[+-]?\d{6}/,$n=/\d\d?/,Rn=/\d{1,3}/,Bn=/\d{1,4}/,Qn=/[+-]?\d{1,6}/,Xn=/\d+/,Kn=/[+-]?\d+/,ti=/Z|[+-]\d\d:?\d\d/gi,ei=/[+-]?\d+(\.\d{1,3})?/,ni=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ii={},ri={},si=0,oi=1,ai=2,ui=3,di=4,li=5,ci=6;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),G("MMMM",0,0,function(t){return this.localeData().months(this,t)}),S("month","M"),I("M",$n),I("MM",$n,En),I("MMM",ni),I("MMMM",ni),N(["M","MM"],function(t,e){e[oi]=_(t)-1}),N(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[oi]=r:u(n).invalidMonth=t});var hi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mi={};t.suppressDeprecationWarnings=!1;var _i=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],pi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],vi=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=K("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),S("year","y"),I("Y",Kn),I("YY",$n,En),I("YYYY",Bn,qn),I("YYYYY",Qn,Jn),I("YYYYYY",Qn,Jn),N(["YYYYY","YYYYYY"],si),N("YYYY",function(e,n){n[si]=2===e.length?t.parseTwoDigitYear(e):_(e)}),N("YY",function(e,n){n[si]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var gi=b("FullYear",!1);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),I("w",$n),I("ww",$n,En),I("W",$n),I("WW",$n,En),Z(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=_(t)});var Di={dow:0,doy:6};G("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),I("DDD",Rn),I("DDDD",Vn),N(["DDD","DDDD"],function(t,e,n){n._dayOfYear=_(t)}),t.ISO_8601=function(){};var Mi=K("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Ot.apply(null,arguments);return t<this?this:t}),Yi=K("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Ot.apply(null,arguments);return t>this?this:t});Pt("Z",":"),Pt("ZZ",""),I("Z",ti),I("ZZ",ti),N(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=xt(t)});var wi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Si=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ki=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Rt.fn=Gt.prototype;var Ti=Kt(1,"add"),bi=Kt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Oi=K("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Oe("gggg","weekYear"),Oe("ggggg","weekYear"),Oe("GGGG","isoWeekYear"),Oe("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),I("G",Kn),I("g",Kn),I("GG",$n,En),I("gg",$n,En),I("GGGG",Bn,qn),I("gggg",Bn,qn),I("GGGGG",Qn,Jn),I("ggggg",Qn,Jn),Z(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=_(t)}),Z(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),G("Q",0,0,"quarter"),S("quarter","Q"),I("Q",jn),N("Q",function(t,e){e[oi]=3*(_(t)-1)}),G("D",["DD",2],"Do","date"),S("date","D"),I("D",$n),I("DD",$n,En),I("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),N(["D","DD"],ai),N("Do",function(t,e){e[ai]=_(t.match($n)[0],10)});var Ui=b("Date",!0);G("d",0,"do","day"),G("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),G("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),G("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),I("d",$n),I("e",$n),I("E",$n),I("dd",ni),I("ddd",ni),I("dddd",ni),Z(["dd","ddd","dddd"],function(t,e,n){var i=n._locale.weekdaysParse(t);null!=i?e.d=i:u(n).invalidWeekday=t}),Z(["d","e","E"],function(t,e,n,i){e[i]=_(t)});var Wi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ci="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Gi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");G("H",["HH",2],0,"hour"),G("h",["hh",2],0,function(){return this.hours()%12||12}),je("a",!0),je("A",!1),S("hour","h"),I("a",Ee),I("A",Ee),I("H",$n),I("h",$n),I("HH",$n,En),I("hh",$n,En),N(["H","HH"],ui),N(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),N(["h","hh"],function(t,e,n){e[ui]=_(t),u(n).bigHour=!0});var Fi=/[ap]\.?m?\.?/i,Pi=b("Hours",!0);G("m",["mm",2],0,"minute"),S("minute","m"),I("m",$n),I("mm",$n,En),N(["m","mm"],di);var xi=b("Minutes",!1);G("s",["ss",2],0,"second"),S("second","s"),I("s",$n),I("ss",$n,En),N(["s","ss"],li);var Hi=b("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),S("millisecond","ms"),I("S",Rn,jn),I("SS",Rn,En),I("SSS",Rn,Vn);var Li;for(Li="SSSS";Li.length<=9;Li+="S")I(Li,Xn);for(Li="S";Li.length<=9;Li+="S")N(Li,Je);var Ii=b("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Ai=h.prototype;Ai.add=Ti,Ai.calendar=ee,Ai.clone=ne,Ai.diff=ae,Ai.endOf=ge,Ai.format=ce,Ai.from=he,Ai.fromNow=fe,Ai.to=me,Ai.toNow=_e,Ai.get=W,Ai.invalidAt=be,Ai.isAfter=ie,Ai.isBefore=re,Ai.isBetween=se,Ai.isSame=oe,Ai.isValid=ke,Ai.lang=Oi,Ai.locale=ye,Ai.localeData=pe,Ai.max=Yi,Ai.min=Mi,Ai.parsingFlags=Te,Ai.set=W,Ai.startOf=ve,Ai.subtract=bi,Ai.toArray=we,Ai.toObject=Se,Ai.toDate=Ye,Ai.toISOString=le,Ai.toJSON=le,Ai.toString=de,Ai.unix=Me,Ai.valueOf=De,Ai.year=gi,Ai.isLeapYear=at,Ai.weekYear=We,Ai.isoWeekYear=Ce,Ai.quarter=Ai.quarters=Pe,Ai.month=R,Ai.daysInMonth=B,Ai.week=Ai.weeks=ht,Ai.isoWeek=Ai.isoWeeks=ft,Ai.weeksInYear=Fe,Ai.isoWeeksInYear=Ge,Ai.date=Ui,Ai.day=Ai.days=ze,Ai.weekday=Ne,Ai.isoWeekday=Ze,Ai.dayOfYear=_t,Ai.hour=Ai.hours=Pi,Ai.minute=Ai.minutes=xi,Ai.second=Ai.seconds=Hi,Ai.millisecond=Ai.milliseconds=Ii,Ai.utcOffset=It,Ai.utc=zt,Ai.local=Nt,Ai.parseZone=Zt,Ai.hasAlignedHourOffset=jt,Ai.isDST=Et,Ai.isDSTShifted=Vt,Ai.isLocal=qt,Ai.isUtcOffset=Jt,Ai.isUtc=$t,Ai.isUTC=$t,Ai.zoneAbbr=$e,Ai.zoneName=Re,
Ai.dates=K("dates accessor is deprecated. Use date instead.",Ui),Ai.months=K("months accessor is deprecated. Use month instead",R),Ai.years=K("years accessor is deprecated. Use year instead",gi),Ai.zone=K("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",At);var zi=Ai,Ni={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Zi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ji=/\d{1,2}/,Ei={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Vi=p.prototype;Vi._calendar=Ni,Vi.calendar=Xe,Vi._longDateFormat=Zi,Vi.longDateFormat=Ke,Vi._invalidDate="Invalid date",Vi.invalidDate=tn,Vi._ordinal="%d",Vi.ordinal=en,Vi._ordinalParse=ji,Vi.preparse=nn,Vi.postformat=nn,Vi._relativeTime=Ei,Vi.relativeTime=rn,Vi.pastFuture=sn,Vi.set=on,Vi.months=V,Vi._months=hi,Vi.monthsShort=q,Vi._monthsShort=fi,Vi.monthsParse=J,Vi.week=dt,Vi._week=Di,Vi.firstDayOfYear=ct,Vi.firstDayOfWeek=lt,Vi.weekdays=He,Vi._weekdays=Wi,Vi.weekdaysMin=Ie,Vi._weekdaysMin=Gi,Vi.weekdaysShort=Le,Vi._weekdaysShort=Ci,Vi.weekdaysParse=Ae,Vi.isPM=Ve,Vi._meridiemParse=Fi,Vi.meridiem=qe,M("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=K("moment.lang is deprecated. Use moment.locale instead.",M),t.langData=K("moment.langData is deprecated. Use moment.localeData instead.",w);var qi=Math.abs,Ji=Sn("ms"),$i=Sn("s"),Ri=Sn("m"),Bi=Sn("h"),Qi=Sn("d"),Xi=Sn("w"),Ki=Sn("M"),tr=Sn("y"),er=Tn("milliseconds"),nr=Tn("seconds"),ir=Tn("minutes"),rr=Tn("hours"),sr=Tn("days"),or=Tn("months"),ar=Tn("years"),ur=Math.round,dr={s:45,m:45,h:22,d:26,M:11},lr=Math.abs,cr=Gt.prototype;return cr.abs=mn,cr.add=yn,cr.subtract=pn,cr.as=Yn,cr.asMilliseconds=Ji,cr.asSeconds=$i,cr.asMinutes=Ri,cr.asHours=Bi,cr.asDays=Qi,cr.asWeeks=Xi,cr.asMonths=Ki,cr.asYears=tr,cr.valueOf=wn,cr._bubble=gn,cr.get=kn,cr.milliseconds=er,cr.seconds=nr,cr.minutes=ir,cr.hours=rr,cr.days=sr,cr.weeks=bn,cr.months=or,cr.years=ar,cr.humanize=Cn,cr.toISOString=Gn,cr.toString=Gn,cr.toJSON=Gn,cr.locale=ye,cr.localeData=pe,cr.toIsoString=K("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gn),cr.lang=Oi,G("X",0,0,"unix"),G("x",0,0,"valueOf"),I("x",Kn),I("X",ei),N("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),N("x",function(t,e,n){n._d=new Date(_(t))}),t.version="2.10.6",function(t){Fn=t}(Ot),t.fn=zi,t.min=Wt,t.max=Ct,t.utc=o,t.unix=Be,t.months=dn,t.isDate=n,t.locale=M,t.invalid=l,t.duration=Rt,t.isMoment=f,t.weekdays=cn,t.parseZone=Qe,t.localeData=w,t.isDuration=Ft,t.monthsShort=ln,t.weekdaysMin=fn,t.defineLocale=Y,t.weekdaysShort=hn,t.normalizeUnits=k,t.relativeTimeThreshold=Wn,t});
function isIdCardNo(t){var e,s=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1),r=new Array("1","0","X","9","8","7","6","5","4","3","2"),n=new Array,a=0,o=t.length,l=t;if(15!=o&&18!=o)return!1;for(i=0;i<o;i++){if(n[i]=l.charAt(i),(n[i]<"0"||n[i]>"9")&&17!=i)return!1;i<17&&(n[i]=n[i]*s[i])}if(18==o){if(0==isDate8(l.substring(6,14)))return!1;for(i=0;i<17;i++)a+=n[i];if(e=r[a%11],n[17]!=e)return!1}else{if(0==isDate6(l.substring(6,12)))return!1}return!0}function isDate6(t){if(!/^[0-9]{6}$/.test(t))return!1;var e,i;return e=t.substring(0,4),i=t.substring(4,6),!(e<1700||e>2500)&&!(i<1||i>12)}function isDate8(t){if(!/^[0-9]{8}$/.test(t))return!1;var e,i,s;e=t.substring(0,4),i=t.substring(4,6),s=t.substring(6,8);var r=[31,28,31,30,31,30,31,31,30,31,30,31];return!(e<1700||e>2500)&&((e%4==0&&e%100!=0||e%400==0)&&(r[1]=29),!(i<1||i>12)&&!(s<1||s>r[i-1]))}!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(e){function s(){var s,r;return!i.settings.submitHandler||(i.submitButton&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&s.remove(),void 0!==r&&r)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i,s;return t(this[0]).is("form")?e=this.validate().form():(s=[],e=!0,i=t(this[0].form).validate(),this.each(function(){(e=i.element(this)&&e)||(s=s.concat(i.errorList))}),i.errorList=s),e},rules:function(e,i){var s,r,n,a,o,l,u=this[0];if(null!=u&&null!=u.form){if(e)switch(s=t.data(u.form,"validator").settings,r=s.rules,n=t.validator.staticRules(u),e){case"add":t.extend(n,t.validator.normalizeRule(i)),delete n.messages,r[u.name]=n,i.messages&&(s.messages[u.name]=t.extend(s.messages[u.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(e,i){l[i]=n[i],delete n[i],"required"===i&&t(u).removeAttr("aria-required")}),l):(delete r[u.name],n)}return a=t.validator.normalizeRules(t.extend({},t.validator.classRules(u),t.validator.attributeRules(u),t.validator.dataRules(u),t.validator.staticRules(u)),u),a.required&&(o=a.required,delete a.required,a=t.extend({required:o},a),t(u).attr("aria-required","true")),a.remote&&(o=a.remote,delete a.remote,a=t.extend(a,{remote:o})),a}}}),t.extend(t.expr.pseudos||t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var i=t(e).val();return null!==i&&!!t.trim(""+i)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:void 0===i?e:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){var s=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,s)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){!this.form&&this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0]);var i=t.data(this.form,"validator"),s="on"+e.type.replace(/^validate/,""),r=i.settings;r[s]&&!t(this).is(r.ignore)&&r[s].call(i,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,s=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){s[i]=e})}),i=this.settings.rules,t.each(i,function(e,s){i[e]=t.validator.normalizeRule(s)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i,s,r=this.clean(e),n=this.validationTargetFor(r),a=this,o=!0;return void 0===n?delete this.invalid[r.name]:(this.prepareElement(n),this.currentElements=t(n),s=this.groups[n.name],s&&t.each(this.groups,function(t,e){e===s&&t!==n.name&&(r=a.validationTargetFor(a.clean(a.findByName(t))))&&r.name in a.invalid&&(a.currentElements.push(r),o=a.check(r)&&o)}),i=!1!==this.check(n),o=o&&i,this.invalid[n.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!i)),o},showErrors:function(e){if(e){var i=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)t[e]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var s=this.name||t(this).attr("name");return!s&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0]),!(s in i||!e.objectLength(t(this).rules()))&&(i[s]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,s,r=t(e),n=e.type;return"radio"===n||"checkbox"===n?this.findByName(e.name).filter(":checked").val():"number"===n&&void 0!==e.validity?e.validity.badInput?"NaN":r.val():(i=e.hasAttribute("contenteditable")?r.text():r.val(),"file"===n?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(s=i.lastIndexOf("/"))>=0?i.substr(s+1):(s=i.lastIndexOf("\\"),s>=0?i.substr(s+1):i):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,s,r,n=t(e).rules(),a=t.map(n,function(t,e){return e}).length,o=!1,l=this.elementValue(e);if("function"==typeof n.normalizer){if("string"!=typeof(l=n.normalizer.call(e,l)))throw new TypeError("The normalizer should return a string value.");delete n.normalizer}for(s in n){r={method:s,parameters:n[s]};try{if("dependency-mismatch"===(i=t.validator.methods[s].call(this,l,e,r.parameters))&&1===a){o=!0;continue}if(o=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,r),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+r.method+"' method."),t}}if(!o)return this.objectLength(n)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){"string"==typeof i&&(i={method:i});var s=this.findDefined(this.customMessage(e.name,i.method),this.customDataMessage(e,i.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof s?s=s.call(this,i.parameters,e):r.test(s)&&(s=t.validator.format(s.replace(r,"{$1}"),i.parameters)),s},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s,r,n,a,o=this.errorsFor(e),l=this.idOrName(e),u=t(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(i)):(o=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),s=o,this.settings.wrapper&&(s=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(s):this.settings.errorPlacement?this.settings.errorPlacement.call(this,s,t(e)):s.insertAfter(e),o.is("label")?o.attr("for",l):0===o.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(n=o.attr("id"),u?u.match(new RegExp("\\b"+this.escapeCssMeta(n)+"\\b"))||(u+=" "+n):u=n,t(e).attr("aria-describedby",u),(r=this.groups[e.name])&&(a=this,t.each(a.groups,function(e,i){i===r&&t("[name='"+a.escapeCssMeta(e)+"']",a.currentForm).attr("aria-describedby",o.attr("id"))})))),!i&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var i=this.escapeCssMeta(this.idOrName(e)),s=t(e).attr("aria-describedby"),r="label[for='"+i+"'], label[for='"+i+"'] *";return s&&(r=r+", #"+this.escapeCssMeta(s).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,i){return!!t(e,i.form).length},function:function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,i){return i="string"==typeof i&&i||"remote",t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:i})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,s){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(s=Number(s),isNaN(s)&&(s=void 0)),s||0===s?t[i]=s:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,s,r={},n=t(e),a=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(s=e.getAttribute(i),""===s&&(s=!0),s=!!s):s=n.attr(i),this.normalizeAttributeRule(r,a,i,s);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var i,s,r={},n=t(e),a=e.getAttribute("type");for(i in t.validator.methods)s=n.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(r,a,i,s);return r},staticRules:function(e){var i={},s=t.data(e.form,"validator");return s.settings.rules&&(i=t.validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(s,r){if(!1===r)return void delete e[s];if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!t(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i)}n?e[s]=void 0===r.param||r.param:(t.data(i.form,"validator").resetElements(t(i)),delete e[s])}}),t.each(e,function(s,r){e[s]=t.isFunction(r)&&"normalizer"!==s?r(i):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,s){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==s?s:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,s){if(!this.depend(s,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=t(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(e,i)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||r>=s},maxlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||r<=s},rangelength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||r>=s[0]&&r<=s[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(e,i,s){var r,n=t(i).attr("type"),a="Step attribute on input type "+n+" is not supported.",o=["text","number","range"],l=new RegExp("\\b"+n+"\\b"),u=n&&!l.test(o.join()),h=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},d=function(t){return Math.round(t*Math.pow(10,r))},c=!0;if(u)throw new Error(a);return r=h(s),(h(e)>r||d(e)%d(s)!=0)&&(c=!1),this.optional(i)||c},equalTo:function(e,i,s){var r=t(s);return this.settings.onfocusout&&r.not(".validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(i).valid()}),e===r.val()},remote:function(e,i,s,r){if(this.optional(i))return"dependency-mismatch";r="string"==typeof r&&r||"remote";var n,a,o,l=this.previousValue(i,r);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][r],this.settings.messages[i.name][r]=l.message,s="string"==typeof s&&{url:s}||s,o=t.param(t.extend({data:e},s.data)),l.old===o?l.valid:(l.old=o,n=this,this.startRequest(i),a={},a[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:a,context:n.currentForm,success:function(t){t=t.success;var s,a,o,u=!0===t||"true"===t;n.settings.messages[i.name][r]=l.originalMessage,u?(o=n.formSubmitted,n.resetInternals(),n.toHide=n.errorsFor(i),n.formSubmitted=o,n.successList.push(i),n.invalid[i.name]=!1,n.showErrors()):(s={},a=t||n.defaultMessage(i,{method:r,parameters:e}),s[i.name]=l.message=a,n.invalid[i.name]=!0,n.showErrors(s)),l.valid=u,n.stopRequest(i,u)}},s)),"pending")}}});var e,i={};return t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,s){var r=t.port;"abort"===t.mode&&(i[r]&&i[r].abort(),i[r]=s)}):(e=t.ajax,t.ajax=function(s){var r=("mode"in s?s:t.ajaxSettings).mode,n=("port"in s?s:t.ajaxSettings).port;return"abort"===r?(i[n]&&i[n].abort(),i[n]=e.apply(this,arguments),i[n]):e.apply(this,arguments)}),t}),function(t){"function"==typeof define&&define.amd?define(["jquery","../jquery.validate"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){return t.extend(t.validator.messages,{required:"这是必填字段",remote:"请修正此字段",email:"请输入有效的电子邮件地址",url:"请输入有效的网址",date:"请输入有效的日期",dateISO:"请输入有效的日期 (YYYY-MM-DD)",number:"请输入有效的数字",digits:"只能输入数字",creditcard:"请输入有效的信用卡号码",equalTo:"你的输入不相同",extension:"请输入有效的后缀",maxlength:t.validator.format("最多可以输入 {0} 个字符"),minlength:t.validator.format("最少要输入 {0} 个字符"),rangelength:t.validator.format("请输入长度在 {0} 到 {1} 之间的字符串"),range:t.validator.format("请输入范围在 {0} 到 {1} 之间的数值"),max:t.validator.format("请输入不大于 {0} 的数值"),min:t.validator.format("请输入不小于 {0} 的数值")}),t}),jQuery.validator.addMethod("isIdCardNo",function(t,e){return this.optional(e)||isIdCardNo(t)},"请正确输入您的身份证号码"),jQuery.validator.addMethod("isMobile",function(t,e){var i=t.length,s=/^(13[0-9]{9})|(18[0-9]{9})|(14[0-9]{9})|(17[0-9]{9})|(15[0-9]{9})$/;return this.optional(e)||11==i&&s.test(t)},"请正确填写您的手机号码");
!function(e){e.fn.zclip=function(t){if("object"==typeof t&&!t.length){var i=e.extend({},ZeroClipboard.defaults,t);return this.each(function(){var t=e(this);if(t.is(":visible")&&("string"==typeof i.copy||e.isFunction(i.copy))){ZeroClipboard.setMoviePath(i.path);var s=new ZeroClipboard.Client;e.isFunction(i.copy)&&t.bind("zClip_copy",i.copy),e.isFunction(i.beforeCopy)&&t.bind("zClip_beforeCopy",i.beforeCopy),e.isFunction(i.afterCopy)&&t.bind("zClip_afterCopy",i.afterCopy),s.setHandCursor(i.setHandCursor),s.setCSSEffects(i.setCSSEffects),s.addEventListener("mouseOver",function(e){t.trigger("mouseenter")}),s.addEventListener("mouseOut",function(e){t.trigger("mouseleave")}),s.addEventListener("mouseDown",function(o){t.trigger("mousedown"),e.isFunction(i.beforeCopy)&&t.trigger("zClip_beforeCopy"),e.isFunction(i.copy)?s.setText(t.triggerHandler("zClip_copy")):s.setText(i.copy)}),s.addEventListener("complete",function(s,o){e.isFunction(i.afterCopy)?t.trigger("zClip_afterCopy"):(o.length>500&&(o=o.substr(0,500)+"...\n\n("+(o.length-500)+" characters not shown)"),t.removeClass("hover"),alert("Copied text to clipboard:\n\n "+o)),i.clickAfter&&t.trigger("click")}),s.glue(t[0],t.parent()[0]),e(window).bind("load resize",function(){s.reposition()})}})}if("string"==typeof t)return this.each(function(){var i=e(this);t=t.toLowerCase();var s=i.data("zclipId"),o=e("#"+s+".zclip"),n=o.attr("id").replace(/^.*_/g,"")||null;"remove"==t?(o.remove(),i.removeClass("active hover"),i.unbind("zClip_copy"),i.unbind("zClip_beforeCopy"),i.unbind("zClip_afterCopy"),ZeroClipboard.unregister(n)):"hide"==t?(o.hide(),i.removeClass("active hover")):"show"==t&&o.show()})}}(jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,defaults:{path:"ZeroClipboard.swf",clickAfter:!0,setHandCursor:!0,setCSSEffects:!0,copy:null,beforeCopy:null,afterCopy:null},jQuery:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){for(var t=this.className.split(/\s+/),i=-1,s=0;s<t.length;s++)t[s]==e&&(i=s,s=t.length);return i>-1&&(t.splice(i,1),this.className=t.join(" ")),this},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,i){var s=this.clients[e];s&&s.receiveEvent(t,i)},register:function(e,t){this.clients[e]=t},unregister:function(e){"number"==typeof e&&this.clients.hasOwnProperty(e)&&delete this.clients[e]},getDOMObjectPosition:function(e,t){var i={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};return e&&e!=t&&(i.left+=e.offsetLeft,i.top+=e.offsetTop),i},Client:function(e){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),e&&this.glue(e)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(e,t,i){this.domElement=ZeroClipboard.jQuery(e);var s=99;this.domElement.style.zIndex&&(s=parseInt(this.domElement.style.zIndex,10)+1),"string"==typeof t?t=ZeroClipboard.jQuery(t):void 0===t&&(t=document.getElementsByTagName("body")[0]);var o=ZeroClipboard.getDOMObjectPosition(this.domElement,t);this.div=document.createElement("div"),this.div.className="zclip",this.div.id="zclip-"+this.movieId,jQuery(this.domElement).data("zclipId","zclip-"+this.movieId);var n=this.div.style;if(n.position="absolute",n.left=o.left+"px",n.top=o.top+"px",n.width=o.width+"px",n.height=o.height+"px",n.zIndex=s,"object"==typeof i)for(var a in i)n[a]=i[a];t.appendChild(this.div),this.div.innerHTML=this.getHTML(o.width,o.height)},getHTML:function(e,t){var i="",s="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){i+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+(location.href.match(/^https/i)?"https://":"http://")+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+s+'"/><param name="wmode" value="transparent"/></object>'}else i+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+s+'" wmode="transparent" />';return i},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=document.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(e){}this.domElement=null,this.div=null}},reposition:function(e){if(e&&(this.domElement=ZeroClipboard.jQuery(e),this.domElement||this.hide()),this.domElement&&this.div){var t=ZeroClipboard.getDOMObjectPosition(this.domElement),i=this.div.style;i.left=t.left+"px",i.top=t.top+"px"}},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,t){switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":this.movie=document.getElementById(this.movieId);var i=this;if(!this.movie)return void setTimeout(function(){i.receiveEvent("load",null)},1);if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/))return setTimeout(function(){i.receiveEvent("load",null)},100),void(this.ready=!0);this.ready=!0;try{this.movie.setText(this.clipText)}catch(e){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(e){}break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var s=0,o=this.handlers[e].length;s<o;s++){var n=this.handlers[e][s];jQuery.isFunction(n)?n(this,t):"object"==typeof n&&2==n.length?n[0][n[1]](this,t):"string"==typeof n&&window[n](this,t)}}};
var seDialog={close:function(){$(".pe-box-wrap").remove(),$(".pe-exam-mask").remove()},comfire:function(e){var t={title:"",content:"",btn:["取消","确定"],btnBlueR:!0,okBtn:function(){},cancelBtn:function(){},onLoad:function(){}};$.extend(t,e);var n='<div class="pe-exam-mask"></div><div class="pe-box-wrap pe-simple-editor-wrap"><i class="iconfont pe-box-close">&#xe643;</i><h3 class="pe-box-title">'+t.title+'</h3><div class="pe-box-contain pe-editor-box-contain"></div>';if(t.btnBlueR)var a='<div class="btns-wrap"><button class="pe-btn pe-btn-purple pe-box-known se-upload-cancel">'+t.btn[0]+'</button><button class="pe-btn pe-btn-blue pe-box-known se-upload-ok">'+t.btn[1]+"</button></div>";else var a='<div class="btns-wrap"><button class="pe-btn  pe-btn-blue  pe-box-known se-upload-cancel">'+t.btn[0]+'</button><button class="pe-btn pe-btn-purple pe-box-known se-upload-ok">'+t.btn[1]+"</button></div>";var o=n+a+"</div>";$("body").append(o),$(".pe-box-wrap .pe-editor-box-contain").load(t.content),$(".se-upload-ok").click(function(e){var e=e||window.event;e.stopPropagation(),t.okBtn(),seDialog.close()}),$(".se-upload-cancel").click(function(e){var e=e||window.event;t.cancelBtn(),seDialog.close()}),$(".pe-box-close").click(function(){seDialog.close()}),t.onLoad()}};!function(e){function t(t){return e(t)}function n(e){o(e),c(e),a(e)}function a(t){var n=e.data(t,"peEditor");e("#"+n.options.name).delegate(".image-upload","click",function(){var t=e(this),n=t.parents(".pe-simple-editor").find(".editor-content-wrap").attr("id");seDialog.comfire({title:"上传图片",content:pageContext.rootPath+"/ems/item/initUploadImage",okBtn:function(){var t=e('input[name="uploadState"]').val(),a=e('input[name="uploadImageUrl"]').val(),o=e('input[name="uploadImageAlt"]').val(),i=e('input[name="imageId"]').val();seDialog.close(),"success"===t.toLowerCase()&&a&&r(n,'<img class="upload-img" title="点击定位图片" data-id="'+i+'" height="20" alt="'+o+'" src="'+pageContext.resourcePath+'/web-static/proExam/images/default-image.png" data-src="'+a+'" />')}})}),e("#"+n.options.name).delegate(".audio-upload","click",function(){var t=e(this),n=t.parents(".pe-simple-editor").find(".editor-content-wrap").attr("id");seDialog.comfire({title:"上传音频",content:pageContext.rootPath+"/ems/item/initUploadAudio",okBtn:function(){var t=e('input[name="uploadState"]').val(),a=e('input[name="audioId"]').val();if("success"===t.toLowerCase()){var o='<img style="margin-right:6px;" data-id="'+a+'" class="image-audio" height="20" width="20" alt="音频图标" src="'+pageContext.resourcePath+'/web-static/proExam/images/default-music.png"/>';r(n,o)}},cancelBtn:function(){},onLoad:function(){}})}),e("#"+n.options.name).delegate(".video-upload","click",function(){var t=e(this),n=t.parents(".pe-simple-editor").find(".editor-content-wrap").attr("id");seDialog.comfire({title:"上传视频",content:pageContext.rootPath+"/ems/item/initUploadVideo",okBtn:function(){var t=e('input[name="uploadState"]').val(),a=e('input[name="videoId"]').val();if("success"===t.toLowerCase()){var o='<img style="margin-right:6px;" data-id="'+a+'" class="image-video" height="20" width="20" alt="视频图标" src="'+pageContext.resourcePath+'/web-static/proExam/images/default-video.png"/>';r(n,o)}},cancelBtn:function(){},onLoad:function(){}})}),e("#"+n.options.name).delegate(".view-big-window","click",function(){var t=e(this).parents(".pe-simple-editor");t.hasClass("big-view-states")?(e(this).removeClass("icon-cancel-fullscreen").addClass("icon-start-fullscreen"),t.removeClass("big-view-states"),t.find(".editor-content-wrap").height(n.options.initFrameHeight-20),t.find(".editor-content-wrap").width(n.options.initFrameWidth-30)):(e(this).removeClass("icon-start-fullscreen").addClass("icon-cancel-fullscreen"),t.addClass("big-view-states"),t.find(".editor-content-wrap").width(t.width()-30),t.find(".editor-content-wrap").height(t.height()-40))}),e("#"+n.options.name).delegate(".upload-img","mouseover",function(t){var t=t||window.event;t.stopPropagation();var n=e(this),a=e(".editor-real-img-wrap"),o=n.attr("data-src"),s=n.offset().left-30,l=n.offset().top-120;a.css({top:l,left:s}),i(a),a.find(".real-img").attr("src",o)}),e("#"+n.options.name).delegate(".upload-img","mouseout",function(t){var t=t||window.event;t.stopPropagation(),clearInterval(u),e(".editor-real-img-wrap").hide()})}function o(t){for(var n=e.data(t,"peEditor"),a='<div class="container-content-title"><div class="self-toolbar-left">'+n.options.toolLeftContent+'</div><div class="self-toolbar-left insert-fill-blank"><span class="iconfont icon-insert-blank"></span>插入空格</div>',o="",i=n.options.toolBar,s=0,l=i.length;s<l;s++){for(var r='<ul class="over-flow-hide single-item-wrap">',c=0,p=i[s].length;c<p;c++)switch(i[s][c]){case"image":r+='<li class="floatL"><a href="javascript:;" title="上传图片" class="tool-btn image-upload iconfont icon-picture-icon"></a></li>';break;case"video":r+='<li class="floatL"><a href="javascript:;" title="上传视频" class="tool-btn video-upload iconfont  icon-pe-video"></a></li>';break;case"music":r+='<li class="floatL"><a href="javascript:;" title="上传音频" class="tool-btn audio-upload iconfont  icon-pe-audio"></a></li>';break;case"magnify":r+='<li class="floatL"><a href="javascript:;" title="放大查看" class="tool-btn view-big-window iconfont  icon-start-fullscreen"></a></li>'}o+='<li class="tool-cate-item floatL">'+r+"</ul></li>"}var u=a+o+"</ul>";d.append(u)}function i(e){function t(){i.html("."),o.addClass("one-point")}function n(){i.html(".."),o.addClass("two-point")}function a(){i.html("..."),o.addClass("three-point")}var o=e.find(".img-loading"),i=e.find(".img-loading").find("span");e.show(),e.find(".real-img")[0].onload=function(){clearInterval(u),o.hide(),e.width("auto"),e.find(".real-img").show()},u=setInterval(function(){o.hasClass("one-point")?(o.removeClass("one-point"),n()):o.hasClass("two-point")?(o.removeClass("two-point"),a()):o.hasClass("three-point")&&(o.removeClass("one-point"),t())},500)}function s(e,t){var n,a;if(window.getSelection){if(n=window.getSelection(),n.getRangeAt&&n.rangeCount){a=n.getRangeAt(0),a.deleteContents();var o=document.createElement("div");o.innerHTML=e;for(var i,s,l=document.createDocumentFragment();i=o.firstChild;)s=l.appendChild(i);var r=l.firstChild;a.insertNode(l),s&&(a=a.cloneRange(),a.setStartAfter(s),t?a.setStartBefore(r):a.collapse(!0),n.removeAllRanges(),n.addRange(a))}}else if((n=document.selection)&&"Control"!=n.type){var c=n.createRange();c.collapse(!0),n.createRange().pasteHTML(e),t&&(a=n.createRange(),a.setEndPoint("StartToStart",c),a.select())}else document.execCommand("InsertHtml","",e)}function l(e){if(e.focus(),window.getSelection){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else{var a;e.focus(),a=document.selection.createRange(),a.moveStart("character",-e.innerText.length);for(var o=a.text,i=0;i<e.innerText.length;i++)e.innerText.substring(0,i+1)==o.substring(o.length-i-1,o.length)&&i+1}}function r(e,t){navigator.userAgent.toLowerCase();l(document.getElementById(e)),s(t,!1)}function c(t){function n(e){try{document.execCommand("AutoUrlDetect",!1,!1)}catch(e){}setTimeout(function(){var t=e.html(),n=["br"];t=t.replace(/_moz_dirty=""/gi,"").replace(/\[/g,"[[-").replace(/\]/g,"-]]").replace(/<\/ ?tr[^>]*>/gi,"").replace(/<\/ ?td[^>]*>/gi,"&nbsp;&nbsp;").replace(/<(ul|dl|ol)[^>]*>/gi,"").replace(/<(li|dd)[^>]*>/gi,"").replace(/<p [^>]*>/gi,"").replace(new RegExp("<(/?(?:"+n.join("|")+")[^>]*)>","gi"),"[$1]").replace(new RegExp('<span([^>]*class="?at"?[^>]*)>',"gi"),"[span$1]").replace(/<[^>]*>/g,"").replace(/\[\[\-/g,"[").replace(/\-\]\]/g,"]").replace(new RegExp("\\[(/?(?:"+n.join("|")+"|img|span)[^\\]]*)\\]","gi"),"<$1>"),/firefox/.test(navigator.userAgent.toLowerCase())||(t=t.replace(/\r?\n/gi,"")),e.html(t)},1)}var a=e.data(t,"peEditor");p++;var o='<div id="peEditor_'+p+'" class="editor-content-wrap"  contenteditable="true" style="height:'+(a.options.initFrameHeight-20)+"px;width:"+(a.options.initFrameWidth-30)+'px;">'+a.options.initContent+"</div>",i=o;d.append(i),a.options.onLoad.call({dom:a.peEditor},a);d.find("[contenteditable]").on("paste",function(t){var t=t||window.event;t.stopPropagation(),n(e(this))})}var d="",p=0;!function(){e("body").append('<div class="editor-real-img-wrap"><img alt="" src="" class="real-img" height="100%"/><span class="img-loading one-point">loading<span>...</span></span></div>')}();var u;e.fn.peEditor=function(a,o,i){return"string"==typeof a?e.fn.peEditor.methods[a](this,o,i):(a=a||{},this.each(function(){var o,i=e.data(this,"peEditor");i?o=e.extend(i.options,a):(o=o=e.extend({},e.fn.peEditor.defaults,a),i=e.data(this,"peEditor",{options:o,peEditor:t(this),isLoaded:!1})),d=e("#"+o.name),n(this)}))},e.fn.peEditor.methods={getContent:function(t){var n=e.trim(e(t).find(".editor-content-wrap").html());return n=n.replace(/<(div|p)>/gi,""),n=n.replace(/<\/(div|p)>/gi,"<br/>")},hasContent:function(t){return e.trim(e(t).find(".editor-content-wrap").html()).replace(/<br>/,"")},setContent:function(t,n){e(t).find(".editor-content-wrap").html(n)},insertHtml:function(t,n){r(e(t).find(".editor-content-wrap").attr("id"),n)}},e.fn.peEditor.defaults={name:"peEditor",initFrameWidth:788,initFrameHeight:122,toolLeftContent:"",cls:"",baseUrl:pageContext.rootPath,imageUrl:"",videoUrl:"",audioUrl:"",initContent:"",toolBar:[["image","video","music","magnify"]],autoHeightEnabled:!1,onLoad:function(){}}}(jQuery);